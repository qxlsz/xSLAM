import{r as Im,c as z1,R as ul,a as de,u as pa,s as R1,b as lr,d as Qm,g as B1,e as L1,f as N1,h as ff,i as Lu,j as tm}from"./fiber-B5OO0akA.js";import{D as bu,j as hf,f as dt,k as fi,M as hl,I as G1,l as dl,m as Km,n as am,Q as nm,O as Du,g as ua,P as kc,o as Pl,p as $l,q as k1,r as H1,s as Wm,H as on,F as Vn,t as ar,u as Ja,e as no,v as F1,w as Jm,x as im,y as $c,z as nr,E as j1,G as lo,J as df,K as Nu,X as ef,Y as hi,Z as V1,_ as vf,$ as mf,C as wn,a0 as Y1,a1 as X1,a2 as Z1,a3 as q1,a4 as Pm,a5 as I1,a6 as sl,a7 as Q1,a8 as ro,a9 as K1,aa as $m,ab as W1,ac as pf,ad as J1,N as P1,ae as $1,af as eg,ag as tg,ah as ag,ai as Hi,S as e0,aj as Gu,W as ng,ak as ig,L as tf,al as lg,am as rg,an as og,ao as ug,U as af,ap as sg,aq as cg,ar as lm,c as fg,as as Ou,at as hg,au as dg,av as vg,aw as mg,ax as pg}from"./three-DwezJHtP.js";var Hc={exports:{}},Ir={},Fc={exports:{}},jc={};var rm;function gg(){return rm||(rm=1,(function(f){function i(x,ae){var ve=x.length;x.push(ae);e:for(;0<ve;){var ie=ve-1>>>1,Q=x[ie];if(0<r(Q,ae))x[ie]=ae,x[ve]=Q,ve=ie;else break e}}function s(x){return x.length===0?null:x[0]}function o(x){if(x.length===0)return null;var ae=x[0],ve=x.pop();if(ve!==ae){x[0]=ve;e:for(var ie=0,Q=x.length,z=Q>>>1;ie<z;){var H=2*(ie+1)-1,Z=x[H],P=H+1,ee=x[P];if(0>r(Z,ve))P<Q&&0>r(ee,Z)?(x[ie]=ee,x[P]=ve,ie=P):(x[ie]=Z,x[H]=ve,ie=H);else if(P<Q&&0>r(ee,ve))x[ie]=ee,x[P]=ve,ie=P;else break e}}return ae}function r(x,ae){var ve=x.sortIndex-ae.sortIndex;return ve!==0?ve:x.id-ae.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;f.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();f.unstable_now=function(){return d.now()-m}}var h=[],v=[],p=1,y=null,S=3,E=!1,A=!1,U=!1,w=!1,X=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function C(x){for(var ae=s(v);ae!==null;){if(ae.callback===null)o(v);else if(ae.startTime<=x)o(v),ae.sortIndex=ae.expirationTime,i(h,ae);else break;ae=s(v)}}function L(x){if(U=!1,C(x),!A)if(s(h)!==null)A=!0,k||(k=!0,N());else{var ae=s(v);ae!==null&&pe(L,ae.startTime-x)}}var k=!1,F=-1,M=5,V=-1;function q(){return w?!0:!(f.unstable_now()-V<M)}function Se(){if(w=!1,k){var x=f.unstable_now();V=x;var ae=!0;try{e:{A=!1,U&&(U=!1,j(F),F=-1),E=!0;var ve=S;try{t:{for(C(x),y=s(h);y!==null&&!(y.expirationTime>x&&q());){var ie=y.callback;if(typeof ie=="function"){y.callback=null,S=y.priorityLevel;var Q=ie(y.expirationTime<=x);if(x=f.unstable_now(),typeof Q=="function"){y.callback=Q,C(x),ae=!0;break t}y===s(h)&&o(h),C(x)}else o(h);y=s(h)}if(y!==null)ae=!0;else{var z=s(v);z!==null&&pe(L,z.startTime-x),ae=!1}}break e}finally{y=null,S=ve,E=!1}ae=void 0}}finally{ae?N():k=!1}}}var N;if(typeof D=="function")N=function(){D(Se)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Y=J.port2;J.port1.onmessage=Se,N=function(){Y.postMessage(null)}}else N=function(){X(Se,0)};function pe(x,ae){F=X(function(){x(f.unstable_now())},ae)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(x){x.callback=null},f.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<x?Math.floor(1e3/x):5},f.unstable_getCurrentPriorityLevel=function(){return S},f.unstable_next=function(x){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var ve=S;S=ae;try{return x()}finally{S=ve}},f.unstable_requestPaint=function(){w=!0},f.unstable_runWithPriority=function(x,ae){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ve=S;S=x;try{return ae()}finally{S=ve}},f.unstable_scheduleCallback=function(x,ae,ve){var ie=f.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ie+ve:ie):ve=ie,x){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ve+Q,x={id:p++,callback:ae,priorityLevel:x,startTime:ve,expirationTime:Q,sortIndex:-1},ve>ie?(x.sortIndex=ve,i(v,x),s(h)===null&&x===s(v)&&(U?(j(F),F=-1):U=!0,pe(L,ve-ie))):(x.sortIndex=Q,i(h,x),A||E||(A=!0,k||(k=!0,N()))),x},f.unstable_shouldYield=q,f.unstable_wrapCallback=function(x){var ae=S;return function(){var ve=S;S=ae;try{return x.apply(this,arguments)}finally{S=ve}}}})(jc)),jc}var om;function yg(){return om||(om=1,Fc.exports=gg()),Fc.exports}var Vc={exports:{}},Ha={};var um;function bg(){if(um)return Ha;um=1;var f=Im();function i(h){var v="https://react.dev/errors/"+h;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(h,v,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:v,implementation:p}}var d=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,v){if(h==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ha.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ha.createPortal=function(h,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return l(h,v,null,p)},Ha.flushSync=function(h){var v=d.T,p=o.p;try{if(d.T=null,o.p=2,h)return h()}finally{d.T=v,o.p=p,o.d.f()}},Ha.preconnect=function(h,v){typeof h=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(h,v))},Ha.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},Ha.preinit=function(h,v){if(typeof h=="string"&&v&&typeof v.as=="string"){var p=v.as,y=m(p,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?o.d.S(h,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:E}):p==="script"&&o.d.X(h,{crossOrigin:y,integrity:S,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ha.preinitModule=function(h,v){if(typeof h=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=m(v.as,v.crossOrigin);o.d.M(h,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(h)},Ha.preload=function(h,v){if(typeof h=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,y=m(p,v.crossOrigin);o.d.L(h,p,{crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ha.preloadModule=function(h,v){if(typeof h=="string")if(v){var p=m(v.as,v.crossOrigin);o.d.m(h,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(h)},Ha.requestFormReset=function(h){o.d.r(h)},Ha.unstable_batchedUpdates=function(h,v){return h(v)},Ha.useFormState=function(h,v,p){return d.H.useFormState(h,v,p)},Ha.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ha.version="19.2.0",Ha}var sm;function Sg(){if(sm)return Vc.exports;sm=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(i){console.error(i)}}return f(),Vc.exports=bg(),Vc.exports}var cm;function _g(){if(cm)return Ir;cm=1;var f=yg(),i=Im(),s=Sg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(o(188))}function v(e){var t=e.alternate;if(!t){if(t=l(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,n=t;;){var u=a.return;if(u===null)break;var c=u.alternate;if(c===null){if(n=u.return,n!==null){a=n;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===a)return h(u),e;if(c===n)return h(u),t;c=c.sibling}throw Error(o(188))}if(a.return!==n.return)a=u,n=c;else{for(var g=!1,_=u.child;_;){if(_===a){g=!0,a=u,n=c;break}if(_===n){g=!0,n=u,a=c;break}_=_.sibling}if(!g){for(_=c.child;_;){if(_===a){g=!0,a=c,n=u;break}if(_===n){g=!0,n=c,a=u;break}_=_.sibling}if(!g)throw Error(o(189))}}if(a.alternate!==n)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),D=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case X:return"Profiler";case w:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case D:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var pe=Array.isArray,x=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ie=[],Q=-1;function z(e){return{current:e}}function H(e){0>Q||(e.current=ie[Q],ie[Q]=null,Q--)}function Z(e,t){Q++,ie[Q]=e.current,e.current=t}var P=z(null),ee=z(null),se=z(null),ce=z(null);function ge(e,t){switch(Z(se,t),Z(ee,e),Z(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Av(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Av(t),e=Mv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(P),Z(P,e)}function Oe(){H(P),H(ee),H(se)}function He(e){e.memoizedState!==null&&Z(ce,e);var t=P.current,a=Mv(t,e.type);t!==a&&(Z(ee,e),Z(P,a))}function Ue(e){ee.current===e&&(H(P),H(ee)),ce.current===e&&(H(ce),Yr._currentValue=ve)}var _e,lt;function Ze(e){if(_e===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);_e=t&&t[1]||"",lt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+e+lt}var Be=!1;function je(e,t){if(!e||Be)return"";Be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(le){var $=le}Reflect.construct(e,[],ye)}else{try{ye.call()}catch(le){$=le}e.call(ye.prototype)}}else{try{throw Error()}catch(le){$=le}(ye=e())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(le){if(le&&$&&typeof le.stack=="string")return[le.stack,$.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),g=c[0],_=c[1];if(g&&_){var O=g.split(`
`),W=_.split(`
`);for(u=n=0;n<O.length&&!O[n].includes("DetermineComponentFrameRoot");)n++;for(;u<W.length&&!W[u].includes("DetermineComponentFrameRoot");)u++;if(n===O.length||u===W.length)for(n=O.length-1,u=W.length-1;1<=n&&0<=u&&O[n]!==W[u];)u--;for(;1<=n&&0<=u;n--,u--)if(O[n]!==W[u]){if(n!==1||u!==1)do if(n--,u--,0>u||O[n]!==W[u]){var fe=`
`+O[n].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=n&&0<=u);break}}}finally{Be=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ze(a):""}function Ke(e,t){switch(e.tag){case 26:case 27:case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return e.child!==t&&t!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return je(e.type,!1);case 11:return je(e.type.render,!1);case 1:return je(e.type,!0);case 31:return Ze("Activity");default:return""}}function xe(e){try{var t="",a=null;do t+=Ke(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Fe=Object.prototype.hasOwnProperty,Ge=f.unstable_scheduleCallback,be=f.unstable_cancelCallback,rt=f.unstable_shouldYield,Re=f.unstable_requestPaint,Ce=f.unstable_now,ze=f.unstable_getCurrentPriorityLevel,bt=f.unstable_ImmediatePriority,Ye=f.unstable_UserBlockingPriority,ke=f.unstable_NormalPriority,We=f.unstable_LowPriority,ot=f.unstable_IdlePriority,Ot=f.log,Gt=f.unstable_setDisableYieldValue,at=null,Le=null;function Ne(e){if(typeof Ot=="function"&&Gt(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(at,e)}catch{}}var B=Math.clz32?Math.clz32:qe,me=Math.log,De=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(me(e)/De|0)|0}var re=256,it=262144,$t=4194304;function mt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var u=0,c=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var _=n&134217727;return _!==0?(n=_&~c,n!==0?u=mt(n):(g&=_,g!==0?u=mt(g):a||(a=_&~e,a!==0&&(u=mt(a))))):(_=n&~c,_!==0?u=mt(_):g!==0?u=mt(g):a||(a=n&~e,a!==0&&(u=mt(a)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:u}function gt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function yt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var e=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),e}function Et(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function kt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qt(e,t,a,n,u,c){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,O=e.expirationTimes,W=e.hiddenUpdates;for(a=g&~a;0<a;){var fe=31-B(a),ye=1<<fe;_[fe]=0,O[fe]=-1;var $=W[fe];if($!==null)for(W[fe]=null,fe=0;fe<$.length;fe++){var le=$[fe];le!==null&&(le.lane&=-536870913)}a&=~ye}n!==0&&ea(e,n,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(g&~t))}function ea(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-B(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Ra(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-B(a),u=1<<n;u&t|e[n]&t&&(e[n]|=t),a&=~u}}function Ba(e,t){var a=t&-t;return a=(a&42)!==0?1:ja(a),(a&(e.suspendedLanes|t))!==0?0:a}function ja(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function La(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:Qv(e.type))}function ut(e,t){var a=ae.p;try{return ae.p=e,t()}finally{ae.p=a}}var Xt=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Xt,b="__reactProps$"+Xt,T="__reactContainer$"+Xt,R="__reactEvents$"+Xt,te="__reactListeners$"+Xt,oe="__reactHandles$"+Xt,ue="__reactResources$"+Xt,Te="__reactMarker$"+Xt;function Ee(e){delete e[Zt],delete e[b],delete e[R],delete e[te],delete e[oe]}function Ae(e){var t=e[Zt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[T]||a[Zt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=zv(e);e!==null;){if(a=e[Zt])return a;e=zv(e)}return t}e=a,a=e.parentNode}return null}function Me(e){if(e=e[Zt]||e[T]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function we(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ne(e){var t=e[ue];return t||(t=e[ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[Te]=!0}var Ie=new Set,Xe={};function Je(e,t){ct(e,t),ct(e+"Capture",t)}function ct(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ie.add(t[e])}var Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ut={},qt={};function fa(e){return Fe.call(qt,e)?!0:Fe.call(Ut,e)?!1:Ct.test(e)?qt[e]=!0:(Ut[e]=!0,!1)}function Tt(e,t,a){if(fa(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ba(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function pt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _n(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aa(e){if(!e._valueTracker){var t=Sa(e)?"checked":"value";e._valueTracker=_n(e,t,""+e[t])}}function Dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Sa(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nt=/[\n"\\]/g;function $e(e){return e.replace(Nt,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _a(e,t,a,n,u,c,g,_){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?na(e,g,wt(t)):a!=null?na(e,g,wt(a)):n!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+wt(_):e.removeAttribute("name")}function Va(e,t,a,n,u,c,g,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){aa(e);return}a=a!=null?""+wt(a):"",t=t!=null?""+wt(t):a,_||t===e.value||(e.value=t),e.defaultValue=t}n=n??u,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=_?e.checked:!!n,e.defaultChecked=!!n,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),aa(e)}function na(e,t,a){t==="number"&&Kt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ea(e,t,a,n){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&n&&(e[a].defaultSelected=!0)}else{for(a=""+wt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,n&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ji(e,t,a){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+wt(a):""}function Vi(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(o(92));if(pe(n)){if(1<n.length)throw Error(o(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=wt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),aa(e)}function Dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function or(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||co.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function vl(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var u in t)n=t[u],t.hasOwnProperty(u)&&a[u]!==n&&or(e,u,n)}else for(var c in t)t.hasOwnProperty(c)&&or(e,c,t[c])}function Yn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ml=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function En(e){return ml.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Na(){}var Xn=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,On=null;function gl(e){var t=Me(e);if(t&&(e=t.stateNode)){var a=e[b]||null;e:switch(e=t.stateNode,t.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var u=n[b]||null;if(!u)throw Error(o(90));_a(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Dt(n)}break e;case"textarea":ji(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ea(e,!!a.multiple,t,!1)}}}var yl=!1;function Yi(e,t,a){if(yl)return e(t,a);yl=!0;try{var n=e(t);return n}finally{if(yl=!1,(un!==null||On!==null)&&(Jo(),un&&(t=un,e=On,On=un=null,gl(t),e)))for(t=0;t<e.length;t++)gl(e[t])}}function Zn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[b]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(sn)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Ya=!1}var Tn=null,bl=null,di=null;function ur(){if(di)return di;var e,t=bl,a=t.length,n,u="value"in Tn?Tn.value:Tn.textContent,c=u.length;for(e=0;e<a&&t[e]===u[e];e++);var g=a-e;for(n=1;n<=g&&t[a-n]===u[c-n];n++);return di=u.slice(e,1<n?1-n:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function vi(){return!1}function ia(e){function t(a,n,u,c,g){this._reactName=a,this._targetInst=u,this.type=n,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Cn:vi,this.isPropagationStopped=vi,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ia(zn),In=y({},zn,{view:0,detail:0}),Zi=ia(In),Sl,Qn,Kn,Ta=y({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(Sl=e.screenX-Kn.screenX,Qn=e.screenY-Kn.screenY):Qn=Sl=0,Kn=e),Sl)},movementY:function(e){return"movementY"in e?e.movementY:Qn}}),ho=ia(Ta),_l=y({},Ta,{dataTransfer:0}),El=ia(_l),vo=y({},In,{relatedTarget:0}),sr=ia(vo),Ga=y({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=ia(Ga),ka=y({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rn=ia(ka),mo=y({},zn,{data:0}),wf=ia(mo),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j0[e])?!!t[e]:!1}function Yu(){return V0}var Y0=y({},In,{key:function(e){if(e.key){var t=H0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X0=ia(Y0),Z0=y({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=ia(Z0),q0=y({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),I0=ia(q0),Q0=y({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=ia(Q0),W0=y({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=ia(W0),P0=y({},zn,{newState:0,oldState:0}),$0=ia(P0),ep=[9,13,27,32],Xu=sn&&"CompositionEvent"in window,cr=null;sn&&"documentMode"in document&&(cr=document.documentMode);var tp=sn&&"TextEvent"in window&&!cr,Of=sn&&(!Xu||cr&&8<cr&&11>=cr),Cf=" ",zf=!1;function Rf(e,t){switch(e){case"keyup":return ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tl=!1;function ap(e,t){switch(e){case"compositionend":return Bf(t);case"keypress":return t.which!==32?null:(zf=!0,Cf);case"textInput":return e=t.data,e===Cf&&zf?null:e;default:return null}}function np(e,t){if(Tl)return e==="compositionend"||!Xu&&Rf(e,t)?(e=ur(),di=bl=Tn=null,Tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Of&&t.locale!=="ko"?null:t.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ip[e.type]:t==="textarea"}function Nf(e,t,a,n){un?On?On.push(n):On=[n]:un=n,t=iu(t,"onChange"),0<t.length&&(a=new mi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var fr=null,hr=null;function lp(e){yv(e,0)}function po(e){var t=we(e);if(Dt(t))return e}function Gf(e,t){if(e==="change")return t}var kf=!1;if(sn){var Zu;if(sn){var qu="oninput"in document;if(!qu){var Hf=document.createElement("div");Hf.setAttribute("oninput","return;"),qu=typeof Hf.oninput=="function"}Zu=qu}else Zu=!1;kf=Zu&&(!document.documentMode||9<document.documentMode)}function Ff(){fr&&(fr.detachEvent("onpropertychange",jf),hr=fr=null)}function jf(e){if(e.propertyName==="value"&&po(hr)){var t=[];Nf(t,hr,e,pl(e)),Yi(lp,t)}}function rp(e,t,a){e==="focusin"?(Ff(),fr=t,hr=a,fr.attachEvent("onpropertychange",jf)):e==="focusout"&&Ff()}function op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(hr)}function up(e,t){if(e==="click")return po(t)}function sp(e,t){if(e==="input"||e==="change")return po(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:cp;function dr(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var u=a[n];if(!Fe.call(t,u)||!$a(e[u],t[u]))return!1}return!0}function Vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yf(e,t){var a=Vf(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vf(a)}}function Xf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fp=sn&&"documentMode"in document&&11>=document.documentMode,Al=null,Qu=null,vr=null,Ku=!1;function qf(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ku||Al==null||Al!==Kt(n)||(n=Al,"selectionStart"in n&&Iu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vr&&dr(vr,n)||(vr=n,n=iu(Qu,"onSelect"),0<n.length&&(t=new mi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Al)))}function qi(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ml={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},Wu={},If={};sn&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Ii(e){if(Wu[e])return Wu[e];if(!Ml[e])return e;var t=Ml[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in If)return Wu[e]=t[a];return e}var Qf=Ii("animationend"),Kf=Ii("animationiteration"),Wf=Ii("animationstart"),hp=Ii("transitionrun"),dp=Ii("transitionstart"),vp=Ii("transitioncancel"),Jf=Ii("transitionend"),Pf=new Map,Ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ju.push("scrollEnd");function An(e,t){Pf.set(e,t),Je(t,[e])}var go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},cn=[],xl=0,Pu=0;function yo(){for(var e=xl,t=Pu=xl=0;t<e;){var a=cn[t];cn[t++]=null;var n=cn[t];cn[t++]=null;var u=cn[t];cn[t++]=null;var c=cn[t];if(cn[t++]=null,n!==null&&u!==null){var g=n.pending;g===null?u.next=u:(u.next=g.next,g.next=u),n.pending=u}c!==0&&$f(a,u,c)}}function bo(e,t,a,n){cn[xl++]=e,cn[xl++]=t,cn[xl++]=a,cn[xl++]=n,Pu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function $u(e,t,a,n){return bo(e,t,a,n),So(e)}function Qi(e,t){return bo(e,null,null,t),So(e)}function $f(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var u=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-B(a),e=c.hiddenUpdates,n=e[u],n===null?e[u]=[t]:n.push(t),t.lane=a|536870912),c):null}function So(e){if(50<Nr)throw Nr=0,uc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ul={};function mp(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,a,n){return new mp(e,t,a,n)}function es(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wn(e,t){var a=e.alternate;return a===null?(a=en(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function eh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _o(e,t,a,n,u,c){var g=0;if(n=e,typeof e=="function")es(e)&&(g=1);else if(typeof e=="string")g=S1(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=en(31,a,t,u),e.elementType=V,e.lanes=c,e;case U:return Ki(a.children,u,c,t);case w:g=8,u|=24;break;case X:return e=en(12,a,t,u|2),e.elementType=X,e.lanes=c,e;case L:return e=en(13,a,t,u),e.elementType=L,e.lanes=c,e;case k:return e=en(19,a,t,u),e.elementType=k,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:g=10;break e;case j:g=9;break e;case C:g=11;break e;case F:g=14;break e;case M:g=16,n=null;break e}g=29,a=Error(o(130,e===null?"null":typeof e,"")),n=null}return t=en(g,a,t,u),t.elementType=e,t.type=n,t.lanes=c,t}function Ki(e,t,a,n){return e=en(7,e,n,t),e.lanes=a,e}function ts(e,t,a){return e=en(6,e,null,t),e.lanes=a,e}function th(e){var t=en(18,null,null,0);return t.stateNode=e,t}function as(e,t,a){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ah=new WeakMap;function fn(e,t){if(typeof e=="object"&&e!==null){var a=ah.get(e);return a!==void 0?a:(t={value:e,source:t,stack:xe(t)},ah.set(e,t),t)}return{value:e,source:t,stack:xe(t)}}var wl=[],Dl=0,Eo=null,mr=0,hn=[],dn=0,pi=null,Bn=1,Ln="";function Jn(e,t){wl[Dl++]=mr,wl[Dl++]=Eo,Eo=e,mr=t}function nh(e,t,a){hn[dn++]=Bn,hn[dn++]=Ln,hn[dn++]=pi,pi=e;var n=Bn;e=Ln;var u=32-B(n)-1;n&=~(1<<u),a+=1;var c=32-B(t)+u;if(30<c){var g=u-u%5;c=(n&(1<<g)-1).toString(32),n>>=g,u-=g,Bn=1<<32-B(t)+u|a<<u|n,Ln=c+e}else Bn=1<<c|a<<u|n,Ln=e}function ns(e){e.return!==null&&(Jn(e,1),nh(e,1,0))}function is(e){for(;e===Eo;)Eo=wl[--Dl],wl[Dl]=null,mr=wl[--Dl],wl[Dl]=null;for(;e===pi;)pi=hn[--dn],hn[dn]=null,Ln=hn[--dn],hn[dn]=null,Bn=hn[--dn],hn[dn]=null}function ih(e,t){hn[dn++]=Bn,hn[dn++]=Ln,hn[dn++]=pi,Bn=t.id,Ln=t.overflow,pi=e}var Ma=null,Wt=null,xt=!1,gi=null,vn=!1,ls=Error(o(519));function yi(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pr(fn(t,e)),ls}function lh(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Zt]=e,t[b]=n,a){case"dialog":_t("cancel",t),_t("close",t);break;case"iframe":case"object":case"embed":_t("load",t);break;case"video":case"audio":for(a=0;a<kr.length;a++)_t(kr[a],t);break;case"source":_t("error",t);break;case"img":case"image":case"link":_t("error",t),_t("load",t);break;case"details":_t("toggle",t);break;case"input":_t("invalid",t),Va(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":_t("invalid",t);break;case"textarea":_t("invalid",t),Vi(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Ev(t.textContent,a)?(n.popover!=null&&(_t("beforetoggle",t),_t("toggle",t)),n.onScroll!=null&&_t("scroll",t),n.onScrollEnd!=null&&_t("scrollend",t),n.onClick!=null&&(t.onclick=Na),t=!0):t=!1,t||yi(e,!0)}function rh(e){for(Ma=e.return;Ma;)switch(Ma.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Ma=Ma.return}}function Ol(e){if(e!==Ma)return!1;if(!xt)return rh(e),xt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tc(e.type,e.memoizedProps)),a=!a),a&&Wt&&yi(e),rh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Wt=Cv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Wt=Cv(e)}else t===27?(t=Wt,zi(e.type)?(e=wc,wc=null,Wt=e):Wt=t):Wt=Ma?pn(e.stateNode.nextSibling):null;return!0}function Wi(){Wt=Ma=null,xt=!1}function rs(){var e=gi;return e!==null&&(Qa===null?Qa=e:Qa.push.apply(Qa,e),gi=null),e}function pr(e){gi===null?gi=[e]:gi.push(e)}var os=z(null),Ji=null,Pn=null;function bi(e,t,a){Z(os,t._currentValue),t._currentValue=a}function $n(e){e._currentValue=os.current,H(os)}function us(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ss(e,t,a,n){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var g=u.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=u;for(var O=0;O<t.length;O++)if(_.context===t[O]){c.lanes|=a,_=c.alternate,_!==null&&(_.lanes|=a),us(c.return,a,e),n||(g=null);break e}c=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(o(341));g.lanes|=a,c=g.alternate,c!==null&&(c.lanes|=a),us(g,a,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Cl(e,t,a,n){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var _=u.type;$a(u.pendingProps.value,g.value)||(e!==null?e.push(_):e=[_])}}else if(u===ce.current){if(g=u.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Yr):e=[Yr])}u=u.return}e!==null&&ss(t,e,a,n),t.flags|=262144}function To(e){for(e=e.firstContext;e!==null;){if(!$a(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Ji=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xa(e){return oh(Ji,e)}function Ao(e,t){return Ji===null&&Pi(e),oh(e,t)}function oh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Pn===null){if(e===null)throw Error(o(308));Pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pn=Pn.next=t;return a}var pp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},gp=f.unstable_scheduleCallback,yp=f.unstable_NormalPriority,ha={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cs(){return{controller:new pp,data:new Map,refCount:0}}function gr(e){e.refCount--,e.refCount===0&&gp(yp,function(){e.controller.abort()})}var yr=null,fs=0,zl=0,Rl=null;function bp(e,t){if(yr===null){var a=yr=[];fs=0,zl=vc(),Rl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return fs++,t.then(uh,uh),t}function uh(){if(--fs===0&&yr!==null){Rl!==null&&(Rl.status="fulfilled");var e=yr;yr=null,zl=0,Rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Sp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(n.status="rejected",n.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),n}var sh=x.S;x.S=function(e,t){qd=Ce(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bp(e,t),sh!==null&&sh(e,t)};var $i=z(null);function hs(){var e=$i.current;return e!==null?e:It.pooledCache}function Mo(e,t){t===null?Z($i,$i.current):Z($i,t.pool)}function ch(){var e=hs();return e===null?null:{parent:ha._currentValue,pool:e}}var Bl=Error(o(460)),ds=Error(o(474)),xo=Error(o(542)),Uo={then:function(){}};function fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Na,Na),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vh(e),e;default:if(typeof t.status=="string")t.then(Na,Na);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=n}},function(n){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vh(e),e}throw tl=t,Bl}}function el(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(tl=a,Bl):a}}var tl=null;function dh(){if(tl===null)throw Error(o(459));var e=tl;return tl=null,e}function vh(e){if(e===Bl||e===xo)throw Error(o(483))}var Ll=null,br=0;function wo(e){var t=br;return br+=1,Ll===null&&(Ll=[]),hh(Ll,e,t)}function Sr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Do(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function mh(e){function t(I,G){if(e){var K=I.deletions;K===null?(I.deletions=[G],I.flags|=16):K.push(G)}}function a(I,G){if(!e)return null;for(;G!==null;)t(I,G),G=G.sibling;return null}function n(I){for(var G=new Map;I!==null;)I.key!==null?G.set(I.key,I):G.set(I.index,I),I=I.sibling;return G}function u(I,G){return I=Wn(I,G),I.index=0,I.sibling=null,I}function c(I,G,K){return I.index=K,e?(K=I.alternate,K!==null?(K=K.index,K<G?(I.flags|=67108866,G):K):(I.flags|=67108866,G)):(I.flags|=1048576,G)}function g(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function _(I,G,K,he){return G===null||G.tag!==6?(G=ts(K,I.mode,he),G.return=I,G):(G=u(G,K),G.return=I,G)}function O(I,G,K,he){var Pe=K.type;return Pe===U?fe(I,G,K.props.children,he,K.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&el(Pe)===G.type)?(G=u(G,K.props),Sr(G,K),G.return=I,G):(G=_o(K.type,K.key,K.props,null,I.mode,he),Sr(G,K),G.return=I,G)}function W(I,G,K,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==K.containerInfo||G.stateNode.implementation!==K.implementation?(G=as(K,I.mode,he),G.return=I,G):(G=u(G,K.children||[]),G.return=I,G)}function fe(I,G,K,he,Pe){return G===null||G.tag!==7?(G=Ki(K,I.mode,he,Pe),G.return=I,G):(G=u(G,K),G.return=I,G)}function ye(I,G,K){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ts(""+G,I.mode,K),G.return=I,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return K=_o(G.type,G.key,G.props,null,I.mode,K),Sr(K,G),K.return=I,K;case A:return G=as(G,I.mode,K),G.return=I,G;case M:return G=el(G),ye(I,G,K)}if(pe(G)||N(G))return G=Ki(G,I.mode,K,null),G.return=I,G;if(typeof G.then=="function")return ye(I,wo(G),K);if(G.$$typeof===D)return ye(I,Ao(I,G),K);Do(I,G)}return null}function $(I,G,K,he){var Pe=G!==null?G.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Pe!==null?null:_(I,G,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===Pe?O(I,G,K,he):null;case A:return K.key===Pe?W(I,G,K,he):null;case M:return K=el(K),$(I,G,K,he)}if(pe(K)||N(K))return Pe!==null?null:fe(I,G,K,he,null);if(typeof K.then=="function")return $(I,G,wo(K),he);if(K.$$typeof===D)return $(I,G,Ao(I,K),he);Do(I,K)}return null}function le(I,G,K,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return I=I.get(K)||null,_(G,I,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return I=I.get(he.key===null?K:he.key)||null,O(G,I,he,Pe);case A:return I=I.get(he.key===null?K:he.key)||null,W(G,I,he,Pe);case M:return he=el(he),le(I,G,K,he,Pe)}if(pe(he)||N(he))return I=I.get(K)||null,fe(G,I,he,Pe,null);if(typeof he.then=="function")return le(I,G,K,wo(he),Pe);if(he.$$typeof===D)return le(I,G,K,Ao(G,he),Pe);Do(G,he)}return null}function Ve(I,G,K,he){for(var Pe=null,zt=null,Qe=G,vt=G=0,Mt=null;Qe!==null&&vt<K.length;vt++){Qe.index>vt?(Mt=Qe,Qe=null):Mt=Qe.sibling;var Rt=$(I,Qe,K[vt],he);if(Rt===null){Qe===null&&(Qe=Mt);break}e&&Qe&&Rt.alternate===null&&t(I,Qe),G=c(Rt,G,vt),zt===null?Pe=Rt:zt.sibling=Rt,zt=Rt,Qe=Mt}if(vt===K.length)return a(I,Qe),xt&&Jn(I,vt),Pe;if(Qe===null){for(;vt<K.length;vt++)Qe=ye(I,K[vt],he),Qe!==null&&(G=c(Qe,G,vt),zt===null?Pe=Qe:zt.sibling=Qe,zt=Qe);return xt&&Jn(I,vt),Pe}for(Qe=n(Qe);vt<K.length;vt++)Mt=le(Qe,I,vt,K[vt],he),Mt!==null&&(e&&Mt.alternate!==null&&Qe.delete(Mt.key===null?vt:Mt.key),G=c(Mt,G,vt),zt===null?Pe=Mt:zt.sibling=Mt,zt=Mt);return e&&Qe.forEach(function(Gi){return t(I,Gi)}),xt&&Jn(I,vt),Pe}function nt(I,G,K,he){if(K==null)throw Error(o(151));for(var Pe=null,zt=null,Qe=G,vt=G=0,Mt=null,Rt=K.next();Qe!==null&&!Rt.done;vt++,Rt=K.next()){Qe.index>vt?(Mt=Qe,Qe=null):Mt=Qe.sibling;var Gi=$(I,Qe,Rt.value,he);if(Gi===null){Qe===null&&(Qe=Mt);break}e&&Qe&&Gi.alternate===null&&t(I,Qe),G=c(Gi,G,vt),zt===null?Pe=Gi:zt.sibling=Gi,zt=Gi,Qe=Mt}if(Rt.done)return a(I,Qe),xt&&Jn(I,vt),Pe;if(Qe===null){for(;!Rt.done;vt++,Rt=K.next())Rt=ye(I,Rt.value,he),Rt!==null&&(G=c(Rt,G,vt),zt===null?Pe=Rt:zt.sibling=Rt,zt=Rt);return xt&&Jn(I,vt),Pe}for(Qe=n(Qe);!Rt.done;vt++,Rt=K.next())Rt=le(Qe,I,vt,Rt.value,he),Rt!==null&&(e&&Rt.alternate!==null&&Qe.delete(Rt.key===null?vt:Rt.key),G=c(Rt,G,vt),zt===null?Pe=Rt:zt.sibling=Rt,zt=Rt);return e&&Qe.forEach(function(C1){return t(I,C1)}),xt&&Jn(I,vt),Pe}function Yt(I,G,K,he){if(typeof K=="object"&&K!==null&&K.type===U&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var Pe=K.key;G!==null;){if(G.key===Pe){if(Pe=K.type,Pe===U){if(G.tag===7){a(I,G.sibling),he=u(G,K.props.children),he.return=I,I=he;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&el(Pe)===G.type){a(I,G.sibling),he=u(G,K.props),Sr(he,K),he.return=I,I=he;break e}a(I,G);break}else t(I,G);G=G.sibling}K.type===U?(he=Ki(K.props.children,I.mode,he,K.key),he.return=I,I=he):(he=_o(K.type,K.key,K.props,null,I.mode,he),Sr(he,K),he.return=I,I=he)}return g(I);case A:e:{for(Pe=K.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===K.containerInfo&&G.stateNode.implementation===K.implementation){a(I,G.sibling),he=u(G,K.children||[]),he.return=I,I=he;break e}else{a(I,G);break}else t(I,G);G=G.sibling}he=as(K,I.mode,he),he.return=I,I=he}return g(I);case M:return K=el(K),Yt(I,G,K,he)}if(pe(K))return Ve(I,G,K,he);if(N(K)){if(Pe=N(K),typeof Pe!="function")throw Error(o(150));return K=Pe.call(K),nt(I,G,K,he)}if(typeof K.then=="function")return Yt(I,G,wo(K),he);if(K.$$typeof===D)return Yt(I,G,Ao(I,K),he);Do(I,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,G!==null&&G.tag===6?(a(I,G.sibling),he=u(G,K),he.return=I,I=he):(a(I,G),he=ts(K,I.mode,he),he.return=I,I=he),g(I)):a(I,G)}return function(I,G,K,he){try{br=0;var Pe=Yt(I,G,K,he);return Ll=null,Pe}catch(Qe){if(Qe===Bl||Qe===xo)throw Qe;var zt=en(29,Qe,null,I.mode);return zt.lanes=he,zt.return=I,zt}finally{}}}var al=mh(!0),ph=mh(!1),Si=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Bt&2)!==0){var u=n.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),n.pending=t,t=So(e),$f(e,null,a),t}return bo(e,n,t,a),So(e)}function _r(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ra(e,a)}}function ps(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var u=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?u=c=g:c=c.next=g,a=a.next}while(a!==null);c===null?u=c=t:c=c.next=t}else u=c=t;a={baseState:n.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var gs=!1;function Er(){if(gs){var e=Rl;if(e!==null)throw e}}function Tr(e,t,a,n){gs=!1;var u=e.updateQueue;Si=!1;var c=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var O=_,W=O.next;O.next=null,g===null?c=W:g.next=W,g=O;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,_=fe.lastBaseUpdate,_!==g&&(_===null?fe.firstBaseUpdate=W:_.next=W,fe.lastBaseUpdate=O))}if(c!==null){var ye=u.baseState;g=0,fe=W=O=null,_=c;do{var $=_.lane&-536870913,le=$!==_.lane;if(le?(At&$)===$:(n&$)===$){$!==0&&$===zl&&(gs=!0),fe!==null&&(fe=fe.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Ve=e,nt=_;$=t;var Yt=a;switch(nt.tag){case 1:if(Ve=nt.payload,typeof Ve=="function"){ye=Ve.call(Yt,ye,$);break e}ye=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=nt.payload,$=typeof Ve=="function"?Ve.call(Yt,ye,$):Ve,$==null)break e;ye=y({},ye,$);break e;case 2:Si=!0}}$=_.callback,$!==null&&(e.flags|=64,le&&(e.flags|=8192),le=u.callbacks,le===null?u.callbacks=[$]:le.push($))}else le={lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},fe===null?(W=fe=le,O=ye):fe=fe.next=le,g|=$;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;le=_,_=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);fe===null&&(O=ye),u.baseState=O,u.firstBaseUpdate=W,u.lastBaseUpdate=fe,c===null&&(u.shared.lanes=0),Ui|=g,e.lanes=g,e.memoizedState=ye}}function gh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function yh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gh(a[e],t)}var Nl=z(null),Oo=z(0);function bh(e,t){e=ui,Z(Oo,e),Z(Nl,t),ui=e|t.baseLanes}function ys(){Z(Oo,ui),Z(Nl,Nl.current)}function bs(){ui=Oo.current,H(Nl),H(Oo)}var tn=z(null),mn=null;function Ti(e){var t=e.alternate;Z(sa,sa.current&1),Z(tn,e),mn===null&&(t===null||Nl.current!==null||t.memoizedState!==null)&&(mn=e)}function Ss(e){Z(sa,sa.current),Z(tn,e),mn===null&&(mn=e)}function Sh(e){e.tag===22?(Z(sa,sa.current),Z(tn,e),mn===null&&(mn=e)):Ai()}function Ai(){Z(sa,sa.current),Z(tn,tn.current)}function an(e){H(tn),mn===e&&(mn=null),H(sa)}var sa=z(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xc(a)||Uc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=0,ht=null,jt=null,da=null,zo=!1,Gl=!1,nl=!1,Ro=0,Ar=0,kl=null,_p=0;function ra(){throw Error(o(321))}function _s(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!$a(e[a],t[a]))return!1;return!0}function Es(e,t,a,n,u,c){return ei=c,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?nd:Gs,nl=!1,c=a(n,u),nl=!1,Gl&&(c=Eh(t,a,n,u)),_h(e),c}function _h(e){x.H=Ur;var t=jt!==null&&jt.next!==null;if(ei=0,da=jt=ht=null,zo=!1,Ar=0,kl=null,t)throw Error(o(300));e===null||va||(e=e.dependencies,e!==null&&To(e)&&(va=!0))}function Eh(e,t,a,n){ht=e;var u=0;do{if(Gl&&(kl=null),Ar=0,Gl=!1,25<=u)throw Error(o(301));if(u+=1,da=jt=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=id,c=t(a,n)}while(Gl);return c}function Ep(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?Mr(t):t,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(ht.flags|=1024),t}function Ts(){var e=Ro!==0;return Ro=0,e}function As(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ms(e){if(zo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zo=!1}ei=0,da=jt=ht=null,Gl=!1,Ar=Ro=0,kl=null}function Xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return da===null?ht.memoizedState=da=e:da=da.next=e,da}function ca(){if(jt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=da===null?ht.memoizedState:da.next;if(t!==null)da=t,jt=e;else{if(e===null)throw ht.alternate===null?Error(o(467)):Error(o(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},da===null?ht.memoizedState=da=e:da=da.next=e}return da}function Bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mr(e){var t=Ar;return Ar+=1,kl===null&&(kl=[]),e=hh(kl,e,t),t=ht,(da===null?t.memoizedState:da.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?nd:Gs),e}function Lo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mr(e);if(e.$$typeof===D)return xa(e)}throw Error(o(438,String(e)))}function xs(e){var t=null,a=ht.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ht.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Bo(),ht.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=q;return t.index++,a}function ti(e,t){return typeof t=="function"?t(e):t}function No(e){var t=ca();return Us(t,jt,e)}function Us(e,t,a){var n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=a;var u=e.baseQueue,c=n.pending;if(c!==null){if(u!==null){var g=u.next;u.next=c.next,c.next=g}t.baseQueue=u=c,n.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var _=g=null,O=null,W=t,fe=!1;do{var ye=W.lane&-536870913;if(ye!==W.lane?(At&ye)===ye:(ei&ye)===ye){var $=W.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ye===zl&&(fe=!0);else if((ei&$)===$){W=W.next,$===zl&&(fe=!0);continue}else ye={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(_=O=ye,g=c):O=O.next=ye,ht.lanes|=$,Ui|=$;ye=W.action,nl&&a(c,ye),c=W.hasEagerState?W.eagerState:a(c,ye)}else $={lane:ye,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(_=O=$,g=c):O=O.next=$,ht.lanes|=ye,Ui|=ye;W=W.next}while(W!==null&&W!==t);if(O===null?g=c:O.next=_,!$a(c,e.memoizedState)&&(va=!0,fe&&(a=Rl,a!==null)))throw a;e.memoizedState=c,e.baseState=g,e.baseQueue=O,n.lastRenderedState=c}return u===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ws(e){var t=ca(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var n=a.dispatch,u=a.pending,c=t.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do c=e(c,g.action),g=g.next;while(g!==u);$a(c,t.memoizedState)||(va=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function Th(e,t,a){var n=ht,u=ca(),c=xt;if(c){if(a===void 0)throw Error(o(407));a=a()}else a=t();var g=!$a((jt||u).memoizedState,a);if(g&&(u.memoizedState=a,va=!0),u=u.queue,Cs(xh.bind(null,n,u,e),[e]),u.getSnapshot!==t||g||da!==null&&da.memoizedState.tag&1){if(n.flags|=2048,Hl(9,{destroy:void 0},Mh.bind(null,n,u,a,t),null),It===null)throw Error(o(349));c||(ei&127)!==0||Ah(n,t,a)}return a}function Ah(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ht.updateQueue,t===null?(t=Bo(),ht.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Mh(e,t,a,n){t.value=a,t.getSnapshot=n,Uh(t)&&wh(e)}function xh(e,t,a){return a(function(){Uh(t)&&wh(e)})}function Uh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!$a(e,a)}catch{return!0}}function wh(e){var t=Qi(e,2);t!==null&&Ka(t,e,2)}function Ds(e){var t=Xa();if(typeof e=="function"){var a=e;if(e=a(),nl){Ne(!0);try{a()}finally{Ne(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t}function Dh(e,t,a,n){return e.baseState=a,Us(e,jt,typeof n=="function"?n:ti)}function Tp(e,t,a,n,u){if(Ho(e))throw Error(o(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};x.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,Oh(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Oh(e,t){var a=t.action,n=t.payload,u=e.state;if(t.isTransition){var c=x.T,g={};x.T=g;try{var _=a(u,n),O=x.S;O!==null&&O(g,_),Ch(e,t,_)}catch(W){Os(e,t,W)}finally{c!==null&&g.types!==null&&(c.types=g.types),x.T=c}}else try{c=a(u,n),Ch(e,t,c)}catch(W){Os(e,t,W)}}function Ch(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){zh(e,t,n)},function(n){return Os(e,t,n)}):zh(e,t,a)}function zh(e,t,a){t.status="fulfilled",t.value=a,Rh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Oh(e,a)))}function Os(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Rh(t),t=t.next;while(t!==n)}e.action=null}function Rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bh(e,t){return t}function Lh(e,t){if(xt){var a=It.formState;if(a!==null){e:{var n=ht;if(xt){if(Wt){t:{for(var u=Wt,c=vn;u.nodeType!==8;){if(!c){u=null;break t}if(u=pn(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Wt=pn(u.nextSibling),n=u.data==="F!";break e}}yi(n)}n=!1}n&&(t=a[0])}}return a=Xa(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:t},a.queue=n,a=ed.bind(null,ht,n),n.dispatch=a,n=Ds(!1),c=Ns.bind(null,ht,!1,n.queue),n=Xa(),u={state:t,dispatch:null,action:e,pending:null},n.queue=u,a=Tp.bind(null,ht,u,c,a),u.dispatch=a,n.memoizedState=e,[t,a,!1]}function Nh(e){var t=ca();return Gh(t,jt,e)}function Gh(e,t,a){if(t=Us(e,t,Bh)[0],e=No(ti)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Mr(t)}catch(g){throw g===Bl?xo:g}else n=t;t=ca();var u=t.queue,c=u.dispatch;return a!==t.memoizedState&&(ht.flags|=2048,Hl(9,{destroy:void 0},Ap.bind(null,u,a),null)),[n,c,e]}function Ap(e,t){e.action=t}function kh(e){var t=ca(),a=jt;if(a!==null)return Gh(t,a,e);ca(),t=t.memoizedState,a=ca();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Hl(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ht.updateQueue,t===null&&(t=Bo(),ht.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Hh(){return ca().memoizedState}function Go(e,t,a,n){var u=Xa();ht.flags|=e,u.memoizedState=Hl(1|t,{destroy:void 0},a,n===void 0?null:n)}function ko(e,t,a,n){var u=ca();n=n===void 0?null:n;var c=u.memoizedState.inst;jt!==null&&n!==null&&_s(n,jt.memoizedState.deps)?u.memoizedState=Hl(t,c,a,n):(ht.flags|=e,u.memoizedState=Hl(1|t,c,a,n))}function Fh(e,t){Go(8390656,8,e,t)}function Cs(e,t){ko(2048,8,e,t)}function Mp(e){ht.flags|=4;var t=ht.updateQueue;if(t===null)t=Bo(),ht.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function jh(e){var t=ca().memoizedState;return Mp({ref:t,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Vh(e,t){return ko(4,2,e,t)}function Yh(e,t){return ko(4,4,e,t)}function Xh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zh(e,t,a){a=a!=null?a.concat([e]):null,ko(4,4,Xh.bind(null,t,e),a)}function zs(){}function qh(e,t){var a=ca();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&_s(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Ih(e,t){var a=ca();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&_s(t,n[1]))return n[0];if(n=e(),nl){Ne(!0);try{e()}finally{Ne(!1)}}return a.memoizedState=[n,t],n}function Rs(e,t,a){return a===void 0||(ei&1073741824)!==0&&(At&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Qd(),ht.lanes|=e,Ui|=e,a)}function Qh(e,t,a,n){return $a(a,t)?a:Nl.current!==null?(e=Rs(e,a,n),$a(e,t)||(va=!0),e):(ei&42)===0||(ei&1073741824)!==0&&(At&261930)===0?(va=!0,e.memoizedState=a):(e=Qd(),ht.lanes|=e,Ui|=e,t)}function Kh(e,t,a,n,u){var c=ae.p;ae.p=c!==0&&8>c?c:8;var g=x.T,_={};x.T=_,Ns(e,!1,t,a);try{var O=u(),W=x.S;if(W!==null&&W(_,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var fe=Sp(O,n);xr(e,t,fe,rn(e))}else xr(e,t,n,rn(e))}catch(ye){xr(e,t,{then:function(){},status:"rejected",reason:ye},rn())}finally{ae.p=c,g!==null&&_.types!==null&&(g.types=_.types),x.T=g}}function xp(){}function Bs(e,t,a,n){if(e.tag!==5)throw Error(o(476));var u=Wh(e).queue;Kh(e,u,t,ve,a===null?xp:function(){return Jh(e),a(n)})}function Wh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ve},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Jh(e){var t=Wh(e);t.next===null&&(t=e.alternate.memoizedState),xr(e,t.next.queue,{},rn())}function Ls(){return xa(Yr)}function Ph(){return ca().memoizedState}function $h(){return ca().memoizedState}function Up(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=rn();e=_i(a);var n=Ei(t,e,a);n!==null&&(Ka(n,t,a),_r(n,t,a)),t={cache:cs()},e.payload=t;return}t=t.return}}function wp(e,t,a){var n=rn();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ho(e)?td(t,a):(a=$u(e,t,a,n),a!==null&&(Ka(a,e,n),ad(a,t,n)))}function ed(e,t,a){var n=rn();xr(e,t,a,n)}function xr(e,t,a,n){var u={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))td(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,_=c(g,a);if(u.hasEagerState=!0,u.eagerState=_,$a(_,g))return bo(e,t,u,0),It===null&&yo(),!1}catch{}finally{}if(a=$u(e,t,u,n),a!==null)return Ka(a,e,n),ad(a,t,n),!0}return!1}function Ns(e,t,a,n){if(n={lane:2,revertLane:vc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(o(479))}else t=$u(e,a,n,2),t!==null&&Ka(t,e,2)}function Ho(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function td(e,t){Gl=zo=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ad(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ra(e,a)}}var Ur={readContext:xa,use:Lo,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useInsertionEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useSyncExternalStore:ra,useId:ra,useHostTransitionStatus:ra,useFormState:ra,useActionState:ra,useOptimistic:ra,useMemoCache:ra,useCacheRefresh:ra};Ur.useEffectEvent=ra;var nd={readContext:xa,use:Lo,useCallback:function(e,t){return Xa().memoizedState=[e,t===void 0?null:t],e},useContext:xa,useEffect:Fh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Go(4194308,4,Xh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){Go(4,2,e,t)},useMemo:function(e,t){var a=Xa();t=t===void 0?null:t;var n=e();if(nl){Ne(!0);try{e()}finally{Ne(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Xa();if(a!==void 0){var u=a(t);if(nl){Ne(!0);try{a(t)}finally{Ne(!1)}}}else u=t;return n.memoizedState=n.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},n.queue=e,e=e.dispatch=wp.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=Xa();return e={current:e},t.memoizedState=e},useState:function(e){e=Ds(e);var t=e.queue,a=ed.bind(null,ht,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:zs,useDeferredValue:function(e,t){var a=Xa();return Rs(a,e,t)},useTransition:function(){var e=Ds(!1);return e=Kh.bind(null,ht,e.queue,!0,!1),Xa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ht,u=Xa();if(xt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),It===null)throw Error(o(349));(At&127)!==0||Ah(n,t,a)}u.memoizedState=a;var c={value:a,getSnapshot:t};return u.queue=c,Fh(xh.bind(null,n,c,e),[e]),n.flags|=2048,Hl(9,{destroy:void 0},Mh.bind(null,n,c,a,t),null),a},useId:function(){var e=Xa(),t=It.identifierPrefix;if(xt){var a=Ln,n=Bn;a=(n&~(1<<32-B(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ro++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=_p++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ls,useFormState:Lh,useActionState:Lh,useOptimistic:function(e){var t=Xa();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ns.bind(null,ht,!0,a),a.dispatch=t,[e,t]},useMemoCache:xs,useCacheRefresh:function(){return Xa().memoizedState=Up.bind(null,ht)},useEffectEvent:function(e){var t=Xa(),a={impl:e};return t.memoizedState=a,function(){if((Bt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Gs={readContext:xa,use:Lo,useCallback:qh,useContext:xa,useEffect:Cs,useImperativeHandle:Zh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Ih,useReducer:No,useRef:Hh,useState:function(){return No(ti)},useDebugValue:zs,useDeferredValue:function(e,t){var a=ca();return Qh(a,jt.memoizedState,e,t)},useTransition:function(){var e=No(ti)[0],t=ca().memoizedState;return[typeof e=="boolean"?e:Mr(e),t]},useSyncExternalStore:Th,useId:Ph,useHostTransitionStatus:Ls,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,t){var a=ca();return Dh(a,jt,e,t)},useMemoCache:xs,useCacheRefresh:$h};Gs.useEffectEvent=jh;var id={readContext:xa,use:Lo,useCallback:qh,useContext:xa,useEffect:Cs,useImperativeHandle:Zh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Ih,useReducer:ws,useRef:Hh,useState:function(){return ws(ti)},useDebugValue:zs,useDeferredValue:function(e,t){var a=ca();return jt===null?Rs(a,e,t):Qh(a,jt.memoizedState,e,t)},useTransition:function(){var e=ws(ti)[0],t=ca().memoizedState;return[typeof e=="boolean"?e:Mr(e),t]},useSyncExternalStore:Th,useId:Ph,useHostTransitionStatus:Ls,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var a=ca();return jt!==null?Dh(a,jt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xs,useCacheRefresh:$h};id.useEffectEvent=jh;function ks(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hs={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=rn(),u=_i(n);u.payload=t,a!=null&&(u.callback=a),t=Ei(e,u,n),t!==null&&(Ka(t,e,n),_r(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=rn(),u=_i(n);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ei(e,u,n),t!==null&&(Ka(t,e,n),_r(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=rn(),n=_i(a);n.tag=2,t!=null&&(n.callback=t),t=Ei(e,n,a),t!==null&&(Ka(t,e,a),_r(t,e,a))}};function ld(e,t,a,n,u,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,g):t.prototype&&t.prototype.isPureReactComponent?!dr(a,n)||!dr(u,c):!0}function rd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function il(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function od(e){go(e)}function ud(e){console.error(e)}function sd(e){go(e)}function Fo(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function cd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Fs(e,t,a){return a=_i(a),a.tag=3,a.payload={element:null},a.callback=function(){Fo(e,t)},a}function fd(e){return e=_i(e),e.tag=3,e}function hd(e,t,a,n){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var c=n.value;e.payload=function(){return u(c)},e.callback=function(){cd(t,a,n)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){cd(t,a,n),typeof u!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function Dp(e,t,a,n,u){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Cl(t,a,u,!0),a=tn.current,a!==null){switch(a.tag){case 31:case 13:return mn===null?Po():a.alternate===null&&oa===0&&(oa=3),a.flags&=-257,a.flags|=65536,a.lanes=u,n===Uo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),fc(e,n,u)),!1;case 22:return a.flags|=65536,n===Uo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),fc(e,n,u)),!1}throw Error(o(435,a.tag))}return fc(e,n,u),Po(),!1}if(xt)return t=tn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,n!==ls&&(e=Error(o(422),{cause:n}),pr(fn(e,a)))):(n!==ls&&(t=Error(o(423),{cause:n}),pr(fn(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,n=fn(n,a),u=Fs(e.stateNode,n,u),ps(e,u),oa!==4&&(oa=2)),!1;var c=Error(o(520),{cause:n});if(c=fn(c,a),Lr===null?Lr=[c]:Lr.push(c),oa!==4&&(oa=2),t===null)return!0;n=fn(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Fs(a.stateNode,n,e),ps(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))))return a.flags|=65536,u&=-u,a.lanes|=u,u=fd(u),hd(u,e,a,n),ps(a,u),!1}a=a.return}while(a!==null);return!1}var js=Error(o(461)),va=!1;function Ua(e,t,a,n){t.child=e===null?ph(t,null,a,n):al(t,e.child,a,n)}function dd(e,t,a,n,u){a=a.render;var c=t.ref;if("ref"in n){var g={};for(var _ in n)_!=="ref"&&(g[_]=n[_])}else g=n;return Pi(t),n=Es(e,t,a,g,c,u),_=Ts(),e!==null&&!va?(As(e,t,u),ai(e,t,u)):(xt&&_&&ns(t),t.flags|=1,Ua(e,t,n,u),t.child)}function vd(e,t,a,n,u){if(e===null){var c=a.type;return typeof c=="function"&&!es(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,md(e,t,c,n,u)):(e=_o(a.type,null,n,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Ks(e,u)){var g=c.memoizedProps;if(a=a.compare,a=a!==null?a:dr,a(g,n)&&e.ref===t.ref)return ai(e,t,u)}return t.flags|=1,e=Wn(c,n),e.ref=t.ref,e.return=t,t.child=e}function md(e,t,a,n,u){if(e!==null){var c=e.memoizedProps;if(dr(c,n)&&e.ref===t.ref)if(va=!1,t.pendingProps=n=c,Ks(e,u))(e.flags&131072)!==0&&(va=!0);else return t.lanes=e.lanes,ai(e,t,u)}return Vs(e,t,a,n,u)}function pd(e,t,a,n){var u=n.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(n=t.child=e.child,u=0;n!==null;)u=u|n.lanes|n.childLanes,n=n.sibling;n=u&~c}else n=0,t.child=null;return gd(e,t,c,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mo(t,c!==null?c.cachePool:null),c!==null?bh(t,c):ys(),Sh(t);else return n=t.lanes=536870912,gd(e,t,c!==null?c.baseLanes|a:a,a,n)}else c!==null?(Mo(t,c.cachePool),bh(t,c),Ai(),t.memoizedState=null):(e!==null&&Mo(t,null),ys(),Ai());return Ua(e,t,u,a),t.child}function wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gd(e,t,a,n,u){var c=hs();return c=c===null?null:{parent:ha._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Mo(t,null),ys(),Sh(t),e!==null&&Cl(e,t,n,!0),t.childLanes=u,null}function jo(e,t){return t=Yo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yd(e,t,a){return al(t,e.child,null,a),e=jo(t,t.pendingProps),e.flags|=2,an(t),t.memoizedState=null,e}function Op(e,t,a){var n=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xt){if(n.mode==="hidden")return e=jo(t,n),t.lanes=536870912,wr(null,e);if(Ss(t),(e=Wt)?(e=Ov(e,vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pi!==null?{id:Bn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},a=th(e),a.return=t,t.child=a,Ma=t,Wt=null)):e=null,e===null)throw yi(t);return t.lanes=536870912,null}return jo(t,n)}var c=e.memoizedState;if(c!==null){var g=c.dehydrated;if(Ss(t),u)if(t.flags&256)t.flags&=-257,t=yd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(va||Cl(e,t,a,!1),u=(a&e.childLanes)!==0,va||u){if(n=It,n!==null&&(g=Ba(n,a),g!==0&&g!==c.retryLane))throw c.retryLane=g,Qi(e,g),Ka(n,e,g),js;Po(),t=yd(e,t,a)}else e=c.treeContext,Wt=pn(g.nextSibling),Ma=t,xt=!0,gi=null,vn=!1,e!==null&&ih(t,e),t=jo(t,n),t.flags|=4096;return t}return e=Wn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vo(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Vs(e,t,a,n,u){return Pi(t),a=Es(e,t,a,n,void 0,u),n=Ts(),e!==null&&!va?(As(e,t,u),ai(e,t,u)):(xt&&n&&ns(t),t.flags|=1,Ua(e,t,a,u),t.child)}function bd(e,t,a,n,u,c){return Pi(t),t.updateQueue=null,a=Eh(t,n,a,u),_h(e),n=Ts(),e!==null&&!va?(As(e,t,c),ai(e,t,c)):(xt&&n&&ns(t),t.flags|=1,Ua(e,t,a,c),t.child)}function Sd(e,t,a,n,u){if(Pi(t),t.stateNode===null){var c=Ul,g=a.contextType;typeof g=="object"&&g!==null&&(c=xa(g)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Hs,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},vs(t),g=a.contextType,c.context=typeof g=="object"&&g!==null?xa(g):Ul,c.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(ks(t,a,g,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&Hs.enqueueReplaceState(c,c.state,null),Tr(t,n,c,u),Er(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var _=t.memoizedProps,O=il(a,_);c.props=O;var W=c.context,fe=a.contextType;g=Ul,typeof fe=="object"&&fe!==null&&(g=xa(fe));var ye=a.getDerivedStateFromProps;fe=typeof ye=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,fe||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||W!==g)&&rd(t,c,n,g),Si=!1;var $=t.memoizedState;c.state=$,Tr(t,n,c,u),Er(),W=t.memoizedState,_||$!==W||Si?(typeof ye=="function"&&(ks(t,a,ye,n),W=t.memoizedState),(O=Si||ld(t,a,O,n,$,W,g))?(fe||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=W),c.props=n,c.state=W,c.context=g,n=O):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,ms(e,t),g=t.memoizedProps,fe=il(a,g),c.props=fe,ye=t.pendingProps,$=c.context,W=a.contextType,O=Ul,typeof W=="object"&&W!==null&&(O=xa(W)),_=a.getDerivedStateFromProps,(W=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==ye||$!==O)&&rd(t,c,n,O),Si=!1,$=t.memoizedState,c.state=$,Tr(t,n,c,u),Er();var le=t.memoizedState;g!==ye||$!==le||Si||e!==null&&e.dependencies!==null&&To(e.dependencies)?(typeof _=="function"&&(ks(t,a,_,n),le=t.memoizedState),(fe=Si||ld(t,a,fe,n,$,le,O)||e!==null&&e.dependencies!==null&&To(e.dependencies))?(W||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,le,O),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,le,O)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=le),c.props=n,c.state=le,c.context=O,n=fe):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,Vo(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=al(t,e.child,null,u),t.child=al(t,null,a,u)):Ua(e,t,a,u),t.memoizedState=c.state,e=t.child):e=ai(e,t,u),e}function _d(e,t,a,n){return Wi(),t.flags|=256,Ua(e,t,a,n),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xs(e){return{baseLanes:e,cachePool:ch()}}function Zs(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ln),e}function Ed(e,t,a){var n=t.pendingProps,u=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(sa.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(xt){if(u?Ti(t):Ai(),(e=Wt)?(e=Ov(e,vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pi!==null?{id:Bn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},a=th(e),a.return=t,t.child=a,Ma=t,Wt=null)):e=null,e===null)throw yi(t);return Uc(e)?t.lanes=32:t.lanes=536870912,null}var _=n.children;return n=n.fallback,u?(Ai(),u=t.mode,_=Yo({mode:"hidden",children:_},u),n=Ki(n,u,a,null),_.return=t,n.return=t,_.sibling=n,t.child=_,n=t.child,n.memoizedState=Xs(a),n.childLanes=Zs(e,g,a),t.memoizedState=Ys,wr(null,n)):(Ti(t),qs(t,_))}var O=e.memoizedState;if(O!==null&&(_=O.dehydrated,_!==null)){if(c)t.flags&256?(Ti(t),t.flags&=-257,t=Is(e,t,a)):t.memoizedState!==null?(Ai(),t.child=e.child,t.flags|=128,t=null):(Ai(),_=n.fallback,u=t.mode,n=Yo({mode:"visible",children:n.children},u),_=Ki(_,u,a,null),_.flags|=2,n.return=t,_.return=t,n.sibling=_,t.child=n,al(t,e.child,null,a),n=t.child,n.memoizedState=Xs(a),n.childLanes=Zs(e,g,a),t.memoizedState=Ys,t=wr(null,n));else if(Ti(t),Uc(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var W=g.dgst;g=W,n=Error(o(419)),n.stack="",n.digest=g,pr({value:n,source:null,stack:null}),t=Is(e,t,a)}else if(va||Cl(e,t,a,!1),g=(a&e.childLanes)!==0,va||g){if(g=It,g!==null&&(n=Ba(g,a),n!==0&&n!==O.retryLane))throw O.retryLane=n,Qi(e,n),Ka(g,e,n),js;xc(_)||Po(),t=Is(e,t,a)}else xc(_)?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,Wt=pn(_.nextSibling),Ma=t,xt=!0,gi=null,vn=!1,e!==null&&ih(t,e),t=qs(t,n.children),t.flags|=4096);return t}return u?(Ai(),_=n.fallback,u=t.mode,O=e.child,W=O.sibling,n=Wn(O,{mode:"hidden",children:n.children}),n.subtreeFlags=O.subtreeFlags&65011712,W!==null?_=Wn(W,_):(_=Ki(_,u,a,null),_.flags|=2),_.return=t,n.return=t,n.sibling=_,t.child=n,wr(null,n),n=t.child,_=e.child.memoizedState,_===null?_=Xs(a):(u=_.cachePool,u!==null?(O=ha._currentValue,u=u.parent!==O?{parent:O,pool:O}:u):u=ch(),_={baseLanes:_.baseLanes|a,cachePool:u}),n.memoizedState=_,n.childLanes=Zs(e,g,a),t.memoizedState=Ys,wr(e.child,n)):(Ti(t),a=e.child,e=a.sibling,a=Wn(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function qs(e,t){return t=Yo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yo(e,t){return e=en(22,e,null,t),e.lanes=0,e}function Is(e,t,a){return al(t,e.child,null,a),e=qs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Td(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),us(e.return,t,a)}function Qs(e,t,a,n,u,c){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:u,treeForkCount:c}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=n,g.tail=a,g.tailMode=u,g.treeForkCount=c)}function Ad(e,t,a){var n=t.pendingProps,u=n.revealOrder,c=n.tail;n=n.children;var g=sa.current,_=(g&2)!==0;if(_?(g=g&1|2,t.flags|=128):g&=1,Z(sa,g),Ua(e,t,n,a),n=xt?mr:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,a,t);else if(e.tag===19)Td(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Co(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Qs(t,!1,u,a,c,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Co(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Qs(t,!0,a,null,c,n);break;case"together":Qs(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ai(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ui|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Cl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Wn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Wn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ks(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&To(e)))}function Cp(e,t,a){switch(t.tag){case 3:ge(t,t.stateNode.containerInfo),bi(t,ha,e.memoizedState.cache),Wi();break;case 27:case 5:He(t);break;case 4:ge(t,t.stateNode.containerInfo);break;case 10:bi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ss(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ti(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ed(e,t,a):(Ti(t),e=ai(e,t,a),e!==null?e.sibling:null);Ti(t);break;case 19:var u=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Cl(e,t,a,!1),n=(a&t.childLanes)!==0),u){if(n)return Ad(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Z(sa,sa.current),n)break;return null;case 22:return t.lanes=0,pd(e,t,a,t.pendingProps);case 24:bi(t,ha,e.memoizedState.cache)}return ai(e,t,a)}function Md(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)va=!0;else{if(!Ks(e,a)&&(t.flags&128)===0)return va=!1,Cp(e,t,a);va=(e.flags&131072)!==0}else va=!1,xt&&(t.flags&1048576)!==0&&nh(t,mr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=el(t.elementType),t.type=e,typeof e=="function")es(e)?(n=il(e,n),t.tag=1,t=Sd(null,t,e,n,a)):(t.tag=0,t=Vs(null,t,e,n,a));else{if(e!=null){var u=e.$$typeof;if(u===C){t.tag=11,t=dd(null,t,e,n,a);break e}else if(u===F){t.tag=14,t=vd(null,t,e,n,a);break e}}throw t=Y(e)||e,Error(o(306,t,""))}}return t;case 0:return Vs(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,u=il(n,t.pendingProps),Sd(e,t,n,u,a);case 3:e:{if(ge(t,t.stateNode.containerInfo),e===null)throw Error(o(387));n=t.pendingProps;var c=t.memoizedState;u=c.element,ms(e,t),Tr(t,n,null,a);var g=t.memoizedState;if(n=g.cache,bi(t,ha,n),n!==c.cache&&ss(t,[ha],a,!0),Er(),n=g.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=_d(e,t,n,a);break e}else if(n!==u){u=fn(Error(o(424)),t),pr(u),t=_d(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=pn(e.firstChild),Ma=t,xt=!0,gi=null,vn=!0,a=ph(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wi(),n===u){t=ai(e,t,a);break e}Ua(e,t,n,a)}t=t.child}return t;case 26:return Vo(e,t),e===null?(a=Nv(t.type,null,t.pendingProps,null))?t.memoizedState=a:xt||(a=t.type,e=t.pendingProps,n=lu(se.current).createElement(a),n[Zt]=t,n[b]=e,wa(n,a,e),st(n),t.stateNode=n):t.memoizedState=Nv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return He(t),e===null&&xt&&(n=t.stateNode=Rv(t.type,t.pendingProps,se.current),Ma=t,vn=!0,u=Wt,zi(t.type)?(wc=u,Wt=pn(n.firstChild)):Wt=u),Ua(e,t,t.pendingProps.children,a),Vo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xt&&((u=n=Wt)&&(n=o1(n,t.type,t.pendingProps,vn),n!==null?(t.stateNode=n,Ma=t,Wt=pn(n.firstChild),vn=!1,u=!0):u=!1),u||yi(t)),He(t),u=t.type,c=t.pendingProps,g=e!==null?e.memoizedProps:null,n=c.children,Tc(u,c)?n=null:g!==null&&Tc(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Es(e,t,Ep,null,null,a),Yr._currentValue=u),Vo(e,t),Ua(e,t,n,a),t.child;case 6:return e===null&&xt&&((e=a=Wt)&&(a=u1(a,t.pendingProps,vn),a!==null?(t.stateNode=a,Ma=t,Wt=null,e=!0):e=!1),e||yi(t)),null;case 13:return Ed(e,t,a);case 4:return ge(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=al(t,null,n,a):Ua(e,t,n,a),t.child;case 11:return dd(e,t,t.type,t.pendingProps,a);case 7:return Ua(e,t,t.pendingProps,a),t.child;case 8:return Ua(e,t,t.pendingProps.children,a),t.child;case 12:return Ua(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,bi(t,t.type,n.value),Ua(e,t,n.children,a),t.child;case 9:return u=t.type._context,n=t.pendingProps.children,Pi(t),u=xa(u),n=n(u),t.flags|=1,Ua(e,t,n,a),t.child;case 14:return vd(e,t,t.type,t.pendingProps,a);case 15:return md(e,t,t.type,t.pendingProps,a);case 19:return Ad(e,t,a);case 31:return Op(e,t,a);case 22:return pd(e,t,a,t.pendingProps);case 24:return Pi(t),n=xa(ha),e===null?(u=hs(),u===null&&(u=It,c=cs(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=a),u=c),t.memoizedState={parent:n,cache:u},vs(t),bi(t,ha,u)):((e.lanes&a)!==0&&(ms(e,t),Tr(t,null,null,a),Er()),u=e.memoizedState,c=t.memoizedState,u.parent!==n?(u={parent:n,cache:n},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),bi(t,ha,n)):(n=c.cache,bi(t,ha,n),n!==u.cache&&ss(t,[ha],a,!0))),Ua(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ni(e){e.flags|=4}function Ws(e,t,a,n,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Pd())e.flags|=8192;else throw tl=Uo,ds}else e.flags&=-16777217}function xd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jv(t))if(Pd())e.flags|=8192;else throw tl=Uo,ds}function Xo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?et():536870912,e.lanes|=t,Yl|=t)}function Dr(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags&65011712,n|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags,n|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function zp(e,t,a){var n=t.pendingProps;switch(is(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return Jt(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$n(ha),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ol(t)?ni(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rs())),Jt(t),null;case 26:var u=t.type,c=t.memoizedState;return e===null?(ni(t),c!==null?(Jt(t),xd(t,c)):(Jt(t),Ws(t,u,null,n,a))):c?c!==e.memoizedState?(ni(t),Jt(t),xd(t,c)):(Jt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ni(t),Jt(t),Ws(t,u,e,n,a)),null;case 27:if(Ue(t),a=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ni(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return Jt(t),null}e=P.current,Ol(t)?lh(t):(e=Rv(u,n,a),t.stateNode=e,ni(t))}return Jt(t),null;case 5:if(Ue(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ni(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return Jt(t),null}if(c=P.current,Ol(t))lh(t);else{var g=lu(se.current);switch(c){case 1:c=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=g.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?g.createElement("select",{is:n.is}):g.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?g.createElement(u,{is:n.is}):g.createElement(u)}}c[Zt]=t,c[b]=n;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=c;e:switch(wa(c,u,n),u){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ni(t)}}return Jt(t),Ws(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ni(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(o(166));if(e=se.current,Ol(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,u=Ma,u!==null)switch(u.tag){case 27:case 5:n=u.memoizedProps}e[Zt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Ev(e.nodeValue,a)),e||yi(t,!0)}else e=lu(e).createTextNode(n),e[Zt]=t,t.stateNode=e}return Jt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Ol(t),a!==null){if(e===null){if(!n)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Zt]=t}else Wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Jt(t),e=!1}else a=rs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(an(t),t):(an(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Jt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ol(t),n!==null&&n.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[Zt]=t}else Wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Jt(t),u=!1}else u=rs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(an(t),t):(an(t),null)}return an(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,u=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(u=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==u&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Xo(t,t.updateQueue),Jt(t),null);case 4:return Oe(),e===null&&yc(t.stateNode.containerInfo),Jt(t),null;case 10:return $n(t.type),Jt(t),null;case 19:if(H(sa),n=t.memoizedState,n===null)return Jt(t),null;if(u=(t.flags&128)!==0,c=n.rendering,c===null)if(u)Dr(n,!1);else{if(oa!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Co(e),c!==null){for(t.flags|=128,Dr(n,!1),e=c.updateQueue,t.updateQueue=e,Xo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)eh(a,e),a=a.sibling;return Z(sa,sa.current&1|2),xt&&Jn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Ce()>Ko&&(t.flags|=128,u=!0,Dr(n,!1),t.lanes=4194304)}else{if(!u)if(e=Co(c),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Xo(t,e),Dr(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!xt)return Jt(t),null}else 2*Ce()-n.renderingStartTime>Ko&&a!==536870912&&(t.flags|=128,u=!0,Dr(n,!1),t.lanes=4194304);n.isBackwards?(c.sibling=t.child,t.child=c):(e=n.last,e!==null?e.sibling=c:t.child=c,n.last=c)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Ce(),e.sibling=null,a=sa.current,Z(sa,u?a&1|2:a&1),xt&&Jn(t,n.treeForkCount),e):(Jt(t),null);case 22:case 23:return an(t),bs(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),a=t.updateQueue,a!==null&&Xo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&H($i),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),$n(ha),Jt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Rp(e,t){switch(is(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(ha),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ue(t),null;case 31:if(t.memoizedState!==null){if(an(t),t.alternate===null)throw Error(o(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(an(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(sa),null;case 4:return Oe(),null;case 10:return $n(t.type),null;case 22:case 23:return an(t),bs(),e!==null&&H($i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $n(ha),null;case 25:return null;default:return null}}function Ud(e,t){switch(is(t),t.tag){case 3:$n(ha),Oe();break;case 26:case 27:case 5:Ue(t);break;case 4:Oe();break;case 31:t.memoizedState!==null&&an(t);break;case 13:an(t);break;case 19:H(sa);break;case 10:$n(t.type);break;case 22:case 23:an(t),bs(),e!==null&&H($i);break;case 24:$n(ha)}}function Or(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var u=n.next;a=u;do{if((a.tag&e)===e){n=void 0;var c=a.create,g=a.inst;n=c(),g.destroy=n}a=a.next}while(a!==u)}}catch(_){Ft(t,t.return,_)}}function Mi(e,t,a){try{var n=t.updateQueue,u=n!==null?n.lastEffect:null;if(u!==null){var c=u.next;n=c;do{if((n.tag&e)===e){var g=n.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=t;var O=a,W=_;try{W()}catch(fe){Ft(u,O,fe)}}}n=n.next}while(n!==c)}}catch(fe){Ft(t,t.return,fe)}}function wd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{yh(t,a)}catch(n){Ft(e,e.return,n)}}}function Dd(e,t,a){a.props=il(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ft(e,t,n)}}function Cr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(u){Ft(e,t,u)}}function Nn(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(u){Ft(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ft(e,t,u)}else a.current=null}function Od(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(u){Ft(e,e.return,u)}}function Js(e,t,a){try{var n=e.stateNode;t1(n,e.type,a,t),n[b]=t}catch(u){Ft(e,e.return,u)}}function Cd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zi(e.type)||e.tag===4}function Ps(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $s(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Na));else if(n!==4&&(n===27&&zi(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($s(e,t,a),e=e.sibling;e!==null;)$s(e,t,a),e=e.sibling}function Zo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&zi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zo(e,t,a),e=e.sibling;e!==null;)Zo(e,t,a),e=e.sibling}function zd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);wa(t,n,a),t[Zt]=e,t[b]=a}catch(c){Ft(e,e.return,c)}}var ii=!1,ma=!1,ec=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,Aa=null;function Bp(e,t){if(e=e.containerInfo,_c=hu,e=Zf(e),Iu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var u=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var g=0,_=-1,O=-1,W=0,fe=0,ye=e,$=null;t:for(;;){for(var le;ye!==a||u!==0&&ye.nodeType!==3||(_=g+u),ye!==c||n!==0&&ye.nodeType!==3||(O=g+n),ye.nodeType===3&&(g+=ye.nodeValue.length),(le=ye.firstChild)!==null;)$=ye,ye=le;for(;;){if(ye===e)break t;if($===a&&++W===u&&(_=g),$===c&&++fe===n&&(O=g),(le=ye.nextSibling)!==null)break;ye=$,$=ye.parentNode}ye=le}a=_===-1||O===-1?null:{start:_,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ec={focusedElem:e,selectionRange:a},hu=!1,Aa=t;Aa!==null;)if(t=Aa,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Aa=e;else for(;Aa!==null;){switch(t=Aa,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,u=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var Ve=il(a.type,u);e=n.getSnapshotBeforeUpdate(Ve,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(nt){Ft(a,a.return,nt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Mc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Aa=e;break}Aa=t.return}}function Bd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ri(e,a),n&4&&Or(5,a);break;case 1:if(ri(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Ft(a,a.return,g)}else{var u=il(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(a,a.return,g)}}n&64&&wd(a),n&512&&Cr(a,a.return);break;case 3:if(ri(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yh(e,t)}catch(g){Ft(a,a.return,g)}}break;case 27:t===null&&n&4&&zd(a);case 26:case 5:ri(e,a),t===null&&n&4&&Od(a),n&512&&Cr(a,a.return);break;case 12:ri(e,a);break;case 31:ri(e,a),n&4&&Gd(e,a);break;case 13:ri(e,a),n&4&&kd(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Yp.bind(null,a),s1(e,a))));break;case 22:if(n=a.memoizedState!==null||ii,!n){t=t!==null&&t.memoizedState!==null||ma,u=ii;var c=ma;ii=n,(ma=t)&&!c?oi(e,a,(a.subtreeFlags&8772)!==0):ri(e,a),ii=u,ma=c}break;case 30:break;default:ri(e,a)}}function Ld(e){var t=e.alternate;t!==null&&(e.alternate=null,Ld(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ta=null,Za=!1;function li(e,t,a){for(a=a.child;a!==null;)Nd(e,t,a),a=a.sibling}function Nd(e,t,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(at,a)}catch{}switch(a.tag){case 26:ma||Nn(a,t),li(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ma||Nn(a,t);var n=ta,u=Za;zi(a.type)&&(ta=a.stateNode,Za=!1),li(e,t,a),Fr(a.stateNode),ta=n,Za=u;break;case 5:ma||Nn(a,t);case 6:if(n=ta,u=Za,ta=null,li(e,t,a),ta=n,Za=u,ta!==null)if(Za)try{(ta.nodeType===9?ta.body:ta.nodeName==="HTML"?ta.ownerDocument.body:ta).removeChild(a.stateNode)}catch(c){Ft(a,t,c)}else try{ta.removeChild(a.stateNode)}catch(c){Ft(a,t,c)}break;case 18:ta!==null&&(Za?(e=ta,wv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Jl(e)):wv(ta,a.stateNode));break;case 4:n=ta,u=Za,ta=a.stateNode.containerInfo,Za=!0,li(e,t,a),ta=n,Za=u;break;case 0:case 11:case 14:case 15:Mi(2,a,t),ma||Mi(4,a,t),li(e,t,a);break;case 1:ma||(Nn(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Dd(a,t,n)),li(e,t,a);break;case 21:li(e,t,a);break;case 22:ma=(n=ma)||a.memoizedState!==null,li(e,t,a),ma=n;break;default:li(e,t,a)}}function Gd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(a){Ft(t,t.return,a)}}}function kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(a){Ft(t,t.return,a)}}function Lp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rd),t;default:throw Error(o(435,e.tag))}}function qo(e,t){var a=Lp(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var u=Xp.bind(null,e,n);n.then(u,u)}})}function qa(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var u=a[n],c=e,g=t,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(zi(_.type)){ta=_.stateNode,Za=!1;break e}break;case 5:ta=_.stateNode,Za=!1;break e;case 3:case 4:ta=_.stateNode.containerInfo,Za=!0;break e}_=_.return}if(ta===null)throw Error(o(160));Nd(c,g,u),ta=null,Za=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hd(t,e),t=t.sibling}var Mn=null;function Hd(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qa(t,e),Ia(e),n&4&&(Mi(3,e,e.return),Or(3,e),Mi(5,e,e.return));break;case 1:qa(t,e),Ia(e),n&512&&(ma||a===null||Nn(a,a.return)),n&64&&ii&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var u=Mn;if(qa(t,e),Ia(e),n&512&&(ma||a===null||Nn(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(n){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Te]||c[Zt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(n),u.head.insertBefore(c,u.querySelector("head > title"))),wa(c,n,a),c[Zt]=e,st(c),n=c;break e;case"link":var g=Hv("link","href",u).get(n+(a.href||""));if(g){for(var _=0;_<g.length;_++)if(c=g[_],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(_,1);break t}}c=u.createElement(n),wa(c,n,a),u.head.appendChild(c);break;case"meta":if(g=Hv("meta","content",u).get(n+(a.content||""))){for(_=0;_<g.length;_++)if(c=g[_],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(_,1);break t}}c=u.createElement(n),wa(c,n,a),u.head.appendChild(c);break;default:throw Error(o(468,n))}c[Zt]=e,st(c),n=c}e.stateNode=n}else Fv(u,e.type,e.stateNode);else e.stateNode=kv(u,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?Fv(u,e.type,e.stateNode):kv(u,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Js(e,e.memoizedProps,a.memoizedProps)}break;case 27:qa(t,e),Ia(e),n&512&&(ma||a===null||Nn(a,a.return)),a!==null&&n&4&&Js(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qa(t,e),Ia(e),n&512&&(ma||a===null||Nn(a,a.return)),e.flags&32){u=e.stateNode;try{Dn(u,"")}catch(Ve){Ft(e,e.return,Ve)}}n&4&&e.stateNode!=null&&(u=e.memoizedProps,Js(e,u,a!==null?a.memoizedProps:u)),n&1024&&(ec=!0);break;case 6:if(qa(t,e),Ia(e),n&4){if(e.stateNode===null)throw Error(o(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(Ve){Ft(e,e.return,Ve)}}break;case 3:if(uu=null,u=Mn,Mn=ru(t.containerInfo),qa(t,e),Mn=u,Ia(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(Ve){Ft(e,e.return,Ve)}ec&&(ec=!1,Fd(e));break;case 4:n=Mn,Mn=ru(e.stateNode.containerInfo),qa(t,e),Ia(e),Mn=n;break;case 12:qa(t,e),Ia(e);break;case 31:qa(t,e),Ia(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qo(e,n)));break;case 13:qa(t,e),Ia(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qo=Ce()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qo(e,n)));break;case 22:u=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,W=ii,fe=ma;if(ii=W||u,ma=fe||O,qa(t,e),ma=fe,ii=W,Ia(e),n&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||O||ii||ma||ll(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){O=a=t;try{if(c=O.stateNode,u)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=O.stateNode;var ye=O.memoizedProps.style,$=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ve){Ft(O,O.return,Ve)}}}else if(t.tag===6){if(a===null){O=t;try{O.stateNode.nodeValue=u?"":O.memoizedProps}catch(Ve){Ft(O,O.return,Ve)}}}else if(t.tag===18){if(a===null){O=t;try{var le=O.stateNode;u?Dv(le,!0):Dv(O.stateNode,!1)}catch(Ve){Ft(O,O.return,Ve)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,qo(e,a))));break;case 19:qa(t,e),Ia(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qo(e,n)));break;case 30:break;case 21:break;default:qa(t,e),Ia(e)}}function Ia(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Cd(n)){a=n;break}n=n.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var u=a.stateNode,c=Ps(e);Zo(e,c,u);break;case 5:var g=a.stateNode;a.flags&32&&(Dn(g,""),a.flags&=-33);var _=Ps(e);Zo(e,_,g);break;case 3:case 4:var O=a.stateNode.containerInfo,W=Ps(e);$s(e,W,O);break;default:throw Error(o(161))}}catch(fe){Ft(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bd(e,t.alternate,t),t=t.sibling}function ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Mi(4,t,t.return),ll(t);break;case 1:Nn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Dd(t,t.return,a),ll(t);break;case 27:Fr(t.stateNode);case 26:case 5:Nn(t,t.return),ll(t);break;case 22:t.memoizedState===null&&ll(t);break;case 30:ll(t);break;default:ll(t)}e=e.sibling}}function oi(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,u=e,c=t,g=c.flags;switch(c.tag){case 0:case 11:case 15:oi(u,c,a),Or(4,c);break;case 1:if(oi(u,c,a),n=c,u=n.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(W){Ft(n,n.return,W)}if(n=c,u=n.updateQueue,u!==null){var _=n.stateNode;try{var O=u.shared.hiddenCallbacks;if(O!==null)for(u.shared.hiddenCallbacks=null,u=0;u<O.length;u++)gh(O[u],_)}catch(W){Ft(n,n.return,W)}}a&&g&64&&wd(c),Cr(c,c.return);break;case 27:zd(c);case 26:case 5:oi(u,c,a),a&&n===null&&g&4&&Od(c),Cr(c,c.return);break;case 12:oi(u,c,a);break;case 31:oi(u,c,a),a&&g&4&&Gd(u,c);break;case 13:oi(u,c,a),a&&g&4&&kd(u,c);break;case 22:c.memoizedState===null&&oi(u,c,a),Cr(c,c.return);break;case 30:break;default:oi(u,c,a)}t=t.sibling}}function tc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gr(a))}function ac(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gr(e))}function xn(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jd(e,t,a,n),t=t.sibling}function jd(e,t,a,n){var u=t.flags;switch(t.tag){case 0:case 11:case 15:xn(e,t,a,n),u&2048&&Or(9,t);break;case 1:xn(e,t,a,n);break;case 3:xn(e,t,a,n),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gr(e)));break;case 12:if(u&2048){xn(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,g=c.id,_=c.onPostCommit;typeof _=="function"&&_(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Ft(t,t.return,O)}}else xn(e,t,a,n);break;case 31:xn(e,t,a,n);break;case 13:xn(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,g=t.alternate,t.memoizedState!==null?c._visibility&2?xn(e,t,a,n):zr(e,t):c._visibility&2?xn(e,t,a,n):(c._visibility|=2,Fl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),u&2048&&tc(g,t);break;case 24:xn(e,t,a,n),u&2048&&ac(t.alternate,t);break;default:xn(e,t,a,n)}}function Fl(e,t,a,n,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,g=t,_=a,O=n,W=g.flags;switch(g.tag){case 0:case 11:case 15:Fl(c,g,_,O,u),Or(8,g);break;case 23:break;case 22:var fe=g.stateNode;g.memoizedState!==null?fe._visibility&2?Fl(c,g,_,O,u):zr(c,g):(fe._visibility|=2,Fl(c,g,_,O,u)),u&&W&2048&&tc(g.alternate,g);break;case 24:Fl(c,g,_,O,u),u&&W&2048&&ac(g.alternate,g);break;default:Fl(c,g,_,O,u)}t=t.sibling}}function zr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,u=n.flags;switch(n.tag){case 22:zr(a,n),u&2048&&tc(n.alternate,n);break;case 24:zr(a,n),u&2048&&ac(n.alternate,n);break;default:zr(a,n)}t=t.sibling}}var Rr=8192;function jl(e,t,a){if(e.subtreeFlags&Rr)for(e=e.child;e!==null;)Vd(e,t,a),e=e.sibling}function Vd(e,t,a){switch(e.tag){case 26:jl(e,t,a),e.flags&Rr&&e.memoizedState!==null&&_1(a,Mn,e.memoizedState,e.memoizedProps);break;case 5:jl(e,t,a);break;case 3:case 4:var n=Mn;Mn=ru(e.stateNode.containerInfo),jl(e,t,a),Mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Rr,Rr=16777216,jl(e,t,a),Rr=n):jl(e,t,a));break;default:jl(e,t,a)}}function Yd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Aa=n,Zd(n,e)}Yd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xd(e),e=e.sibling}function Xd(e){switch(e.tag){case 0:case 11:case 15:Br(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:Br(e);break;case 12:Br(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Io(e)):Br(e);break;default:Br(e)}}function Io(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Aa=n,Zd(n,e)}Yd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Mi(8,t,t.return),Io(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Io(t));break;default:Io(t)}e=e.sibling}}function Zd(e,t){for(;Aa!==null;){var a=Aa;switch(a.tag){case 0:case 11:case 15:Mi(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:gr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Aa=n;else e:for(a=e;Aa!==null;){n=Aa;var u=n.sibling,c=n.return;if(Ld(n),n===a){Aa=null;break e}if(u!==null){u.return=c,Aa=u;break e}Aa=c}}}var Np={getCacheForType:function(e){var t=xa(ha),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return xa(ha).controller.signal}},Gp=typeof WeakMap=="function"?WeakMap:Map,Bt=0,It=null,St=null,At=0,Ht=0,nn=null,xi=!1,Vl=!1,nc=!1,ui=0,oa=0,Ui=0,rl=0,ic=0,ln=0,Yl=0,Lr=null,Qa=null,lc=!1,Qo=0,qd=0,Ko=1/0,Wo=null,wi=null,ga=0,Di=null,Xl=null,si=0,rc=0,oc=null,Id=null,Nr=0,uc=null;function rn(){return(Bt&2)!==0&&At!==0?At&-At:x.T!==null?vc():La()}function Qd(){if(ln===0)if((At&536870912)===0||xt){var e=it;it<<=1,(it&3932160)===0&&(it=262144),ln=e}else ln=536870912;return e=tn.current,e!==null&&(e.flags|=32),ln}function Ka(e,t,a){(e===It&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(Zl(e,0),Oi(e,At,ln,!1)),kt(e,a),((Bt&2)===0||e!==It)&&(e===It&&((Bt&2)===0&&(rl|=a),oa===4&&Oi(e,At,ln,!1)),Gn(e))}function Kd(e,t,a){if((Bt&6)!==0)throw Error(o(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||gt(e,t),u=n?Fp(e,t):cc(e,t,!0),c=n;do{if(u===0){Vl&&!n&&Oi(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!kp(a)){u=cc(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var _=e;u=Lr;var O=_.current.memoizedState.isDehydrated;if(O&&(Zl(_,g).flags|=256),g=cc(_,g,!1),g!==2){if(nc&&!O){_.errorRecoveryDisabledLanes|=c,rl|=c,u=4;break e}c=Qa,Qa=u,c!==null&&(Qa===null?Qa=c:Qa.push.apply(Qa,c))}u=g}if(c=!1,u!==2)continue}}if(u===1){Zl(e,0),Oi(e,t,0,!0);break}e:{switch(n=e,c=u,c){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Oi(n,t,ln,!xi);break e;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(u=Qo+300-Ce(),10<u)){if(Oi(n,t,ln,!xi),ft(n,0,!0)!==0)break e;si=t,n.timeoutHandle=xv(Wd.bind(null,n,a,Qa,Wo,lc,t,ln,rl,Yl,xi,c,"Throttled",-0,0),u);break e}Wd(n,a,Qa,Wo,lc,t,ln,rl,Yl,xi,c,null,-0,0)}}break}while(!0);Gn(e)}function Wd(e,t,a,n,u,c,g,_,O,W,fe,ye,$,le){if(e.timeoutHandle=-1,ye=t.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},Vd(t,c,ye);var Ve=(c&62914560)===c?Qo-Ce():(c&4194048)===c?qd-Ce():0;if(Ve=E1(ye,Ve),Ve!==null){si=c,e.cancelPendingCommit=Ve(iv.bind(null,e,t,c,a,n,u,g,_,O,fe,ye,null,$,le)),Oi(e,c,g,!W);return}}iv(e,t,c,a,n,u,g,_,O)}function kp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var u=a[n],c=u.getSnapshot;u=u.value;try{if(!$a(c(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oi(e,t,a,n){t&=~ic,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var u=t;0<u;){var c=31-B(u),g=1<<c;n[c]=-1,u&=~g}a!==0&&ea(e,a,t)}function Jo(){return(Bt&6)===0?(Gr(0),!1):!0}function sc(){if(St!==null){if(Ht===0)var e=St.return;else e=St,Pn=Ji=null,Ms(e),Ll=null,br=0,e=St;for(;e!==null;)Ud(e.alternate,e),e=e.return;St=null}}function Zl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,i1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),si=0,sc(),It=e,St=a=Wn(e.current,null),At=t,Ht=0,nn=null,xi=!1,Vl=gt(e,t),nc=!1,Yl=ln=ic=rl=Ui=oa=0,Qa=Lr=null,lc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var u=31-B(n),c=1<<u;t|=e[u],n&=~c}return ui=t,yo(),a}function Jd(e,t){ht=null,x.H=Ur,t===Bl||t===xo?(t=dh(),Ht=3):t===ds?(t=dh(),Ht=4):Ht=t===js?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,nn=t,St===null&&(oa=1,Fo(e,fn(t,e.current)))}function Pd(){var e=tn.current;return e===null?!0:(At&4194048)===At?mn===null:(At&62914560)===At||(At&536870912)!==0?e===mn:!1}function $d(){var e=x.H;return x.H=Ur,e===null?Ur:e}function ev(){var e=x.A;return x.A=Np,e}function Po(){oa=4,xi||(At&4194048)!==At&&tn.current!==null||(Vl=!0),(Ui&134217727)===0&&(rl&134217727)===0||It===null||Oi(It,At,ln,!1)}function cc(e,t,a){var n=Bt;Bt|=2;var u=$d(),c=ev();(It!==e||At!==t)&&(Wo=null,Zl(e,t)),t=!1;var g=oa;e:do try{if(Ht!==0&&St!==null){var _=St,O=nn;switch(Ht){case 8:sc(),g=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(t=!0);var W=Ht;if(Ht=0,nn=null,ql(e,_,O,W),a&&Vl){g=0;break e}break;default:W=Ht,Ht=0,nn=null,ql(e,_,O,W)}}Hp(),g=oa;break}catch(fe){Jd(e,fe)}while(!0);return t&&e.shellSuspendCounter++,Pn=Ji=null,Bt=n,x.H=u,x.A=c,St===null&&(It=null,At=0,yo()),g}function Hp(){for(;St!==null;)tv(St)}function Fp(e,t){var a=Bt;Bt|=2;var n=$d(),u=ev();It!==e||At!==t?(Wo=null,Ko=Ce()+500,Zl(e,t)):Vl=gt(e,t);e:do try{if(Ht!==0&&St!==null){t=St;var c=nn;t:switch(Ht){case 1:Ht=0,nn=null,ql(e,t,c,1);break;case 2:case 9:if(fh(c)){Ht=0,nn=null,av(t);break}t=function(){Ht!==2&&Ht!==9||It!==e||(Ht=7),Gn(e)},c.then(t,t);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:fh(c)?(Ht=0,nn=null,av(t)):(Ht=0,nn=null,ql(e,t,c,7));break;case 5:var g=null;switch(St.tag){case 26:g=St.memoizedState;case 5:case 27:var _=St;if(g?jv(g):_.stateNode.complete){Ht=0,nn=null;var O=_.sibling;if(O!==null)St=O;else{var W=_.return;W!==null?(St=W,$o(W)):St=null}break t}}Ht=0,nn=null,ql(e,t,c,5);break;case 6:Ht=0,nn=null,ql(e,t,c,6);break;case 8:sc(),oa=6;break e;default:throw Error(o(462))}}jp();break}catch(fe){Jd(e,fe)}while(!0);return Pn=Ji=null,x.H=n,x.A=u,Bt=a,St!==null?0:(It=null,At=0,yo(),oa)}function jp(){for(;St!==null&&!rt();)tv(St)}function tv(e){var t=Md(e.alternate,e,ui);e.memoizedProps=e.pendingProps,t===null?$o(e):St=t}function av(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=bd(a,t,t.pendingProps,t.type,void 0,At);break;case 11:t=bd(a,t,t.pendingProps,t.type.render,t.ref,At);break;case 5:Ms(t);default:Ud(a,t),t=St=eh(t,ui),t=Md(a,t,ui)}e.memoizedProps=e.pendingProps,t===null?$o(e):St=t}function ql(e,t,a,n){Pn=Ji=null,Ms(t),Ll=null,br=0;var u=t.return;try{if(Dp(e,u,t,a,At)){oa=1,Fo(e,fn(a,e.current)),St=null;return}}catch(c){if(u!==null)throw St=u,c;oa=1,Fo(e,fn(a,e.current)),St=null;return}t.flags&32768?(xt||n===1?e=!0:Vl||(At&536870912)!==0?e=!1:(xi=e=!0,(n===2||n===9||n===3||n===6)&&(n=tn.current,n!==null&&n.tag===13&&(n.flags|=16384))),nv(t,e)):$o(t)}function $o(e){var t=e;do{if((t.flags&32768)!==0){nv(t,xi);return}e=t.return;var a=zp(t.alternate,t,ui);if(a!==null){St=a;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);oa===0&&(oa=5)}function nv(e,t){do{var a=Rp(e.alternate,e);if(a!==null){a.flags&=32767,St=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){St=e;return}St=e=a}while(e!==null);oa=6,St=null}function iv(e,t,a,n,u,c,g,_,O){e.cancelPendingCommit=null;do eu();while(ga!==0);if((Bt&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(c=t.lanes|t.childLanes,c|=Pu,Qt(e,a,c,g,_,O),e===It&&(St=It=null,At=0),Xl=t,Di=e,si=a,rc=c,oc=u,Id=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zp(ke,function(){return sv(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=x.T,x.T=null,u=ae.p,ae.p=2,g=Bt,Bt|=4;try{Bp(e,t,a)}finally{Bt=g,ae.p=u,x.T=n}}ga=1,lv(),rv(),ov()}}function lv(){if(ga===1){ga=0;var e=Di,t=Xl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=x.T,x.T=null;var n=ae.p;ae.p=2;var u=Bt;Bt|=4;try{Hd(t,e);var c=Ec,g=Zf(e.containerInfo),_=c.focusedElem,O=c.selectionRange;if(g!==_&&_&&_.ownerDocument&&Xf(_.ownerDocument.documentElement,_)){if(O!==null&&Iu(_)){var W=O.start,fe=O.end;if(fe===void 0&&(fe=W),"selectionStart"in _)_.selectionStart=W,_.selectionEnd=Math.min(fe,_.value.length);else{var ye=_.ownerDocument||document,$=ye&&ye.defaultView||window;if($.getSelection){var le=$.getSelection(),Ve=_.textContent.length,nt=Math.min(O.start,Ve),Yt=O.end===void 0?nt:Math.min(O.end,Ve);!le.extend&&nt>Yt&&(g=Yt,Yt=nt,nt=g);var I=Yf(_,nt),G=Yf(_,Yt);if(I&&G&&(le.rangeCount!==1||le.anchorNode!==I.node||le.anchorOffset!==I.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var K=ye.createRange();K.setStart(I.node,I.offset),le.removeAllRanges(),nt>Yt?(le.addRange(K),le.extend(G.node,G.offset)):(K.setEnd(G.node,G.offset),le.addRange(K))}}}}for(ye=[],le=_;le=le.parentNode;)le.nodeType===1&&ye.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ye.length;_++){var he=ye[_];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}hu=!!_c,Ec=_c=null}finally{Bt=u,ae.p=n,x.T=a}}e.current=t,ga=2}}function rv(){if(ga===2){ga=0;var e=Di,t=Xl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=x.T,x.T=null;var n=ae.p;ae.p=2;var u=Bt;Bt|=4;try{Bd(e,t.alternate,t)}finally{Bt=u,ae.p=n,x.T=a}}ga=3}}function ov(){if(ga===4||ga===3){ga=0,Re();var e=Di,t=Xl,a=si,n=Id;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ga=5:(ga=0,Xl=Di=null,uv(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(wi=null),ya(a),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(at,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=x.T,u=ae.p,ae.p=2,x.T=null;try{for(var c=e.onRecoverableError,g=0;g<n.length;g++){var _=n[g];c(_.value,{componentStack:_.stack})}}finally{x.T=t,ae.p=u}}(si&3)!==0&&eu(),Gn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===uc?Nr++:(Nr=0,uc=e):Nr=0,Gr(0)}}function uv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gr(t)))}function eu(){return lv(),rv(),ov(),sv()}function sv(){if(ga!==5)return!1;var e=Di,t=rc;rc=0;var a=ya(si),n=x.T,u=ae.p;try{ae.p=32>a?32:a,x.T=null,a=oc,oc=null;var c=Di,g=si;if(ga=0,Xl=Di=null,si=0,(Bt&6)!==0)throw Error(o(331));var _=Bt;if(Bt|=4,Xd(c.current),jd(c,c.current,g,a),Bt=_,Gr(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(at,c)}catch{}return!0}finally{ae.p=u,x.T=n,uv(e,t)}}function cv(e,t,a){t=fn(a,t),t=Fs(e.stateNode,t,2),e=Ei(e,t,2),e!==null&&(kt(e,2),Gn(e))}function Ft(e,t,a){if(e.tag===3)cv(e,e,a);else for(;t!==null;){if(t.tag===3){cv(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wi===null||!wi.has(n))){e=fn(a,e),a=fd(2),n=Ei(t,a,2),n!==null&&(hd(a,n,t,e),kt(n,2),Gn(n));break}}t=t.return}}function fc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Gp;var u=new Set;n.set(t,u)}else u=n.get(t),u===void 0&&(u=new Set,n.set(t,u));u.has(a)||(nc=!0,u.add(a),e=Vp.bind(null,e,t,a),t.then(e,e))}function Vp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,It===e&&(At&a)===a&&(oa===4||oa===3&&(At&62914560)===At&&300>Ce()-Qo?(Bt&2)===0&&Zl(e,0):ic|=a,Yl===At&&(Yl=0)),Gn(e)}function fv(e,t){t===0&&(t=et()),e=Qi(e,t),e!==null&&(kt(e,t),Gn(e))}function Yp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),fv(e,a)}function Xp(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}n!==null&&n.delete(t),fv(e,a)}function Zp(e,t){return Ge(e,t)}var tu=null,Il=null,hc=!1,au=!1,dc=!1,Ci=0;function Gn(e){e!==Il&&e.next===null&&(Il===null?tu=Il=e:Il=Il.next=e),au=!0,hc||(hc=!0,Ip())}function Gr(e,t){if(!dc&&au){dc=!0;do for(var a=!1,n=tu;n!==null;){if(e!==0){var u=n.pendingLanes;if(u===0)var c=0;else{var g=n.suspendedLanes,_=n.pingedLanes;c=(1<<31-B(42|e)+1)-1,c&=u&~(g&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,mv(n,c))}else c=At,c=ft(n,n===It?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||gt(n,c)||(a=!0,mv(n,c));n=n.next}while(a);dc=!1}}function qp(){hv()}function hv(){au=hc=!1;var e=0;Ci!==0&&n1()&&(e=Ci);for(var t=Ce(),a=null,n=tu;n!==null;){var u=n.next,c=dv(n,t);c===0?(n.next=null,a===null?tu=u:a.next=u,u===null&&(Il=a)):(a=n,(e!==0||(c&3)!==0)&&(au=!0)),n=u}ga!==0&&ga!==5||Gr(e),Ci!==0&&(Ci=0)}function dv(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var g=31-B(c),_=1<<g,O=u[g];O===-1?((_&a)===0||(_&n)!==0)&&(u[g]=yt(_,t)):O<=t&&(e.expiredLanes|=_),c&=~_}if(t=It,a=At,a=ft(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&be(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&be(n),ya(a)){case 2:case 8:a=Ye;break;case 32:a=ke;break;case 268435456:a=ot;break;default:a=ke}return n=vv.bind(null,e),a=Ge(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&be(n),e.callbackPriority=2,e.callbackNode=null,2}function vv(e,t){if(ga!==0&&ga!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(eu()&&e.callbackNode!==a)return null;var n=At;return n=ft(e,e===It?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Kd(e,n,t),dv(e,Ce()),e.callbackNode!=null&&e.callbackNode===a?vv.bind(null,e):null)}function mv(e,t){if(eu())return null;Kd(e,t,!0)}function Ip(){l1(function(){(Bt&6)!==0?Ge(bt,qp):hv()})}function vc(){if(Ci===0){var e=zl;e===0&&(e=re,re<<=1,(re&261888)===0&&(re=256)),Ci=e}return Ci}function pv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:En(""+e)}function gv(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Qp(e,t,a,n,u){if(t==="submit"&&a&&a.stateNode===u){var c=pv((u[b]||null).action),g=n.submitter;g&&(t=(t=g[b]||null)?pv(t.formAction):g.getAttribute("formAction"),t!==null&&(c=t,g=null));var _=new mi("action","action",null,n,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ci!==0){var O=g?gv(u,g):new FormData(u);Bs(a,{pending:!0,data:O,method:u.method,action:c},null,O)}}else typeof c=="function"&&(_.preventDefault(),O=g?gv(u,g):new FormData(u),Bs(a,{pending:!0,data:O,method:u.method,action:c},c,O))},currentTarget:u}]})}}for(var mc=0;mc<Ju.length;mc++){var pc=Ju[mc],Kp=pc.toLowerCase(),Wp=pc[0].toUpperCase()+pc.slice(1);An(Kp,"on"+Wp)}An(Qf,"onAnimationEnd"),An(Kf,"onAnimationIteration"),An(Wf,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(hp,"onTransitionRun"),An(dp,"onTransitionStart"),An(vp,"onTransitionCancel"),An(Jf,"onTransitionEnd"),ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kr));function yv(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],u=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var g=n.length-1;0<=g;g--){var _=n[g],O=_.instance,W=_.currentTarget;if(_=_.listener,O!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=W;try{c(u)}catch(fe){go(fe)}u.currentTarget=null,c=O}else for(g=0;g<n.length;g++){if(_=n[g],O=_.instance,W=_.currentTarget,_=_.listener,O!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=W;try{c(u)}catch(fe){go(fe)}u.currentTarget=null,c=O}}}}function _t(e,t){var a=t[R];a===void 0&&(a=t[R]=new Set);var n=e+"__bubble";a.has(n)||(bv(t,e,2,!1),a.add(n))}function gc(e,t,a){var n=0;t&&(n|=4),bv(a,e,n,t)}var nu="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[nu]){e[nu]=!0,Ie.forEach(function(a){a!=="selectionchange"&&(Jp.has(a)||gc(a,!1,e),gc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nu]||(t[nu]=!0,gc("selectionchange",!1,t))}}function bv(e,t,a,n){switch(Qv(t)){case 2:var u=M1;break;case 8:u=x1;break;default:u=Rc}a=u.bind(null,t,a,e),u=void 0,!Ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),n?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function bc(e,t,a,n,u){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var g=n.tag;if(g===3||g===4){var _=n.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=n.return;g!==null;){var O=g.tag;if((O===3||O===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=Ae(_),g===null)return;if(O=g.tag,O===5||O===6||O===26||O===27){n=c=g;continue e}_=_.parentNode}}n=n.return}Yi(function(){var W=c,fe=pl(a),ye=[];e:{var $=Pf.get(e);if($!==void 0){var le=mi,Ve=e;switch(e){case"keypress":if(Xi(a)===0)break e;case"keydown":case"keyup":le=X0;break;case"focusin":Ve="focus",le=sr;break;case"focusout":Ve="blur",le=sr;break;case"beforeblur":case"afterblur":le=sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=El;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=I0;break;case Qf:case Kf:case Wf:le=Pa;break;case Jf:le=K0;break;case"scroll":case"scrollend":le=Zi;break;case"wheel":le=J0;break;case"copy":case"cut":case"paste":le=Rn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Df;break;case"toggle":case"beforetoggle":le=$0}var nt=(t&4)!==0,Yt=!nt&&(e==="scroll"||e==="scrollend"),I=nt?$!==null?$+"Capture":null:$;nt=[];for(var G=W,K;G!==null;){var he=G;if(K=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||K===null||I===null||(he=Zn(G,I),he!=null&&nt.push(Hr(G,he,K))),Yt)break;G=G.return}0<nt.length&&($=new le($,Ve,null,a,fe),ye.push({event:$,listeners:nt}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",$&&a!==Xn&&(Ve=a.relatedTarget||a.fromElement)&&(Ae(Ve)||Ve[T]))break e;if((le||$)&&($=fe.window===fe?fe:($=fe.ownerDocument)?$.defaultView||$.parentWindow:window,le?(Ve=a.relatedTarget||a.toElement,le=W,Ve=Ve?Ae(Ve):null,Ve!==null&&(Yt=l(Ve),nt=Ve.tag,Ve!==Yt||nt!==5&&nt!==27&&nt!==6)&&(Ve=null)):(le=null,Ve=W),le!==Ve)){if(nt=ho,he="onMouseLeave",I="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Df,he="onPointerLeave",I="onPointerEnter",G="pointer"),Yt=le==null?$:we(le),K=Ve==null?$:we(Ve),$=new nt(he,G+"leave",le,a,fe),$.target=Yt,$.relatedTarget=K,he=null,Ae(fe)===W&&(nt=new nt(I,G+"enter",Ve,a,fe),nt.target=K,nt.relatedTarget=Yt,he=nt),Yt=he,le&&Ve)t:{for(nt=Pp,I=le,G=Ve,K=0,he=I;he;he=nt(he))K++;he=0;for(var Pe=G;Pe;Pe=nt(Pe))he++;for(;0<K-he;)I=nt(I),K--;for(;0<he-K;)G=nt(G),he--;for(;K--;){if(I===G||G!==null&&I===G.alternate){nt=I;break t}I=nt(I),G=nt(G)}nt=null}else nt=null;le!==null&&Sv(ye,$,le,nt,!1),Ve!==null&&Yt!==null&&Sv(ye,Yt,Ve,nt,!0)}}e:{if($=W?we(W):window,le=$.nodeName&&$.nodeName.toLowerCase(),le==="select"||le==="input"&&$.type==="file")var zt=Gf;else if(Lf($))if(kf)zt=sp;else{zt=op;var Qe=rp}else le=$.nodeName,!le||le.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?W&&Yn(W.elementType)&&(zt=Gf):zt=up;if(zt&&(zt=zt(e,W))){Nf(ye,zt,a,fe);break e}Qe&&Qe(e,$,W),e==="focusout"&&W&&$.type==="number"&&W.memoizedProps.value!=null&&na($,"number",$.value)}switch(Qe=W?we(W):window,e){case"focusin":(Lf(Qe)||Qe.contentEditable==="true")&&(Al=Qe,Qu=W,vr=null);break;case"focusout":vr=Qu=Al=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,qf(ye,a,fe);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":qf(ye,a,fe)}var vt;if(Xu)e:{switch(e){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else Tl?Rf(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Of&&a.locale!=="ko"&&(Tl||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Tl&&(vt=ur()):(Tn=fe,bl="value"in Tn?Tn.value:Tn.textContent,Tl=!0)),Qe=iu(W,Mt),0<Qe.length&&(Mt=new wf(Mt,e,null,a,fe),ye.push({event:Mt,listeners:Qe}),vt?Mt.data=vt:(vt=Bf(a),vt!==null&&(Mt.data=vt)))),(vt=tp?ap(e,a):np(e,a))&&(Mt=iu(W,"onBeforeInput"),0<Mt.length&&(Qe=new wf("onBeforeInput","beforeinput",null,a,fe),ye.push({event:Qe,listeners:Mt}),Qe.data=vt)),Qp(ye,e,W,a,fe)}yv(ye,t)})}function Hr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function iu(e,t){for(var a=t+"Capture",n=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Zn(e,a),u!=null&&n.unshift(Hr(e,u,c)),u=Zn(e,t),u!=null&&n.push(Hr(e,u,c))),e.tag===3)return n;e=e.return}return[]}function Pp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sv(e,t,a,n,u){for(var c=t._reactName,g=[];a!==null&&a!==n;){var _=a,O=_.alternate,W=_.stateNode;if(_=_.tag,O!==null&&O===n)break;_!==5&&_!==26&&_!==27||W===null||(O=W,u?(W=Zn(a,c),W!=null&&g.unshift(Hr(a,W,O))):u||(W=Zn(a,c),W!=null&&g.push(Hr(a,W,O)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var $p=/\r\n?/g,e1=/\u0000|\uFFFD/g;function _v(e){return(typeof e=="string"?e:""+e).replace($p,`
`).replace(e1,"")}function Ev(e,t){return t=_v(t),_v(e)===t}function Vt(e,t,a,n,u,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Dn(e,""+n);break;case"className":ba(e,"class",n);break;case"tabIndex":ba(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ba(e,a,n);break;case"style":vl(e,n,c);break;case"data":if(t!=="object"){ba(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=En(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Vt(e,t,"name",u.name,u,null),Vt(e,t,"formEncType",u.formEncType,u,null),Vt(e,t,"formMethod",u.formMethod,u,null),Vt(e,t,"formTarget",u.formTarget,u,null)):(Vt(e,t,"encType",u.encType,u,null),Vt(e,t,"method",u.method,u,null),Vt(e,t,"target",u.target,u,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=En(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Na);break;case"onScroll":n!=null&&_t("scroll",e);break;case"onScrollEnd":n!=null&&_t("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=En(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":_t("beforetoggle",e),_t("toggle",e),Tt(e,"popover",n);break;case"xlinkActuate":pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":pt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":pt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":pt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":pt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fo.get(a)||a,Tt(e,a,n))}}function Sc(e,t,a,n,u,c){switch(a){case"style":vl(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&Dn(e,""+n);break;case"onScroll":n!=null&&_t("scroll",e);break;case"onScrollEnd":n!=null&&_t("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xe.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),c=e[b]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,u);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Tt(e,a,n)}}}function wa(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",e),_t("load",e);var n=!1,u=!1,c;for(c in a)if(a.hasOwnProperty(c)){var g=a[c];if(g!=null)switch(c){case"src":n=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Vt(e,t,c,g,a,null)}}u&&Vt(e,t,"srcSet",a.srcSet,a,null),n&&Vt(e,t,"src",a.src,a,null);return;case"input":_t("invalid",e);var _=c=g=u=null,O=null,W=null;for(n in a)if(a.hasOwnProperty(n)){var fe=a[n];if(fe!=null)switch(n){case"name":u=fe;break;case"type":g=fe;break;case"checked":O=fe;break;case"defaultChecked":W=fe;break;case"value":c=fe;break;case"defaultValue":_=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,t));break;default:Vt(e,t,n,fe,a,null)}}Va(e,c,_,O,W,g,u,!1);return;case"select":_t("invalid",e),n=g=c=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":c=_;break;case"defaultValue":g=_;break;case"multiple":n=_;default:Vt(e,t,u,_,a,null)}t=c,a=g,e.multiple=!!n,t!=null?Ea(e,!!n,t,!1):a!=null&&Ea(e,!!n,a,!0);return;case"textarea":_t("invalid",e),c=u=n=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":n=_;break;case"defaultValue":u=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(91));break;default:Vt(e,t,g,_,a,null)}Vi(e,n,u,c);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(n=a[O],n!=null))switch(O){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Vt(e,t,O,n,a,null)}return;case"dialog":_t("beforetoggle",e),_t("toggle",e),_t("cancel",e),_t("close",e);break;case"iframe":case"object":_t("load",e);break;case"video":case"audio":for(n=0;n<kr.length;n++)_t(kr[n],e);break;case"image":_t("error",e),_t("load",e);break;case"details":_t("toggle",e);break;case"embed":case"source":case"link":_t("error",e),_t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(n=a[W],n!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Vt(e,t,W,n,a,null)}return;default:if(Yn(t)){for(fe in a)a.hasOwnProperty(fe)&&(n=a[fe],n!==void 0&&Sc(e,t,fe,n,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(n=a[_],n!=null&&Vt(e,t,_,n,a,null))}function t1(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,g=null,_=null,O=null,W=null,fe=null;for(le in a){var ye=a[le];if(a.hasOwnProperty(le)&&ye!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":O=ye;default:n.hasOwnProperty(le)||Vt(e,t,le,null,n,ye)}}for(var $ in n){var le=n[$];if(ye=a[$],n.hasOwnProperty($)&&(le!=null||ye!=null))switch($){case"type":c=le;break;case"name":u=le;break;case"checked":W=le;break;case"defaultChecked":fe=le;break;case"value":g=le;break;case"defaultValue":_=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,t));break;default:le!==ye&&Vt(e,t,$,le,n,ye)}}_a(e,g,_,O,W,fe,c,u);return;case"select":le=g=_=$=null;for(c in a)if(O=a[c],a.hasOwnProperty(c)&&O!=null)switch(c){case"value":break;case"multiple":le=O;default:n.hasOwnProperty(c)||Vt(e,t,c,null,n,O)}for(u in n)if(c=n[u],O=a[u],n.hasOwnProperty(u)&&(c!=null||O!=null))switch(u){case"value":$=c;break;case"defaultValue":_=c;break;case"multiple":g=c;default:c!==O&&Vt(e,t,u,c,n,O)}t=_,a=g,n=le,$!=null?Ea(e,!!a,$,!1):!!n!=!!a&&(t!=null?Ea(e,!!a,t,!0):Ea(e,!!a,a?[]:"",!1));return;case"textarea":le=$=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Vt(e,t,_,null,n,u)}for(g in n)if(u=n[g],c=a[g],n.hasOwnProperty(g)&&(u!=null||c!=null))switch(g){case"value":$=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==c&&Vt(e,t,g,u,n,c)}ji(e,$,le);return;case"option":for(var Ve in a)if($=a[Ve],a.hasOwnProperty(Ve)&&$!=null&&!n.hasOwnProperty(Ve))switch(Ve){case"selected":e.selected=!1;break;default:Vt(e,t,Ve,null,n,$)}for(O in n)if($=n[O],le=a[O],n.hasOwnProperty(O)&&$!==le&&($!=null||le!=null))switch(O){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Vt(e,t,O,$,n,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in a)$=a[nt],a.hasOwnProperty(nt)&&$!=null&&!n.hasOwnProperty(nt)&&Vt(e,t,nt,null,n,$);for(W in n)if($=n[W],le=a[W],n.hasOwnProperty(W)&&$!==le&&($!=null||le!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,t));break;default:Vt(e,t,W,$,n,le)}return;default:if(Yn(t)){for(var Yt in a)$=a[Yt],a.hasOwnProperty(Yt)&&$!==void 0&&!n.hasOwnProperty(Yt)&&Sc(e,t,Yt,void 0,n,$);for(fe in n)$=n[fe],le=a[fe],!n.hasOwnProperty(fe)||$===le||$===void 0&&le===void 0||Sc(e,t,fe,$,n,le);return}}for(var I in a)$=a[I],a.hasOwnProperty(I)&&$!=null&&!n.hasOwnProperty(I)&&Vt(e,t,I,null,n,$);for(ye in n)$=n[ye],le=a[ye],!n.hasOwnProperty(ye)||$===le||$==null&&le==null||Vt(e,t,ye,$,n,le)}function Tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var u=a[n],c=u.transferSize,g=u.initiatorType,_=u.duration;if(c&&_&&Tv(g)){for(g=0,_=u.responseEnd,n+=1;n<a.length;n++){var O=a[n],W=O.startTime;if(W>_)break;var fe=O.transferSize,ye=O.initiatorType;fe&&Tv(ye)&&(O=O.responseEnd,g+=fe*(O<_?1:(_-W)/(O-W)))}if(--n,t+=8*(c+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _c=null,Ec=null;function lu(e){return e.nodeType===9?e:e.ownerDocument}function Av(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ac=null;function n1(){var e=window.event;return e&&e.type==="popstate"?e===Ac?!1:(Ac=e,!0):(Ac=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(e){return Uv.resolve(null).then(e).catch(r1)}:xv;function r1(e){setTimeout(function(){throw e})}function zi(e){return e==="head"}function wv(e,t){var a=t,n=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(u),Jl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Fr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Fr(a);for(var c=a.firstChild;c;){var g=c.nextSibling,_=c.nodeName;c[Te]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=g}}else a==="body"&&Fr(e.ownerDocument.body);a=u}while(a);Jl(t)}function Dv(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Mc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mc(a),Ee(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function o1(e,t,a,n){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Te])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=pn(e.nextSibling),e===null)break}return null}function u1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pn(e.nextSibling),e===null))return null;return e}function Ov(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=pn(e.nextSibling),e===null))return null;return e}function xc(e){return e.data==="$?"||e.data==="$~"}function Uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function s1(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wc=null;function Cv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return pn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Rv(e,t,a){switch(t=lu(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ee(e)}var gn=new Map,Bv=new Set;function ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ci=ae.d;ae.d={f:c1,r:f1,D:h1,C:d1,L:v1,m:m1,X:g1,S:p1,M:y1};function c1(){var e=ci.f(),t=Jo();return e||t}function f1(e){var t=Me(e);t!==null&&t.tag===5&&t.type==="form"?Jh(t):ci.r(e)}var Ql=typeof document>"u"?null:document;function Lv(e,t,a){var n=Ql;if(n&&typeof t=="string"&&t){var u=$e(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Bv.has(u)||(Bv.add(u),e={rel:e,crossOrigin:a,href:t},n.querySelector(u)===null&&(t=n.createElement("link"),wa(t,"link",e),st(t),n.head.appendChild(t)))}}function h1(e){ci.D(e),Lv("dns-prefetch",e,null)}function d1(e,t){ci.C(e,t),Lv("preconnect",e,t)}function v1(e,t,a){ci.L(e,t,a);var n=Ql;if(n&&e&&t){var u='link[rel="preload"][as="'+$e(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+$e(a.imageSizes)+'"]')):u+='[href="'+$e(e)+'"]';var c=u;switch(t){case"style":c=Kl(e);break;case"script":c=Wl(e)}gn.has(c)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),gn.set(c,e),n.querySelector(u)!==null||t==="style"&&n.querySelector(jr(c))||t==="script"&&n.querySelector(Vr(c))||(t=n.createElement("link"),wa(t,"link",e),st(t),n.head.appendChild(t)))}}function m1(e,t){ci.m(e,t);var a=Ql;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+$e(n)+'"][href="'+$e(e)+'"]',c=u;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Wl(e)}if(!gn.has(c)&&(e=y({rel:"modulepreload",href:e},t),gn.set(c,e),a.querySelector(u)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vr(c)))return}n=a.createElement("link"),wa(n,"link",e),st(n),a.head.appendChild(n)}}}function p1(e,t,a){ci.S(e,t,a);var n=Ql;if(n&&e){var u=ne(n).hoistableStyles,c=Kl(e);t=t||"default";var g=u.get(c);if(!g){var _={loading:0,preload:null};if(g=n.querySelector(jr(c)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=gn.get(c))&&Dc(e,a);var O=g=n.createElement("link");st(O),wa(O,"link",e),O._p=new Promise(function(W,fe){O.onload=W,O.onerror=fe}),O.addEventListener("load",function(){_.loading|=1}),O.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ou(g,t,n)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(c,g)}}}function g1(e,t){ci.X(e,t);var a=Ql;if(a&&e){var n=ne(a).hoistableScripts,u=Wl(e),c=n.get(u);c||(c=a.querySelector(Vr(u)),c||(e=y({src:e,async:!0},t),(t=gn.get(u))&&Oc(e,t),c=a.createElement("script"),st(c),wa(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(u,c))}}function y1(e,t){ci.M(e,t);var a=Ql;if(a&&e){var n=ne(a).hoistableScripts,u=Wl(e),c=n.get(u);c||(c=a.querySelector(Vr(u)),c||(e=y({src:e,async:!0,type:"module"},t),(t=gn.get(u))&&Oc(e,t),c=a.createElement("script"),st(c),wa(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(u,c))}}function Nv(e,t,a,n){var u=(u=se.current)?ru(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Kl(a.href),a=ne(u).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Kl(a.href);var c=ne(u).hoistableStyles,g=c.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,g),(c=u.querySelector(jr(e)))&&!c._p&&(g.instance=c,g.state.loading=5),gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gn.set(e,a),c||b1(u,e,a,g.state))),t&&n===null)throw Error(o(528,""));return g}if(t&&n!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wl(a),a=ne(u).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Kl(e){return'href="'+$e(e)+'"'}function jr(e){return'link[rel="stylesheet"]['+e+"]"}function Gv(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function b1(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),wa(t,"link",a),st(t),e.head.appendChild(t))}function Wl(e){return'[src="'+$e(e)+'"]'}function Vr(e){return"script[async]"+e}function kv(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+$e(a.href)+'"]');if(n)return t.instance=n,st(n),n;var u=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),st(n),wa(n,"style",u),ou(n,a.precedence,e),t.instance=n;case"stylesheet":u=Kl(a.href);var c=e.querySelector(jr(u));if(c)return t.state.loading|=4,t.instance=c,st(c),c;n=Gv(a),(u=gn.get(u))&&Dc(n,u),c=(e.ownerDocument||e).createElement("link"),st(c);var g=c;return g._p=new Promise(function(_,O){g.onload=_,g.onerror=O}),wa(c,"link",n),t.state.loading|=4,ou(c,a.precedence,e),t.instance=c;case"script":return c=Wl(a.src),(u=e.querySelector(Vr(c)))?(t.instance=u,st(u),u):(n=a,(u=gn.get(c))&&(n=y({},a),Oc(n,u)),e=e.ownerDocument||e,u=e.createElement("script"),st(u),wa(u,"link",n),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ou(n,a.precedence,e));return t.instance}function ou(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=n.length?n[n.length-1]:null,c=u,g=0;g<n.length;g++){var _=n[g];if(_.dataset.precedence===t)c=_;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var uu=null;function Hv(e,t,a){if(uu===null){var n=new Map,u=uu=new Map;u.set(a,n)}else u=uu,n=u.get(a),n||(n=new Map,u.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var c=a[u];if(!(c[Te]||c[Zt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(t)||"";g=e+g;var _=n.get(g);_?_.push(c):n.set(g,[c])}}return n}function Fv(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function S1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _1(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Kl(n.href),c=t.querySelector(jr(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=su.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,st(c);return}c=t.ownerDocument||t,n=Gv(n),(u=gn.get(u))&&Dc(n,u),c=c.createElement("link"),st(c);var g=c;g._p=new Promise(function(_,O){g.onload=_,g.onerror=O}),wa(c,"link",n),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=su.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Cc=0;function E1(e,t){return e.stylesheets&&e.count===0&&fu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Cc===0&&(Cc=62500*a1());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Cc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(u)}}:null}function su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cu=null;function fu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cu=new Map,t.forEach(T1,e),cu=null,su.call(e))}function T1(e,t){if(!(t.state.loading&4)){var a=cu.get(e);if(a)var n=a.get(null);else{a=new Map,cu.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var g=u[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),n=g)}n&&a.set(null,n)}u=t.instance,g=u.getAttribute("data-precedence"),c=a.get(g)||n,c===n&&a.set(null,u),a.set(g,u),this.count++,n=su.bind(this),u.addEventListener("load",n),u.addEventListener("error",n),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Yr={$$typeof:D,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function A1(e,t,a,n,u,c,g,_,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=n,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Vv(e,t,a,n,u,c,g,_,O,W,fe,ye){return e=new A1(e,t,a,g,O,W,fe,ye,_),t=1,c===!0&&(t|=24),c=en(3,null,null,t),e.current=c,c.stateNode=e,t=cs(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},vs(c),e}function Yv(e){return e?(e=Ul,e):Ul}function Xv(e,t,a,n,u,c){u=Yv(u),n.context===null?n.context=u:n.pendingContext=u,n=_i(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=Ei(e,n,t),a!==null&&(Ka(a,e,t),_r(a,e,t))}function Zv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function zc(e,t){Zv(e,t),(e=e.alternate)&&Zv(e,t)}function qv(e){if(e.tag===13||e.tag===31){var t=Qi(e,67108864);t!==null&&Ka(t,e,67108864),zc(e,67108864)}}function Iv(e){if(e.tag===13||e.tag===31){var t=rn();t=ja(t);var a=Qi(e,t);a!==null&&Ka(a,e,t),zc(e,t)}}var hu=!0;function M1(e,t,a,n){var u=x.T;x.T=null;var c=ae.p;try{ae.p=2,Rc(e,t,a,n)}finally{ae.p=c,x.T=u}}function x1(e,t,a,n){var u=x.T;x.T=null;var c=ae.p;try{ae.p=8,Rc(e,t,a,n)}finally{ae.p=c,x.T=u}}function Rc(e,t,a,n){if(hu){var u=Bc(n);if(u===null)bc(e,t,n,du,a),Kv(e,n);else if(w1(u,e,t,a,n))n.stopPropagation();else if(Kv(e,n),t&4&&-1<U1.indexOf(e)){for(;u!==null;){var c=Me(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=mt(c.pendingLanes);if(g!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var O=1<<31-B(g);_.entanglements[1]|=O,g&=~O}Gn(c),(Bt&6)===0&&(Ko=Ce()+500,Gr(0))}}break;case 31:case 13:_=Qi(c,2),_!==null&&Ka(_,c,2),Jo(),zc(c,2)}if(c=Bc(n),c===null&&bc(e,t,n,du,a),c===u)break;u=c}u!==null&&n.stopPropagation()}else bc(e,t,n,null,a)}}function Bc(e){return e=pl(e),Lc(e)}var du=null;function Lc(e){if(du=null,e=Ae(e),e!==null){var t=l(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return du=e,null}function Qv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case bt:return 2;case Ye:return 8;case ke:case We:return 32;case ot:return 268435456;default:return 32}default:return 32}}var Nc=!1,Ri=null,Bi=null,Li=null,Xr=new Map,Zr=new Map,Ni=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(e,t){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function qr(e,t,a,n,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Me(t),t!==null&&qv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function w1(e,t,a,n,u){switch(t){case"focusin":return Ri=qr(Ri,e,t,a,n,u),!0;case"dragenter":return Bi=qr(Bi,e,t,a,n,u),!0;case"mouseover":return Li=qr(Li,e,t,a,n,u),!0;case"pointerover":var c=u.pointerId;return Xr.set(c,qr(Xr.get(c)||null,e,t,a,n,u)),!0;case"gotpointercapture":return c=u.pointerId,Zr.set(c,qr(Zr.get(c)||null,e,t,a,n,u)),!0}return!1}function Wv(e){var t=Ae(e.target);if(t!==null){var a=l(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,ut(e.priority,function(){Iv(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,ut(e.priority,function(){Iv(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Bc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Xn=n,a.target.dispatchEvent(n),Xn=null}else return t=Me(a),t!==null&&qv(t),e.blockedOn=a,!1;t.shift()}return!0}function Jv(e,t,a){vu(e)&&a.delete(t)}function D1(){Nc=!1,Ri!==null&&vu(Ri)&&(Ri=null),Bi!==null&&vu(Bi)&&(Bi=null),Li!==null&&vu(Li)&&(Li=null),Xr.forEach(Jv),Zr.forEach(Jv)}function mu(e,t){e.blockedOn===t&&(e.blockedOn=null,Nc||(Nc=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,D1)))}var pu=null;function Pv(e){pu!==e&&(pu=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){pu===e&&(pu=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],u=e[t+2];if(typeof n!="function"){if(Lc(n||a)===null)continue;break}var c=Me(a);c!==null&&(e.splice(t,3),t-=3,Bs(c,{pending:!0,data:u,method:a.method,action:n},n,u))}}))}function Jl(e){function t(O){return mu(O,e)}Ri!==null&&mu(Ri,e),Bi!==null&&mu(Bi,e),Li!==null&&mu(Li,e),Xr.forEach(t),Zr.forEach(t);for(var a=0;a<Ni.length;a++){var n=Ni[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ni.length&&(a=Ni[0],a.blockedOn===null);)Wv(a),a.blockedOn===null&&Ni.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var u=a[n],c=a[n+1],g=u[b]||null;if(typeof c=="function")g||Pv(a);else if(g){var _=null;if(c&&c.hasAttribute("formAction")){if(u=c,g=c[b]||null)_=g.formAction;else if(Lc(u)!==null)continue}else _=g.action;typeof _=="function"?a[n+1]=_:(a.splice(n,3),n-=3),Pv(a)}}}function $v(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Gc(e){this._internalRoot=e}gu.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,n=rn();Xv(a,n,e,t,null,null)},gu.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xv(e.current,2,null,e,null,null),Jo(),t[T]=null}};function gu(e){this._internalRoot=e}gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=La();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ni.length&&t!==0&&t<Ni[a].priority;a++);Ni.splice(a,0,e),a===0&&Wv(e)}};var em=i.version;if(em!=="19.2.0")throw Error(o(527,em,"19.2.0"));ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var O1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{at=yu.inject(O1),Le=yu}catch{}}return Ir.createRoot=function(e,t){if(!r(e))throw Error(o(299));var a=!1,n="",u=od,c=ud,g=sd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Vv(e,1,!1,null,null,a,n,null,u,c,g,$v),e[T]=t.current,yc(e),new Gc(t)},Ir.hydrateRoot=function(e,t,a){if(!r(e))throw Error(o(299));var n=!1,u="",c=od,g=ud,_=sd,O=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),t=Vv(e,1,!0,t,a??null,n,u,O,c,g,_,$v),t.context=Yv(null),a=t.current,n=rn(),n=ja(n),u=_i(n),u.callback=null,Ei(a,u,n),a=n,t.current.lanes=a,kt(t,a),Gn(t),e[T]=t.current,yc(e),new gu(t)},Ir.version="19.2.0",Ir}var fm;function Eg(){if(fm)return Hc.exports;fm=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(i){console.error(i)}}return f(),Hc.exports=_g(),Hc.exports}var Rb=Eg();function Sn(){return Sn=Object.assign?Object.assign.bind():function(f){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)({}).hasOwnProperty.call(s,o)&&(f[o]=s[o])}return f},Sn.apply(null,arguments)}const Tg=f=>f;function Ag(f,i=Tg){const s=ul.useSyncExternalStore(f.subscribe,ul.useCallback(()=>i(f.getState()),[f,i]),ul.useCallback(()=>i(f.getInitialState()),[f,i]));return ul.useDebugValue(s),s}const hm=f=>{const i=z1(f),s=o=>Ag(i,o);return Object.assign(s,i),s},Mg=(f=>f?hm(f):hm);let Qr=0;const xg=Mg(f=>(bu.onStart=(i,s,o)=>{f({active:!0,item:i,loaded:s,total:o,progress:(s-Qr)/(o-Qr)*100})},bu.onLoad=()=>{f({active:!1})},bu.onError=i=>f(s=>({errors:[...s.errors,i]})),bu.onProgress=(i,s,o)=>{s===o&&(Qr=o),f({active:!0,item:i,loaded:s,total:o,progress:(s-Qr)/(o-Qr)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Ug=f=>`Loading ${f.toFixed(2)}%`;function Bb({containerStyles:f,innerStyles:i,barStyles:s,dataStyles:o,dataInterpolation:r=Ug,initialState:l=d=>d}){const{active:d,progress:m}=xg(),h=de.useRef(0),v=de.useRef(0),p=de.useRef(null),[y,S]=de.useState(l(d));de.useEffect(()=>{let A;return d!==y&&(A=setTimeout(()=>S(d),300)),()=>clearTimeout(A)},[y,d]);const E=de.useCallback(()=>{p.current&&(h.current+=(m-h.current)/2,(h.current>.95*m||m===100)&&(h.current=m),p.current.innerText=r(h.current),h.current<m&&(v.current=requestAnimationFrame(E)))},[r,m]);return de.useEffect(()=>(E(),()=>cancelAnimationFrame(v.current)),[E]),y?de.createElement("div",{style:{...Su.container,opacity:d?1:0,...f}},de.createElement("div",null,de.createElement("div",{style:{...Su.inner,...i}},de.createElement("div",{style:{...Su.bar,transform:`scaleX(${m/100})`,...s}}),de.createElement("span",{ref:p,style:{...Su.data,...o}})))):null}const Su={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function wg(f,i,s){return Math.max(i,Math.min(f,s))}const Fa={toVector(f,i){return f===void 0&&(f=i),Array.isArray(f)?f:[f,f]},add(f,i){return[f[0]+i[0],f[1]+i[1]]},sub(f,i){return[f[0]-i[0],f[1]-i[1]]},addTo(f,i){f[0]+=i[0],f[1]+=i[1]},subTo(f,i){f[0]-=i[0],f[1]-=i[1]}};function dm(f,i,s){return i===0||Math.abs(i)===1/0?Math.pow(f,s*5):f*i*s/(i+s*f)}function vm(f,i,s,o=.15){return o===0?wg(f,i,s):f<i?-dm(i-f,s-i,o)+i:f>s?+dm(f-s,s-i,o)+s:f}function Dg(f,[i,s],[o,r]){const[[l,d],[m,h]]=f;return[vm(i,l,d,o),vm(s,m,h,r)]}function Og(f,i){if(typeof f!="object"||f===null)return f;var s=f[Symbol.toPrimitive];if(s!==void 0){var o=s.call(f,i);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(f)}function Cg(f){var i=Og(f,"string");return typeof i=="symbol"?i:String(i)}function Wa(f,i,s){return i=Cg(i),i in f?Object.defineProperty(f,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):f[i]=s,f}function mm(f,i){var s=Object.keys(f);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(f);i&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(f,r).enumerable})),s.push.apply(s,o)}return s}function la(f){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?mm(Object(s),!0).forEach(function(o){Wa(f,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(s)):mm(Object(s)).forEach(function(o){Object.defineProperty(f,o,Object.getOwnPropertyDescriptor(s,o))})}return f}const t0={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function pm(f){return f?f[0].toUpperCase()+f.slice(1):""}const zg=["enter","leave"];function Rg(f=!1,i){return f&&!zg.includes(i)}function Bg(f,i="",s=!1){const o=t0[f],r=o&&o[i]||i;return"on"+pm(f)+pm(r)+(Rg(s,r)?"Capture":"")}const Lg=["gotpointercapture","lostpointercapture"];function Ng(f){let i=f.substring(2).toLowerCase();const s=!!~i.indexOf("passive");s&&(i=i.replace("passive",""));const o=Lg.includes(i)?"capturecapture":"capture",r=!!~i.indexOf(o);return r&&(i=i.replace("capture","")),{device:i,capture:r,passive:s}}function Gg(f,i=""){const s=t0[f],o=s&&s[i]||i;return f+o}function Hu(f){return"touches"in f}function a0(f){return Hu(f)?"touch":"pointerType"in f?f.pointerType:"mouse"}function kg(f){return Array.from(f.touches).filter(i=>{var s,o;return i.target===f.currentTarget||((s=f.currentTarget)===null||s===void 0||(o=s.contains)===null||o===void 0?void 0:o.call(s,i.target))})}function Hg(f){return f.type==="touchend"||f.type==="touchcancel"?f.changedTouches:f.targetTouches}function n0(f){return Hu(f)?Hg(f)[0]:f}function Fg(f){return kg(f).map(i=>i.identifier)}function Yc(f){const i=n0(f);return Hu(f)?i.identifier:i.pointerId}function gm(f){const i=n0(f);return[i.clientX,i.clientY]}function jg(f){const i={};if("buttons"in f&&(i.buttons=f.buttons),"shiftKey"in f){const{shiftKey:s,altKey:o,metaKey:r,ctrlKey:l}=f;Object.assign(i,{shiftKey:s,altKey:o,metaKey:r,ctrlKey:l})}return i}function ku(f,...i){return typeof f=="function"?f(...i):f}function Vg(){}function Yg(...f){return f.length===0?Vg:f.length===1?f[0]:function(){let i;for(const s of f)i=s.apply(this,arguments)||i;return i}}function ym(f,i){return Object.assign({},i,f||{})}const Xg=32;class Zg{constructor(i,s,o){this.ctrl=i,this.args=s,this.key=o,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(i){this.ctrl.state[this.key]=i}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:i,shared:s,ingKey:o,args:r}=this;s[o]=i._active=i.active=i._blocked=i._force=!1,i._step=[!1,!1],i.intentional=!1,i._movement=[0,0],i._distance=[0,0],i._direction=[0,0],i._delta=[0,0],i._bounds=[[-1/0,1/0],[-1/0,1/0]],i.args=r,i.axis=void 0,i.memo=void 0,i.elapsedTime=i.timeDelta=0,i.direction=[0,0],i.distance=[0,0],i.overflow=[0,0],i._movementBound=[!1,!1],i.velocity=[0,0],i.movement=[0,0],i.delta=[0,0],i.timeStamp=0}start(i){const s=this.state,o=this.config;s._active||(this.reset(),this.computeInitial(),s._active=!0,s.target=i.target,s.currentTarget=i.currentTarget,s.lastOffset=o.from?ku(o.from,s):s.offset,s.offset=s.lastOffset,s.startTime=s.timeStamp=i.timeStamp)}computeValues(i){const s=this.state;s._values=i,s.values=this.config.transform(i)}computeInitial(){const i=this.state;i._initial=i._values,i.initial=i.values}compute(i){const{state:s,config:o,shared:r}=this;s.args=this.args;let l=0;if(i&&(s.event=i,o.preventDefault&&i.cancelable&&s.event.preventDefault(),s.type=i.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,jg(i)),r.down=r.pressed=r.buttons%2===1||r.touches>0,l=i.timeStamp-s.timeStamp,s.timeStamp=i.timeStamp,s.elapsedTime=s.timeStamp-s.startTime),s._active){const k=s._delta.map(Math.abs);Fa.addTo(s._distance,k)}this.axisIntent&&this.axisIntent(i);const[d,m]=s._movement,[h,v]=o.threshold,{_step:p,values:y}=s;if(o.hasCustomTransform?(p[0]===!1&&(p[0]=Math.abs(d)>=h&&y[0]),p[1]===!1&&(p[1]=Math.abs(m)>=v&&y[1])):(p[0]===!1&&(p[0]=Math.abs(d)>=h&&Math.sign(d)*h),p[1]===!1&&(p[1]=Math.abs(m)>=v&&Math.sign(m)*v)),s.intentional=p[0]!==!1||p[1]!==!1,!s.intentional)return;const S=[0,0];if(o.hasCustomTransform){const[k,F]=y;S[0]=p[0]!==!1?k-p[0]:0,S[1]=p[1]!==!1?F-p[1]:0}else S[0]=p[0]!==!1?d-p[0]:0,S[1]=p[1]!==!1?m-p[1]:0;this.restrictToAxis&&!s._blocked&&this.restrictToAxis(S);const E=s.offset,A=s._active&&!s._blocked||s.active;A&&(s.first=s._active&&!s.active,s.last=!s._active&&s.active,s.active=r[this.ingKey]=s._active,i&&(s.first&&("bounds"in o&&(s._bounds=ku(o.bounds,s)),this.setup&&this.setup()),s.movement=S,this.computeOffset()));const[U,w]=s.offset,[[X,j],[D,C]]=s._bounds;s.overflow=[U<X?-1:U>j?1:0,w<D?-1:w>C?1:0],s._movementBound[0]=s.overflow[0]?s._movementBound[0]===!1?s._movement[0]:s._movementBound[0]:!1,s._movementBound[1]=s.overflow[1]?s._movementBound[1]===!1?s._movement[1]:s._movementBound[1]:!1;const L=s._active?o.rubberband||[0,0]:[0,0];if(s.offset=Dg(s._bounds,s.offset,L),s.delta=Fa.sub(s.offset,E),this.computeMovement(),A&&(!s.last||l>Xg)){s.delta=Fa.sub(s.offset,E);const k=s.delta.map(Math.abs);Fa.addTo(s.distance,k),s.direction=s.delta.map(Math.sign),s._direction=s._delta.map(Math.sign),!s.first&&l>0&&(s.velocity=[k[0]/l,k[1]/l],s.timeDelta=l)}}emit(){const i=this.state,s=this.shared,o=this.config;if(i._active||this.clean(),(i._blocked||!i.intentional)&&!i._force&&!o.triggerAllEvents)return;const r=this.handler(la(la(la({},s),i),{},{[this.aliasKey]:i.values}));r!==void 0&&(i.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function qg([f,i],s){const o=Math.abs(f),r=Math.abs(i);if(o>r&&o>s)return"x";if(r>o&&r>s)return"y"}class Ig extends Zg{constructor(...i){super(...i),Wa(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Fa.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Fa.sub(this.state.offset,this.state.lastOffset)}axisIntent(i){const s=this.state,o=this.config;if(!s.axis&&i){const r=typeof o.axisThreshold=="object"?o.axisThreshold[a0(i)]:o.axisThreshold;s.axis=qg(s._movement,r)}s._blocked=(o.lockDirection||!!o.axis)&&!s.axis||!!o.axis&&o.axis!==s.axis}restrictToAxis(i){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":i[1]=0;break;case"y":i[0]=0;break}}}const Qg=f=>f,bm=.15,i0={enabled(f=!0){return f},eventOptions(f,i,s){return la(la({},s.shared.eventOptions),f)},preventDefault(f=!1){return f},triggerAllEvents(f=!1){return f},rubberband(f=0){switch(f){case!0:return[bm,bm];case!1:return[0,0];default:return Fa.toVector(f)}},from(f){if(typeof f=="function")return f;if(f!=null)return Fa.toVector(f)},transform(f,i,s){const o=f||s.shared.transform;return this.hasCustomTransform=!!o,o||Qg},threshold(f){return Fa.toVector(f,0)}},Kg=0,oo=la(la({},i0),{},{axis(f,i,{axis:s}){if(this.lockDirection=s==="lock",!this.lockDirection)return s},axisThreshold(f=Kg){return f},bounds(f={}){if(typeof f=="function")return l=>oo.bounds(f(l));if("current"in f)return()=>f.current;if(typeof HTMLElement=="function"&&f instanceof HTMLElement)return f;const{left:i=-1/0,right:s=1/0,top:o=-1/0,bottom:r=1/0}=f;return[[i,s],[o,r]]}}),Sm={ArrowRight:(f,i=1)=>[f*i,0],ArrowLeft:(f,i=1)=>[-1*f*i,0],ArrowUp:(f,i=1)=>[0,-1*f*i],ArrowDown:(f,i=1)=>[0,f*i]};class Wg extends Ig{constructor(...i){super(...i),Wa(this,"ingKey","dragging")}reset(){super.reset();const i=this.state;i._pointerId=void 0,i._pointerActive=!1,i._keyboardActive=!1,i._preventScroll=!1,i._delayed=!1,i.swipe=[0,0],i.tap=!1,i.canceled=!1,i.cancel=this.cancel.bind(this)}setup(){const i=this.state;if(i._bounds instanceof HTMLElement){const s=i._bounds.getBoundingClientRect(),o=i.currentTarget.getBoundingClientRect(),r={left:s.left-o.left+i.offset[0],right:s.right-o.right+i.offset[0],top:s.top-o.top+i.offset[1],bottom:s.bottom-o.bottom+i.offset[1]};i._bounds=oo.bounds(r)}}cancel(){const i=this.state;i.canceled||(i.canceled=!0,i._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(i){const s=this.config,o=this.state;if(i.buttons!=null&&(Array.isArray(s.pointerButtons)?!s.pointerButtons.includes(i.buttons):s.pointerButtons!==-1&&s.pointerButtons!==i.buttons))return;const r=this.ctrl.setEventIds(i);s.pointerCapture&&i.target.setPointerCapture(i.pointerId),!(r&&r.size>1&&o._pointerActive)&&(this.start(i),this.setupPointer(i),o._pointerId=Yc(i),o._pointerActive=!0,this.computeValues(gm(i)),this.computeInitial(),s.preventScrollAxis&&a0(i)!=="mouse"?(o._active=!1,this.setupScrollPrevention(i)):s.delay>0?(this.setupDelayTrigger(i),s.triggerAllEvents&&(this.compute(i),this.emit())):this.startPointerDrag(i))}startPointerDrag(i){const s=this.state;s._active=!0,s._preventScroll=!0,s._delayed=!1,this.compute(i),this.emit()}pointerMove(i){const s=this.state,o=this.config;if(!s._pointerActive)return;const r=Yc(i);if(s._pointerId!==void 0&&r!==s._pointerId)return;const l=gm(i);if(document.pointerLockElement===i.target?s._delta=[i.movementX,i.movementY]:(s._delta=Fa.sub(l,s._values),this.computeValues(l)),Fa.addTo(s._movement,s._delta),this.compute(i),s._delayed&&s.intentional){this.timeoutStore.remove("dragDelay"),s.active=!1,this.startPointerDrag(i);return}if(o.preventScrollAxis&&!s._preventScroll)if(s.axis)if(s.axis===o.preventScrollAxis||o.preventScrollAxis==="xy"){s._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(i);return}else return;this.emit()}pointerUp(i){this.ctrl.setEventIds(i);try{this.config.pointerCapture&&i.target.hasPointerCapture(i.pointerId)&&i.target.releasePointerCapture(i.pointerId)}catch{}const s=this.state,o=this.config;if(!s._active||!s._pointerActive)return;const r=Yc(i);if(s._pointerId!==void 0&&r!==s._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(i);const[l,d]=s._distance;if(s.tap=l<=o.tapsThreshold&&d<=o.tapsThreshold,s.tap&&o.filterTaps)s._force=!0;else{const[m,h]=s._delta,[v,p]=s._movement,[y,S]=o.swipe.velocity,[E,A]=o.swipe.distance,U=o.swipe.duration;if(s.elapsedTime<U){const w=Math.abs(m/s.timeDelta),X=Math.abs(h/s.timeDelta);w>y&&Math.abs(v)>E&&(s.swipe[0]=Math.sign(m)),X>S&&Math.abs(p)>A&&(s.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(i){!this.state.tap&&i.detail>0&&(i.preventDefault(),i.stopPropagation())}setupPointer(i){const s=this.config,o=s.device;s.pointerLock&&i.currentTarget.requestPointerLock(),s.pointerCapture||(this.eventStore.add(this.sharedConfig.window,o,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(i){this.state._preventScroll&&i.cancelable&&i.preventDefault()}setupScrollPrevention(i){this.state._preventScroll=!1,Jg(i);const s=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",s),this.eventStore.add(this.sharedConfig.window,"touch","cancel",s),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,i)}setupDelayTrigger(i){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(i)},this.config.delay)}keyDown(i){const s=Sm[i.key];if(s){const o=this.state,r=i.shiftKey?10:i.altKey?.1:1;this.start(i),o._delta=s(this.config.keyboardDisplacement,r),o._keyboardActive=!0,Fa.addTo(o._movement,o._delta),this.compute(i),this.emit()}}keyUp(i){i.key in Sm&&(this.state._keyboardActive=!1,this.setActive(),this.compute(i),this.emit())}bind(i){const s=this.config.device;i(s,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(i(s,"change",this.pointerMove.bind(this)),i(s,"end",this.pointerUp.bind(this)),i(s,"cancel",this.pointerUp.bind(this)),i("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(i("key","down",this.keyDown.bind(this)),i("key","up",this.keyUp.bind(this))),this.config.filterTaps&&i("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Jg(f){"persist"in f&&typeof f.persist=="function"&&f.persist()}const uo=typeof window<"u"&&window.document&&window.document.createElement;function l0(){return uo&&"ontouchstart"in window}function Pg(){return l0()||uo&&window.navigator.maxTouchPoints>1}function $g(){return uo&&"onpointerdown"in window}function ey(){return uo&&"exitPointerLock"in window.document}function ty(){try{return"constructor"in GestureEvent}catch{return!1}}const yn={isBrowser:uo,gesture:ty(),touch:l0(),touchscreen:Pg(),pointer:$g(),pointerLock:ey()},ay=250,ny=180,iy=.5,ly=50,ry=250,oy=10,_m={mouse:0,touch:0,pen:8},uy=la(la({},oo),{},{device(f,i,{pointer:{touch:s=!1,lock:o=!1,mouse:r=!1}={}}){return this.pointerLock=o&&yn.pointerLock,yn.touch&&s?"touch":this.pointerLock?"mouse":yn.pointer&&!r?"pointer":yn.touch?"touch":"mouse"},preventScrollAxis(f,i,{preventScroll:s}){if(this.preventScrollDelay=typeof s=="number"?s:s||s===void 0&&f?ay:void 0,!(!yn.touchscreen||s===!1))return f||(s!==void 0?"y":void 0)},pointerCapture(f,i,{pointer:{capture:s=!0,buttons:o=1,keys:r=!0}={}}){return this.pointerButtons=o,this.keys=r,!this.pointerLock&&this.device==="pointer"&&s},threshold(f,i,{filterTaps:s=!1,tapsThreshold:o=3,axis:r=void 0}){const l=Fa.toVector(f,s?o:r?1:0);return this.filterTaps=s,this.tapsThreshold=o,l},swipe({velocity:f=iy,distance:i=ly,duration:s=ry}={}){return{velocity:this.transform(Fa.toVector(f)),distance:this.transform(Fa.toVector(i)),duration:s}},delay(f=0){switch(f){case!0:return ny;case!1:return 0;default:return f}},axisThreshold(f){return f?la(la({},_m),f):_m},keyboardDisplacement(f=oy){return f}});la(la({},i0),{},{device(f,i,{shared:s,pointer:{touch:o=!1}={}}){if(s.target&&!yn.touch&&yn.gesture)return"gesture";if(yn.touch&&o)return"touch";if(yn.touchscreen){if(yn.pointer)return"pointer";if(yn.touch)return"touch"}},bounds(f,i,{scaleBounds:s={},angleBounds:o={}}){const r=d=>{const m=ym(ku(s,d),{min:-1/0,max:1/0});return[m.min,m.max]},l=d=>{const m=ym(ku(o,d),{min:-1/0,max:1/0});return[m.min,m.max]};return typeof s!="function"&&typeof o!="function"?[r(),l()]:d=>[r(d),l(d)]},threshold(f,i,s){return this.lockDirection=s.axis==="lock",Fa.toVector(f,this.lockDirection?[.1,3]:0)},modifierKey(f){return f===void 0?"ctrlKey":f},pinchOnWheel(f=!0){return f}});la(la({},oo),{},{mouseOnly:(f=!0)=>f});la(la({},oo),{},{mouseOnly:(f=!0)=>f});const r0=new Map,nf=new Map;function sy(f){r0.set(f.key,f.engine),nf.set(f.key,f.resolver)}const cy={key:"drag",engine:Wg,resolver:uy};function fy(f,i){if(f==null)return{};var s={},o=Object.keys(f),r,l;for(l=0;l<o.length;l++)r=o[l],!(i.indexOf(r)>=0)&&(s[r]=f[r]);return s}function hy(f,i){if(f==null)return{};var s=fy(f,i),o,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(f);for(r=0;r<l.length;r++)o=l[r],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(f,o)&&(s[o]=f[o])}return s}const dy={target(f){if(f)return()=>"current"in f?f.current:f},enabled(f=!0){return f},window(f=yn.isBrowser?window:void 0){return f},eventOptions({passive:f=!0,capture:i=!1}={}){return{passive:f,capture:i}},transform(f){return f}},vy=["target","eventOptions","window","enabled","transform"];function Cu(f={},i){const s={};for(const[o,r]of Object.entries(i))switch(typeof r){case"function":s[o]=r.call(s,f[o],o,f);break;case"object":s[o]=Cu(f[o],r);break;case"boolean":r&&(s[o]=f[o]);break}return s}function my(f,i,s={}){const o=f,{target:r,eventOptions:l,window:d,enabled:m,transform:h}=o,v=hy(o,vy);if(s.shared=Cu({target:r,eventOptions:l,window:d,enabled:m,transform:h},dy),i){const p=nf.get(i);s[i]=Cu(la({shared:s.shared},v),p)}else for(const p in v){const y=nf.get(p);y&&(s[p]=Cu(la({shared:s.shared},v[p]),y))}return s}class o0{constructor(i,s){Wa(this,"_listeners",new Set),this._ctrl=i,this._gestureKey=s}add(i,s,o,r,l){const d=this._listeners,m=Gg(s,o),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},v=la(la({},h),l);i.addEventListener(m,r,v);const p=()=>{i.removeEventListener(m,r,v),d.delete(p)};return d.add(p),p}clean(){this._listeners.forEach(i=>i()),this._listeners.clear()}}class py{constructor(){Wa(this,"_timeouts",new Map)}add(i,s,o=140,...r){this.remove(i),this._timeouts.set(i,window.setTimeout(s,o,...r))}remove(i){const s=this._timeouts.get(i);s&&window.clearTimeout(s)}clean(){this._timeouts.forEach(i=>void window.clearTimeout(i)),this._timeouts.clear()}}class gy{constructor(i){Wa(this,"gestures",new Set),Wa(this,"_targetEventStore",new o0(this)),Wa(this,"gestureEventStores",{}),Wa(this,"gestureTimeoutStores",{}),Wa(this,"handlers",{}),Wa(this,"config",{}),Wa(this,"pointerIds",new Set),Wa(this,"touchIds",new Set),Wa(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),yy(this,i)}setEventIds(i){if(Hu(i))return this.touchIds=new Set(Fg(i)),this.touchIds;if("pointerId"in i)return i.type==="pointerup"||i.type==="pointercancel"?this.pointerIds.delete(i.pointerId):i.type==="pointerdown"&&this.pointerIds.add(i.pointerId),this.pointerIds}applyHandlers(i,s){this.handlers=i,this.nativeHandlers=s}applyConfig(i,s){this.config=my(i,s,this.config)}clean(){this._targetEventStore.clean();for(const i of this.gestures)this.gestureEventStores[i].clean(),this.gestureTimeoutStores[i].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...i){const s=this.config.shared,o={};let r;if(!(s.target&&(r=s.target(),!r))){if(s.enabled){for(const d of this.gestures){const m=this.config[d],h=Em(o,m.eventOptions,!!r);if(m.enabled){const v=r0.get(d);new v(this,i,d).bind(h)}}const l=Em(o,s.eventOptions,!!r);for(const d in this.nativeHandlers)l(d,"",m=>this.nativeHandlers[d](la(la({},this.state.shared),{},{event:m,args:i})),void 0,!0)}for(const l in o)o[l]=Yg(...o[l]);if(!r)return o;for(const l in o){const{device:d,capture:m,passive:h}=Ng(l);this._targetEventStore.add(r,d,"",o[l],{capture:m,passive:h})}}}}function er(f,i){f.gestures.add(i),f.gestureEventStores[i]=new o0(f,i),f.gestureTimeoutStores[i]=new py}function yy(f,i){i.drag&&er(f,"drag"),i.wheel&&er(f,"wheel"),i.scroll&&er(f,"scroll"),i.move&&er(f,"move"),i.pinch&&er(f,"pinch"),i.hover&&er(f,"hover")}const Em=(f,i,s)=>(o,r,l,d={},m=!1)=>{var h,v;const p=(h=d.capture)!==null&&h!==void 0?h:i.capture,y=(v=d.passive)!==null&&v!==void 0?v:i.passive;let S=m?o:Bg(o,r,p);s&&y&&(S+="Passive"),f[S]=f[S]||[],f[S].push(l)};function by(f,i={},s,o){const r=ul.useMemo(()=>new gy(f),[]);if(r.applyHandlers(f,o),r.applyConfig(i,s),ul.useEffect(r.effect.bind(r)),ul.useEffect(()=>r.clean.bind(r),[]),i.target===void 0)return r.bind.bind(r)}function Lb(f,i){return sy(cy),by({drag:f},i||{},"drag")}const Fu=parseInt(hf.replace(/\D+/g,"")),u0=Fu>=125?"uv1":"uv2";function Sy(f,i=Math.PI/3){const s=Math.cos(i),o=(1+1e-10)*100,r=[new dt,new dt,new dt],l=new dt,d=new dt,m=new dt,h=new dt;function v(U){const w=~~(U.x*o),X=~~(U.y*o),j=~~(U.z*o);return`${w},${X},${j}`}const p=f.index?f.toNonIndexed():f,y=p.attributes.position,S={};for(let U=0,w=y.count/3;U<w;U++){const X=3*U,j=r[0].fromBufferAttribute(y,X+0),D=r[1].fromBufferAttribute(y,X+1),C=r[2].fromBufferAttribute(y,X+2);l.subVectors(C,D),d.subVectors(j,D);const L=new dt().crossVectors(l,d).normalize();for(let k=0;k<3;k++){const F=r[k],M=v(F);M in S||(S[M]=[]),S[M].push(L)}}const E=new Float32Array(y.count*3),A=new fi(E,3,!1);for(let U=0,w=y.count/3;U<w;U++){const X=3*U,j=r[0].fromBufferAttribute(y,X+0),D=r[1].fromBufferAttribute(y,X+1),C=r[2].fromBufferAttribute(y,X+2);l.subVectors(C,D),d.subVectors(j,D),m.crossVectors(l,d).normalize();for(let L=0;L<3;L++){const k=r[L],F=v(k),M=S[F];h.set(0,0,0);for(let V=0,q=M.length;V<q;V++){const Se=M[V];m.dot(Se)>s&&h.add(Se)}h.normalize(),A.setXYZ(X+L,h.x,h.y,h.z)}}return p.setAttribute("normal",A),p}var bn=Uint8Array,Fi=Uint16Array,lf=Uint32Array,s0=new bn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c0=new bn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_y=new bn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f0=function(f,i){for(var s=new Fi(31),o=0;o<31;++o)s[o]=i+=1<<f[o-1];for(var r=new lf(s[30]),o=1;o<30;++o)for(var l=s[o];l<s[o+1];++l)r[l]=l-s[o]<<5|o;return[s,r]},h0=f0(s0,2),d0=h0[0],Ey=h0[1];d0[28]=258,Ey[258]=28;var Ty=f0(c0,0),Ay=Ty[0],rf=new Fi(32768);for(var Pt=0;Pt<32768;++Pt){var ki=(Pt&43690)>>>1|(Pt&21845)<<1;ki=(ki&52428)>>>2|(ki&13107)<<2,ki=(ki&61680)>>>4|(ki&3855)<<4,rf[Pt]=((ki&65280)>>>8|(ki&255)<<8)>>>1}var eo=(function(f,i,s){for(var o=f.length,r=0,l=new Fi(i);r<o;++r)++l[f[r]-1];var d=new Fi(i);for(r=0;r<i;++r)d[r]=d[r-1]+l[r-1]<<1;var m;if(s){m=new Fi(1<<i);var h=15-i;for(r=0;r<o;++r)if(f[r])for(var v=r<<4|f[r],p=i-f[r],y=d[f[r]-1]++<<p,S=y|(1<<p)-1;y<=S;++y)m[rf[y]>>>h]=v}else for(m=new Fi(o),r=0;r<o;++r)f[r]&&(m[r]=rf[d[f[r]-1]++]>>>15-f[r]);return m}),so=new bn(288);for(var Pt=0;Pt<144;++Pt)so[Pt]=8;for(var Pt=144;Pt<256;++Pt)so[Pt]=9;for(var Pt=256;Pt<280;++Pt)so[Pt]=7;for(var Pt=280;Pt<288;++Pt)so[Pt]=8;var v0=new bn(32);for(var Pt=0;Pt<32;++Pt)v0[Pt]=5;var My=eo(so,9,1),xy=eo(v0,5,1),Xc=function(f){for(var i=f[0],s=1;s<f.length;++s)f[s]>i&&(i=f[s]);return i},Un=function(f,i,s){var o=i/8|0;return(f[o]|f[o+1]<<8)>>(i&7)&s},Zc=function(f,i){var s=i/8|0;return(f[s]|f[s+1]<<8|f[s+2]<<16)>>(i&7)},Uy=function(f){return(f/8|0)+(f&7&&1)},wy=function(f,i,s){(s==null||s>f.length)&&(s=f.length);var o=new(f instanceof Fi?Fi:f instanceof lf?lf:bn)(s-i);return o.set(f.subarray(i,s)),o},Dy=function(f,i,s){var o=f.length;if(!o||s&&!s.l&&o<5)return i||new bn(0);var r=!i||s,l=!s||s.i;s||(s={}),i||(i=new bn(o*3));var d=function(se){var ce=i.length;if(se>ce){var ge=new bn(Math.max(ce*2,se));ge.set(i),i=ge}},m=s.f||0,h=s.p||0,v=s.b||0,p=s.l,y=s.d,S=s.m,E=s.n,A=o*8;do{if(!p){s.f=m=Un(f,h,1);var U=Un(f,h+1,3);if(h+=3,U)if(U==1)p=My,y=xy,S=9,E=5;else if(U==2){var D=Un(f,h,31)+257,C=Un(f,h+10,15)+4,L=D+Un(f,h+5,31)+1;h+=14;for(var k=new bn(L),F=new bn(19),M=0;M<C;++M)F[_y[M]]=Un(f,h+M*3,7);h+=C*3;for(var V=Xc(F),q=(1<<V)-1,Se=eo(F,V,1),M=0;M<L;){var N=Se[Un(f,h,q)];h+=N&15;var w=N>>>4;if(w<16)k[M++]=w;else{var J=0,Y=0;for(w==16?(Y=3+Un(f,h,3),h+=2,J=k[M-1]):w==17?(Y=3+Un(f,h,7),h+=3):w==18&&(Y=11+Un(f,h,127),h+=7);Y--;)k[M++]=J}}var pe=k.subarray(0,D),x=k.subarray(D);S=Xc(pe),E=Xc(x),p=eo(pe,S,1),y=eo(x,E,1)}else throw"invalid block type";else{var w=Uy(h)+4,X=f[w-4]|f[w-3]<<8,j=w+X;if(j>o){if(l)throw"unexpected EOF";break}r&&d(v+X),i.set(f.subarray(w,j),v),s.b=v+=X,s.p=h=j*8;continue}if(h>A){if(l)throw"unexpected EOF";break}}r&&d(v+131072);for(var ae=(1<<S)-1,ve=(1<<E)-1,ie=h;;ie=h){var J=p[Zc(f,h)&ae],Q=J>>>4;if(h+=J&15,h>A){if(l)throw"unexpected EOF";break}if(!J)throw"invalid length/literal";if(Q<256)i[v++]=Q;else if(Q==256){ie=h,p=null;break}else{var z=Q-254;if(Q>264){var M=Q-257,H=s0[M];z=Un(f,h,(1<<H)-1)+d0[M],h+=H}var Z=y[Zc(f,h)&ve],P=Z>>>4;if(!Z)throw"invalid distance";h+=Z&15;var x=Ay[P];if(P>3){var H=c0[P];x+=Zc(f,h)&(1<<H)-1,h+=H}if(h>A){if(l)throw"unexpected EOF";break}r&&d(v+131072);for(var ee=v+z;v<ee;v+=4)i[v]=i[v-x],i[v+1]=i[v+1-x],i[v+2]=i[v+2-x],i[v+3]=i[v+3-x];v=ee}}s.l=p,s.p=ie,s.b=v,p&&(m=1,s.m=S,s.d=y,s.n=E)}while(!m);return v==i.length?i:wy(i,0,v)},Oy=new bn(0),Cy=function(f){if((f[0]&15)!=8||f[0]>>>4>7||(f[0]<<8|f[1])%31)throw"invalid zlib data";if(f[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function _u(f,i){return Dy((Cy(f),f.subarray(2,-4)),i)}var zy=typeof TextDecoder<"u"&&new TextDecoder,Ry=0;try{zy.decode(Oy,{stream:!0}),Ry=1}catch{}const By=f=>f&&f.isCubeTexture;class Ly extends hl{constructor(i,s){var o,r;const l=By(i),m=((r=l?(o=i.image[0])==null?void 0:o.width:i.image.width)!=null?r:1024)/4,h=Math.floor(Math.log2(m)),v=Math.pow(2,h),p=3*Math.max(v,112),y=4*v,S=[l?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/y}`,`#define CUBEUV_MAX_MIP ${h}.0`],E=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,A=S.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Fu>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,U={map:{value:i},height:{value:s?.height||15},radius:{value:s?.radius||100}},w=new G1(1,16),X=new dl({uniforms:U,fragmentShader:A,vertexShader:E,side:Km});super(w,X)}set radius(i){this.material.uniforms.radius.value=i}get radius(){return this.material.uniforms.radius.value}set height(i){this.material.uniforms.height.value=i}get height(){return this.material.uniforms.height.value}}var Ny=Object.defineProperty,Gy=(f,i,s)=>i in f?Ny(f,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[i]=s,ky=(f,i,s)=>(Gy(f,i+"",s),s);class Hy{constructor(){ky(this,"_listeners")}addEventListener(i,s){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[i]===void 0&&(o[i]=[]),o[i].indexOf(s)===-1&&o[i].push(s)}hasEventListener(i,s){if(this._listeners===void 0)return!1;const o=this._listeners;return o[i]!==void 0&&o[i].indexOf(s)!==-1}removeEventListener(i,s){if(this._listeners===void 0)return;const r=this._listeners[i];if(r!==void 0){const l=r.indexOf(s);l!==-1&&r.splice(l,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const o=this._listeners[i.type];if(o!==void 0){i.target=this;const r=o.slice(0);for(let l=0,d=r.length;l<d;l++)r[l].call(this,i);i.target=null}}}var Fy=Object.defineProperty,jy=(f,i,s)=>i in f?Fy(f,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[i]=s,tt=(f,i,s)=>(jy(f,typeof i!="symbol"?i+"":i,s),s);const Eu=new k1,Tm=new H1,Vy=Math.cos(70*(Math.PI/180)),Am=(f,i)=>(f%i+i)%i;let Yy=class extends Hy{constructor(i,s){super(),tt(this,"object"),tt(this,"domElement"),tt(this,"enabled",!0),tt(this,"target",new dt),tt(this,"minDistance",0),tt(this,"maxDistance",1/0),tt(this,"minZoom",0),tt(this,"maxZoom",1/0),tt(this,"minPolarAngle",0),tt(this,"maxPolarAngle",Math.PI),tt(this,"minAzimuthAngle",-1/0),tt(this,"maxAzimuthAngle",1/0),tt(this,"enableDamping",!1),tt(this,"dampingFactor",.05),tt(this,"enableZoom",!0),tt(this,"zoomSpeed",1),tt(this,"enableRotate",!0),tt(this,"rotateSpeed",1),tt(this,"enablePan",!0),tt(this,"panSpeed",1),tt(this,"screenSpacePanning",!0),tt(this,"keyPanSpeed",7),tt(this,"zoomToCursor",!1),tt(this,"autoRotate",!1),tt(this,"autoRotateSpeed",2),tt(this,"reverseOrbit",!1),tt(this,"reverseHorizontalOrbit",!1),tt(this,"reverseVerticalOrbit",!1),tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),tt(this,"mouseButtons",{LEFT:Pl.ROTATE,MIDDLE:Pl.DOLLY,RIGHT:Pl.PAN}),tt(this,"touches",{ONE:$l.ROTATE,TWO:$l.DOLLY_PAN}),tt(this,"target0"),tt(this,"position0"),tt(this,"zoom0"),tt(this,"_domElementKeyEvents",null),tt(this,"getPolarAngle"),tt(this,"getAzimuthalAngle"),tt(this,"setPolarAngle"),tt(this,"setAzimuthalAngle"),tt(this,"getDistance"),tt(this,"getZoomScale"),tt(this,"listenToKeyEvents"),tt(this,"stopListenToKeyEvents"),tt(this,"saveState"),tt(this,"reset"),tt(this,"update"),tt(this,"connect"),tt(this,"dispose"),tt(this,"dollyIn"),tt(this,"dollyOut"),tt(this,"getScale"),tt(this,"setScale"),this.object=i,this.domElement=s,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=B=>{let me=Am(B,2*Math.PI),De=p.phi;De<0&&(De+=2*Math.PI),me<0&&(me+=2*Math.PI);let qe=Math.abs(me-De);2*Math.PI-qe<qe&&(me<De?me+=2*Math.PI:De+=2*Math.PI),y.phi=me-De,o.update()},this.setAzimuthalAngle=B=>{let me=Am(B,2*Math.PI),De=p.theta;De<0&&(De+=2*Math.PI),me<0&&(me+=2*Math.PI);let qe=Math.abs(me-De);2*Math.PI-qe<qe&&(me<De?me+=2*Math.PI:De+=2*Math.PI),y.theta=me-De,o.update()},this.getDistance=()=>o.object.position.distanceTo(o.target),this.listenToKeyEvents=B=>{B.addEventListener("keydown",ke),this._domElementKeyEvents=B},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ke),this._domElementKeyEvents=null},this.saveState=()=>{o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=()=>{o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(r),o.update(),h=m.NONE},this.update=(()=>{const B=new dt,me=new dt(0,1,0),De=new nm().setFromUnitVectors(i.up,me),qe=De.clone().invert(),re=new dt,it=new nm,$t=2*Math.PI;return function(){const ft=o.object.position;De.setFromUnitVectors(i.up,me),qe.copy(De).invert(),B.copy(ft).sub(o.target),B.applyQuaternion(De),p.setFromVector3(B),o.autoRotate&&h===m.NONE&&Y(N()),o.enableDamping?(p.theta+=y.theta*o.dampingFactor,p.phi+=y.phi*o.dampingFactor):(p.theta+=y.theta,p.phi+=y.phi);let gt=o.minAzimuthAngle,yt=o.maxAzimuthAngle;isFinite(gt)&&isFinite(yt)&&(gt<-Math.PI?gt+=$t:gt>Math.PI&&(gt-=$t),yt<-Math.PI?yt+=$t:yt>Math.PI&&(yt-=$t),gt<=yt?p.theta=Math.max(gt,Math.min(yt,p.theta)):p.theta=p.theta>(gt+yt)/2?Math.max(gt,p.theta):Math.min(yt,p.theta)),p.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,p.phi)),p.makeSafe(),o.enableDamping===!0?o.target.addScaledVector(E,o.dampingFactor):o.target.add(E),o.zoomToCursor&&V||o.object.isOrthographicCamera?p.radius=Z(p.radius):p.radius=Z(p.radius*S),B.setFromSpherical(p),B.applyQuaternion(qe),ft.copy(o.target).add(B),o.object.matrixAutoUpdate||o.object.updateMatrix(),o.object.lookAt(o.target),o.enableDamping===!0?(y.theta*=1-o.dampingFactor,y.phi*=1-o.dampingFactor,E.multiplyScalar(1-o.dampingFactor)):(y.set(0,0,0),E.set(0,0,0));let et=!1;if(o.zoomToCursor&&V){let Et=null;if(o.object instanceof kc&&o.object.isPerspectiveCamera){const kt=B.length();Et=Z(kt*S);const Qt=kt-Et;o.object.position.addScaledVector(F,Qt),o.object.updateMatrixWorld()}else if(o.object.isOrthographicCamera){const kt=new dt(M.x,M.y,0);kt.unproject(o.object),o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/S)),o.object.updateProjectionMatrix(),et=!0;const Qt=new dt(M.x,M.y,0);Qt.unproject(o.object),o.object.position.sub(Qt).add(kt),o.object.updateMatrixWorld(),Et=B.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),o.zoomToCursor=!1;Et!==null&&(o.screenSpacePanning?o.target.set(0,0,-1).transformDirection(o.object.matrix).multiplyScalar(Et).add(o.object.position):(Eu.origin.copy(o.object.position),Eu.direction.set(0,0,-1).transformDirection(o.object.matrix),Math.abs(o.object.up.dot(Eu.direction))<Vy?i.lookAt(o.target):(Tm.setFromNormalAndCoplanarPoint(o.object.up,o.target),Eu.intersectPlane(Tm,o.target))))}else o.object instanceof Du&&o.object.isOrthographicCamera&&(et=S!==1,et&&(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/S)),o.object.updateProjectionMatrix()));return S=1,V=!1,et||re.distanceToSquared(o.object.position)>v||8*(1-it.dot(o.object.quaternion))>v?(o.dispatchEvent(r),re.copy(o.object.position),it.copy(o.object.quaternion),et=!1,!0):!1}})(),this.connect=B=>{o.domElement=B,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",Ot),o.domElement.addEventListener("pointerdown",rt),o.domElement.addEventListener("pointercancel",Ce),o.domElement.addEventListener("wheel",Ye)},this.dispose=()=>{var B,me,De,qe,re,it;o.domElement&&(o.domElement.style.touchAction="auto"),(B=o.domElement)==null||B.removeEventListener("contextmenu",Ot),(me=o.domElement)==null||me.removeEventListener("pointerdown",rt),(De=o.domElement)==null||De.removeEventListener("pointercancel",Ce),(qe=o.domElement)==null||qe.removeEventListener("wheel",Ye),(re=o.domElement)==null||re.ownerDocument.removeEventListener("pointermove",Re),(it=o.domElement)==null||it.ownerDocument.removeEventListener("pointerup",Ce),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",ke)};const o=this,r={type:"change"},l={type:"start"},d={type:"end"},m={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=m.NONE;const v=1e-6,p=new am,y=new am;let S=1;const E=new dt,A=new ua,U=new ua,w=new ua,X=new ua,j=new ua,D=new ua,C=new ua,L=new ua,k=new ua,F=new dt,M=new ua;let V=!1;const q=[],Se={};function N(){return 2*Math.PI/60/60*o.autoRotateSpeed}function J(){return Math.pow(.95,o.zoomSpeed)}function Y(B){o.reverseOrbit||o.reverseHorizontalOrbit?y.theta+=B:y.theta-=B}function pe(B){o.reverseOrbit||o.reverseVerticalOrbit?y.phi+=B:y.phi-=B}const x=(()=>{const B=new dt;return function(De,qe){B.setFromMatrixColumn(qe,0),B.multiplyScalar(-De),E.add(B)}})(),ae=(()=>{const B=new dt;return function(De,qe){o.screenSpacePanning===!0?B.setFromMatrixColumn(qe,1):(B.setFromMatrixColumn(qe,0),B.crossVectors(o.object.up,B)),B.multiplyScalar(De),E.add(B)}})(),ve=(()=>{const B=new dt;return function(De,qe){const re=o.domElement;if(re&&o.object instanceof kc&&o.object.isPerspectiveCamera){const it=o.object.position;B.copy(it).sub(o.target);let $t=B.length();$t*=Math.tan(o.object.fov/2*Math.PI/180),x(2*De*$t/re.clientHeight,o.object.matrix),ae(2*qe*$t/re.clientHeight,o.object.matrix)}else re&&o.object instanceof Du&&o.object.isOrthographicCamera?(x(De*(o.object.right-o.object.left)/o.object.zoom/re.clientWidth,o.object.matrix),ae(qe*(o.object.top-o.object.bottom)/o.object.zoom/re.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}})();function ie(B){o.object instanceof kc&&o.object.isPerspectiveCamera||o.object instanceof Du&&o.object.isOrthographicCamera?S=B:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function Q(B){ie(S/B)}function z(B){ie(S*B)}function H(B){if(!o.zoomToCursor||!o.domElement)return;V=!0;const me=o.domElement.getBoundingClientRect(),De=B.clientX-me.left,qe=B.clientY-me.top,re=me.width,it=me.height;M.x=De/re*2-1,M.y=-(qe/it)*2+1,F.set(M.x,M.y,1).unproject(o.object).sub(o.object.position).normalize()}function Z(B){return Math.max(o.minDistance,Math.min(o.maxDistance,B))}function P(B){A.set(B.clientX,B.clientY)}function ee(B){H(B),C.set(B.clientX,B.clientY)}function se(B){X.set(B.clientX,B.clientY)}function ce(B){U.set(B.clientX,B.clientY),w.subVectors(U,A).multiplyScalar(o.rotateSpeed);const me=o.domElement;me&&(Y(2*Math.PI*w.x/me.clientHeight),pe(2*Math.PI*w.y/me.clientHeight)),A.copy(U),o.update()}function ge(B){L.set(B.clientX,B.clientY),k.subVectors(L,C),k.y>0?Q(J()):k.y<0&&z(J()),C.copy(L),o.update()}function Oe(B){j.set(B.clientX,B.clientY),D.subVectors(j,X).multiplyScalar(o.panSpeed),ve(D.x,D.y),X.copy(j),o.update()}function He(B){H(B),B.deltaY<0?z(J()):B.deltaY>0&&Q(J()),o.update()}function Ue(B){let me=!1;switch(B.code){case o.keys.UP:ve(0,o.keyPanSpeed),me=!0;break;case o.keys.BOTTOM:ve(0,-o.keyPanSpeed),me=!0;break;case o.keys.LEFT:ve(o.keyPanSpeed,0),me=!0;break;case o.keys.RIGHT:ve(-o.keyPanSpeed,0),me=!0;break}me&&(B.preventDefault(),o.update())}function _e(){if(q.length==1)A.set(q[0].pageX,q[0].pageY);else{const B=.5*(q[0].pageX+q[1].pageX),me=.5*(q[0].pageY+q[1].pageY);A.set(B,me)}}function lt(){if(q.length==1)X.set(q[0].pageX,q[0].pageY);else{const B=.5*(q[0].pageX+q[1].pageX),me=.5*(q[0].pageY+q[1].pageY);X.set(B,me)}}function Ze(){const B=q[0].pageX-q[1].pageX,me=q[0].pageY-q[1].pageY,De=Math.sqrt(B*B+me*me);C.set(0,De)}function Be(){o.enableZoom&&Ze(),o.enablePan&&lt()}function je(){o.enableZoom&&Ze(),o.enableRotate&&_e()}function Ke(B){if(q.length==1)U.set(B.pageX,B.pageY);else{const De=Ne(B),qe=.5*(B.pageX+De.x),re=.5*(B.pageY+De.y);U.set(qe,re)}w.subVectors(U,A).multiplyScalar(o.rotateSpeed);const me=o.domElement;me&&(Y(2*Math.PI*w.x/me.clientHeight),pe(2*Math.PI*w.y/me.clientHeight)),A.copy(U)}function xe(B){if(q.length==1)j.set(B.pageX,B.pageY);else{const me=Ne(B),De=.5*(B.pageX+me.x),qe=.5*(B.pageY+me.y);j.set(De,qe)}D.subVectors(j,X).multiplyScalar(o.panSpeed),ve(D.x,D.y),X.copy(j)}function Fe(B){const me=Ne(B),De=B.pageX-me.x,qe=B.pageY-me.y,re=Math.sqrt(De*De+qe*qe);L.set(0,re),k.set(0,Math.pow(L.y/C.y,o.zoomSpeed)),Q(k.y),C.copy(L)}function Ge(B){o.enableZoom&&Fe(B),o.enablePan&&xe(B)}function be(B){o.enableZoom&&Fe(B),o.enableRotate&&Ke(B)}function rt(B){var me,De;o.enabled!==!1&&(q.length===0&&((me=o.domElement)==null||me.ownerDocument.addEventListener("pointermove",Re),(De=o.domElement)==null||De.ownerDocument.addEventListener("pointerup",Ce)),Gt(B),B.pointerType==="touch"?We(B):ze(B))}function Re(B){o.enabled!==!1&&(B.pointerType==="touch"?ot(B):bt(B))}function Ce(B){var me,De,qe;at(B),q.length===0&&((me=o.domElement)==null||me.releasePointerCapture(B.pointerId),(De=o.domElement)==null||De.ownerDocument.removeEventListener("pointermove",Re),(qe=o.domElement)==null||qe.ownerDocument.removeEventListener("pointerup",Ce)),o.dispatchEvent(d),h=m.NONE}function ze(B){let me;switch(B.button){case 0:me=o.mouseButtons.LEFT;break;case 1:me=o.mouseButtons.MIDDLE;break;case 2:me=o.mouseButtons.RIGHT;break;default:me=-1}switch(me){case Pl.DOLLY:if(o.enableZoom===!1)return;ee(B),h=m.DOLLY;break;case Pl.ROTATE:if(B.ctrlKey||B.metaKey||B.shiftKey){if(o.enablePan===!1)return;se(B),h=m.PAN}else{if(o.enableRotate===!1)return;P(B),h=m.ROTATE}break;case Pl.PAN:if(B.ctrlKey||B.metaKey||B.shiftKey){if(o.enableRotate===!1)return;P(B),h=m.ROTATE}else{if(o.enablePan===!1)return;se(B),h=m.PAN}break;default:h=m.NONE}h!==m.NONE&&o.dispatchEvent(l)}function bt(B){if(o.enabled!==!1)switch(h){case m.ROTATE:if(o.enableRotate===!1)return;ce(B);break;case m.DOLLY:if(o.enableZoom===!1)return;ge(B);break;case m.PAN:if(o.enablePan===!1)return;Oe(B);break}}function Ye(B){o.enabled===!1||o.enableZoom===!1||h!==m.NONE&&h!==m.ROTATE||(B.preventDefault(),o.dispatchEvent(l),He(B),o.dispatchEvent(d))}function ke(B){o.enabled===!1||o.enablePan===!1||Ue(B)}function We(B){switch(Le(B),q.length){case 1:switch(o.touches.ONE){case $l.ROTATE:if(o.enableRotate===!1)return;_e(),h=m.TOUCH_ROTATE;break;case $l.PAN:if(o.enablePan===!1)return;lt(),h=m.TOUCH_PAN;break;default:h=m.NONE}break;case 2:switch(o.touches.TWO){case $l.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Be(),h=m.TOUCH_DOLLY_PAN;break;case $l.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;je(),h=m.TOUCH_DOLLY_ROTATE;break;default:h=m.NONE}break;default:h=m.NONE}h!==m.NONE&&o.dispatchEvent(l)}function ot(B){switch(Le(B),h){case m.TOUCH_ROTATE:if(o.enableRotate===!1)return;Ke(B),o.update();break;case m.TOUCH_PAN:if(o.enablePan===!1)return;xe(B),o.update();break;case m.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Ge(B),o.update();break;case m.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;be(B),o.update();break;default:h=m.NONE}}function Ot(B){o.enabled!==!1&&B.preventDefault()}function Gt(B){q.push(B)}function at(B){delete Se[B.pointerId];for(let me=0;me<q.length;me++)if(q[me].pointerId==B.pointerId){q.splice(me,1);return}}function Le(B){let me=Se[B.pointerId];me===void 0&&(me=new ua,Se[B.pointerId]=me),me.set(B.pageX,B.pageY)}function Ne(B){const me=B.pointerId===q[0].pointerId?q[1]:q[0];return Se[me.pointerId]}this.dollyIn=(B=J())=>{z(B),o.update()},this.dollyOut=(B=J())=>{Q(B),o.update()},this.getScale=()=>S,this.setScale=B=>{ie(B),o.update()},this.getZoomScale=()=>J(),s!==void 0&&this.connect(s),this.update()}};class Xy extends Wm{constructor(i){super(i),this.type=on}parse(i){const d=function(M,V){switch(M){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(V||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(V||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(V||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(V||""))}},y=function(M,V,q){V=V||1024;let N=M.pos,J=-1,Y=0,pe="",x=String.fromCharCode.apply(null,new Uint16Array(M.subarray(N,N+128)));for(;0>(J=x.indexOf(`
`))&&Y<V&&N<M.byteLength;)pe+=x,Y+=x.length,N+=128,x+=String.fromCharCode.apply(null,new Uint16Array(M.subarray(N,N+128)));return-1<J?(M.pos+=Y+J+1,pe+x.slice(0,J)):!1},S=function(M){const V=/^#\?(\S+)/,q=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Se=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*FORMAT=(\S+)\s*$/,J=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Y={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let pe,x;for((M.pos>=M.byteLength||!(pe=y(M)))&&d(1,"no header found"),(x=pe.match(V))||d(3,"bad initial token"),Y.valid|=1,Y.programtype=x[1],Y.string+=pe+`
`;pe=y(M),pe!==!1;){if(Y.string+=pe+`
`,pe.charAt(0)==="#"){Y.comments+=pe+`
`;continue}if((x=pe.match(q))&&(Y.gamma=parseFloat(x[1])),(x=pe.match(Se))&&(Y.exposure=parseFloat(x[1])),(x=pe.match(N))&&(Y.valid|=2,Y.format=x[1]),(x=pe.match(J))&&(Y.valid|=4,Y.height=parseInt(x[1],10),Y.width=parseInt(x[2],10)),Y.valid&2&&Y.valid&4)break}return Y.valid&2||d(3,"missing format specifier"),Y.valid&4||d(3,"missing image size specifier"),Y},E=function(M,V,q){const Se=V;if(Se<8||Se>32767||M[0]!==2||M[1]!==2||M[2]&128)return new Uint8Array(M);Se!==(M[2]<<8|M[3])&&d(3,"wrong scanline width");const N=new Uint8Array(4*V*q);N.length||d(4,"unable to allocate buffer space");let J=0,Y=0;const pe=4*Se,x=new Uint8Array(4),ae=new Uint8Array(pe);let ve=q;for(;ve>0&&Y<M.byteLength;){Y+4>M.byteLength&&d(1),x[0]=M[Y++],x[1]=M[Y++],x[2]=M[Y++],x[3]=M[Y++],(x[0]!=2||x[1]!=2||(x[2]<<8|x[3])!=Se)&&d(3,"bad rgbe scanline format");let ie=0,Q;for(;ie<pe&&Y<M.byteLength;){Q=M[Y++];const H=Q>128;if(H&&(Q-=128),(Q===0||ie+Q>pe)&&d(3,"bad scanline data"),H){const Z=M[Y++];for(let P=0;P<Q;P++)ae[ie++]=Z}else ae.set(M.subarray(Y,Y+Q),ie),ie+=Q,Y+=Q}const z=Se;for(let H=0;H<z;H++){let Z=0;N[J]=ae[H+Z],Z+=Se,N[J+1]=ae[H+Z],Z+=Se,N[J+2]=ae[H+Z],Z+=Se,N[J+3]=ae[H+Z],J+=4}ve--}return N},A=function(M,V,q,Se){const N=M[V+3],J=Math.pow(2,N-128)/255;q[Se+0]=M[V+0]*J,q[Se+1]=M[V+1]*J,q[Se+2]=M[V+2]*J,q[Se+3]=1},U=function(M,V,q,Se){const N=M[V+3],J=Math.pow(2,N-128)/255;q[Se+0]=ar.toHalfFloat(Math.min(M[V+0]*J,65504)),q[Se+1]=ar.toHalfFloat(Math.min(M[V+1]*J,65504)),q[Se+2]=ar.toHalfFloat(Math.min(M[V+2]*J,65504)),q[Se+3]=ar.toHalfFloat(1)},w=new Uint8Array(i);w.pos=0;const X=S(w),j=X.width,D=X.height,C=E(w.subarray(w.pos),j,D);let L,k,F;switch(this.type){case Vn:F=C.length/4;const M=new Float32Array(F*4);for(let q=0;q<F;q++)A(C,q*4,M,q*4);L=M,k=Vn;break;case on:F=C.length/4;const V=new Uint16Array(F*4);for(let q=0;q<F;q++)U(C,q*4,V,q*4);L=V,k=on;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:j,height:D,data:L,header:X.string,gamma:X.gamma,exposure:X.exposure,type:k}}setDataType(i){return this.type=i,this}load(i,s,o,r){function l(d,m){switch(d.type){case Vn:case on:"colorSpace"in d?d.colorSpace="srgb-linear":d.encoding=3e3,d.minFilter=Ja,d.magFilter=Ja,d.generateMipmaps=!1,d.flipY=!0;break}s&&s(d,m)}return super.load(i,l,o,r)}}const Kr=Fu>=152;class Zy extends Wm{constructor(i){super(i),this.type=on}parse(i){const V=Math.pow(2.7182818,2.2);function q(b,T){for(var R=0,te=0;te<65536;++te)(te==0||b[te>>3]&1<<(te&7))&&(T[R++]=te);for(var oe=R-1;R<65536;)T[R++]=0;return oe}function Se(b){for(var T=0;T<16384;T++)b[T]={},b[T].len=0,b[T].lit=0,b[T].p=null}const N={l:0,c:0,lc:0};function J(b,T,R,te,oe){for(;R<b;)T=T<<8|Ne(te,oe),R+=8;R-=b,N.l=T>>R&(1<<b)-1,N.c=T,N.lc=R}const Y=new Array(59);function pe(b){for(var T=0;T<=58;++T)Y[T]=0;for(var T=0;T<65537;++T)Y[b[T]]+=1;for(var R=0,T=58;T>0;--T){var te=R+Y[T]>>1;Y[T]=R,R=te}for(var T=0;T<65537;++T){var oe=b[T];oe>0&&(b[T]=oe|Y[oe]++<<6)}}function x(b,T,R,te,oe,ue,Te){for(var Ee=R,Ae=0,Me=0;oe<=ue;oe++){if(Ee.value-R.value>te)return!1;J(6,Ae,Me,b,Ee);var we=N.l;if(Ae=N.c,Me=N.lc,Te[oe]=we,we==63){if(Ee.value-R.value>te)throw"Something wrong with hufUnpackEncTable";J(8,Ae,Me,b,Ee);var ne=N.l+6;if(Ae=N.c,Me=N.lc,oe+ne>ue+1)throw"Something wrong with hufUnpackEncTable";for(;ne--;)Te[oe++]=0;oe--}else if(we>=59){var ne=we-59+2;if(oe+ne>ue+1)throw"Something wrong with hufUnpackEncTable";for(;ne--;)Te[oe++]=0;oe--}}pe(Te)}function ae(b){return b&63}function ve(b){return b>>6}function ie(b,T,R,te){for(;T<=R;T++){var oe=ve(b[T]),ue=ae(b[T]);if(oe>>ue)throw"Invalid table entry";if(ue>14){var Te=te[oe>>ue-14];if(Te.len)throw"Invalid table entry";if(Te.lit++,Te.p){var Ee=Te.p;Te.p=new Array(Te.lit);for(var Ae=0;Ae<Te.lit-1;++Ae)Te.p[Ae]=Ee[Ae]}else Te.p=new Array(1);Te.p[Te.lit-1]=T}else if(ue)for(var Me=0,Ae=1<<14-ue;Ae>0;Ae--){var Te=te[(oe<<14-ue)+Me];if(Te.len||Te.p)throw"Invalid table entry";Te.len=ue,Te.lit=T,Me++}}return!0}const Q={c:0,lc:0};function z(b,T,R,te){b=b<<8|Ne(R,te),T+=8,Q.c=b,Q.lc=T}const H={c:0,lc:0};function Z(b,T,R,te,oe,ue,Te,Ee,Ae,Me){if(b==T){te<8&&(z(R,te,oe,Te),R=Q.c,te=Q.lc),te-=8;var we=R>>te,we=new Uint8Array([we])[0];if(Ae.value+we>Me)return!1;for(var ne=Ee[Ae.value-1];we-- >0;)Ee[Ae.value++]=ne}else if(Ae.value<Me)Ee[Ae.value++]=b;else return!1;H.c=R,H.lc=te}function P(b){return b&65535}function ee(b){var T=P(b);return T>32767?T-65536:T}const se={a:0,b:0};function ce(b,T){var R=ee(b),te=ee(T),oe=te,ue=R+(oe&1)+(oe>>1),Te=ue,Ee=ue-oe;se.a=Te,se.b=Ee}function ge(b,T){var R=P(b),te=P(T),oe=R-(te>>1)&65535,ue=te+oe-32768&65535;se.a=ue,se.b=oe}function Oe(b,T,R,te,oe,ue,Te){for(var Ee=Te<16384,Ae=R>oe?oe:R,Me=1,we;Me<=Ae;)Me<<=1;for(Me>>=1,we=Me,Me>>=1;Me>=1;){for(var ne=0,st=ne+ue*(oe-we),Ie=ue*Me,Xe=ue*we,Je=te*Me,ct=te*we,Ct,Ut,qt,fa;ne<=st;ne+=Xe){for(var Tt=ne,ba=ne+te*(R-we);Tt<=ba;Tt+=ct){var pt=Tt+Je,wt=Tt+Ie,Sa=wt+Je;Ee?(ce(b[Tt+T],b[wt+T]),Ct=se.a,qt=se.b,ce(b[pt+T],b[Sa+T]),Ut=se.a,fa=se.b,ce(Ct,Ut),b[Tt+T]=se.a,b[pt+T]=se.b,ce(qt,fa),b[wt+T]=se.a,b[Sa+T]=se.b):(ge(b[Tt+T],b[wt+T]),Ct=se.a,qt=se.b,ge(b[pt+T],b[Sa+T]),Ut=se.a,fa=se.b,ge(Ct,Ut),b[Tt+T]=se.a,b[pt+T]=se.b,ge(qt,fa),b[wt+T]=se.a,b[Sa+T]=se.b)}if(R&Me){var wt=Tt+Ie;Ee?ce(b[Tt+T],b[wt+T]):ge(b[Tt+T],b[wt+T]),Ct=se.a,b[wt+T]=se.b,b[Tt+T]=Ct}}if(oe&Me)for(var Tt=ne,ba=ne+te*(R-we);Tt<=ba;Tt+=ct){var pt=Tt+Je;Ee?ce(b[Tt+T],b[pt+T]):ge(b[Tt+T],b[pt+T]),Ct=se.a,b[pt+T]=se.b,b[Tt+T]=Ct}we=Me,Me>>=1}return ne}function He(b,T,R,te,oe,ue,Te,Ee,Ae,Me){for(var we=0,ne=0,st=Ee,Ie=Math.trunc(oe.value+(ue+7)/8);oe.value<Ie;)for(z(we,ne,R,oe),we=Q.c,ne=Q.lc;ne>=14;){var Xe=we>>ne-14&16383,Je=T[Xe];if(Je.len)ne-=Je.len,Z(Je.lit,Te,we,ne,R,te,oe,Ae,Me,st),we=H.c,ne=H.lc;else{if(!Je.p)throw"hufDecode issues";var ct;for(ct=0;ct<Je.lit;ct++){for(var Ct=ae(b[Je.p[ct]]);ne<Ct&&oe.value<Ie;)z(we,ne,R,oe),we=Q.c,ne=Q.lc;if(ne>=Ct&&ve(b[Je.p[ct]])==(we>>ne-Ct&(1<<Ct)-1)){ne-=Ct,Z(Je.p[ct],Te,we,ne,R,te,oe,Ae,Me,st),we=H.c,ne=H.lc;break}}if(ct==Je.lit)throw"hufDecode issues"}}var Ut=8-ue&7;for(we>>=Ut,ne-=Ut;ne>0;){var Je=T[we<<14-ne&16383];if(Je.len)ne-=Je.len,Z(Je.lit,Te,we,ne,R,te,oe,Ae,Me,st),we=H.c,ne=H.lc;else throw"hufDecode issues"}return!0}function Ue(b,T,R,te,oe,ue){var Te={value:0},Ee=R.value,Ae=Le(T,R),Me=Le(T,R);R.value+=4;var we=Le(T,R);if(R.value+=4,Ae<0||Ae>=65537||Me<0||Me>=65537)throw"Something wrong with HUF_ENCSIZE";var ne=new Array(65537),st=new Array(16384);Se(st);var Ie=te-(R.value-Ee);if(x(b,T,R,Ie,Ae,Me,ne),we>8*(te-(R.value-Ee)))throw"Something wrong with hufUncompress";ie(ne,Ae,Me,st),He(ne,st,b,T,R,we,Me,ue,oe,Te)}function _e(b,T,R){for(var te=0;te<R;++te)T[te]=b[T[te]]}function lt(b){for(var T=1;T<b.length;T++){var R=b[T-1]+b[T]-128;b[T]=R}}function Ze(b,T){for(var R=0,te=Math.floor((b.length+1)/2),oe=0,ue=b.length-1;!(oe>ue||(T[oe++]=b[R++],oe>ue));)T[oe++]=b[te++]}function Be(b){for(var T=b.byteLength,R=new Array,te=0,oe=new DataView(b);T>0;){var ue=oe.getInt8(te++);if(ue<0){var Te=-ue;T-=Te+1;for(var Ee=0;Ee<Te;Ee++)R.push(oe.getUint8(te++))}else{var Te=ue;T-=2;for(var Ae=oe.getUint8(te++),Ee=0;Ee<Te+1;Ee++)R.push(Ae)}}return R}function je(b,T,R,te,oe,ue){var pt=new DataView(ue.buffer),Te=R[b.idx[0]].width,Ee=R[b.idx[0]].height,Ae=3,Me=Math.floor(Te/8),we=Math.ceil(Te/8),ne=Math.ceil(Ee/8),st=Te-(we-1)*8,Ie=Ee-(ne-1)*8,Xe={value:0},Je=new Array(Ae),ct=new Array(Ae),Ct=new Array(Ae),Ut=new Array(Ae),qt=new Array(Ae);for(let Dt=0;Dt<Ae;++Dt)qt[Dt]=T[b.idx[Dt]],Je[Dt]=Dt<1?0:Je[Dt-1]+we*ne,ct[Dt]=new Float32Array(64),Ct[Dt]=new Uint16Array(64),Ut[Dt]=new Uint16Array(we*64);for(let Dt=0;Dt<ne;++Dt){var fa=8;Dt==ne-1&&(fa=Ie);var Tt=8;for(let Nt=0;Nt<we;++Nt){Nt==we-1&&(Tt=st);for(let $e=0;$e<Ae;++$e)Ct[$e].fill(0),Ct[$e][0]=oe[Je[$e]++],Ke(Xe,te,Ct[$e]),xe(Ct[$e],ct[$e]),Fe(ct[$e]);Ge(ct);for(let $e=0;$e<Ae;++$e)be(ct[$e],Ut[$e],Nt*64)}let Kt=0;for(let Nt=0;Nt<Ae;++Nt){const $e=R[b.idx[Nt]].type;for(let _a=8*Dt;_a<8*Dt+fa;++_a){Kt=qt[Nt][_a];for(let Va=0;Va<Me;++Va){const na=Va*64+(_a&7)*8;pt.setUint16(Kt+0*$e,Ut[Nt][na+0],!0),pt.setUint16(Kt+2*$e,Ut[Nt][na+1],!0),pt.setUint16(Kt+4*$e,Ut[Nt][na+2],!0),pt.setUint16(Kt+6*$e,Ut[Nt][na+3],!0),pt.setUint16(Kt+8*$e,Ut[Nt][na+4],!0),pt.setUint16(Kt+10*$e,Ut[Nt][na+5],!0),pt.setUint16(Kt+12*$e,Ut[Nt][na+6],!0),pt.setUint16(Kt+14*$e,Ut[Nt][na+7],!0),Kt+=16*$e}}if(Me!=we)for(let _a=8*Dt;_a<8*Dt+fa;++_a){const Va=qt[Nt][_a]+8*Me*2*$e,na=Me*64+(_a&7)*8;for(let Ea=0;Ea<Tt;++Ea)pt.setUint16(Va+Ea*2*$e,Ut[Nt][na+Ea],!0)}}}for(var ba=new Uint16Array(Te),pt=new DataView(ue.buffer),wt=0;wt<Ae;++wt){R[b.idx[wt]].decoded=!0;var Sa=R[b.idx[wt]].type;if(R[wt].type==2)for(var _n=0;_n<Ee;++_n){const Dt=qt[wt][_n];for(var aa=0;aa<Te;++aa)ba[aa]=pt.getUint16(Dt+aa*2*Sa,!0);for(var aa=0;aa<Te;++aa)pt.setFloat32(Dt+aa*2*Sa,re(ba[aa]),!0)}}}function Ke(b,T,R){for(var te,oe=1;oe<64;)te=T[b.value],te==65280?oe=64:te>>8==255?oe+=te&255:(R[oe]=te,oe++),b.value++}function xe(b,T){T[0]=re(b[0]),T[1]=re(b[1]),T[2]=re(b[5]),T[3]=re(b[6]),T[4]=re(b[14]),T[5]=re(b[15]),T[6]=re(b[27]),T[7]=re(b[28]),T[8]=re(b[2]),T[9]=re(b[4]),T[10]=re(b[7]),T[11]=re(b[13]),T[12]=re(b[16]),T[13]=re(b[26]),T[14]=re(b[29]),T[15]=re(b[42]),T[16]=re(b[3]),T[17]=re(b[8]),T[18]=re(b[12]),T[19]=re(b[17]),T[20]=re(b[25]),T[21]=re(b[30]),T[22]=re(b[41]),T[23]=re(b[43]),T[24]=re(b[9]),T[25]=re(b[11]),T[26]=re(b[18]),T[27]=re(b[24]),T[28]=re(b[31]),T[29]=re(b[40]),T[30]=re(b[44]),T[31]=re(b[53]),T[32]=re(b[10]),T[33]=re(b[19]),T[34]=re(b[23]),T[35]=re(b[32]),T[36]=re(b[39]),T[37]=re(b[45]),T[38]=re(b[52]),T[39]=re(b[54]),T[40]=re(b[20]),T[41]=re(b[22]),T[42]=re(b[33]),T[43]=re(b[38]),T[44]=re(b[46]),T[45]=re(b[51]),T[46]=re(b[55]),T[47]=re(b[60]),T[48]=re(b[21]),T[49]=re(b[34]),T[50]=re(b[37]),T[51]=re(b[47]),T[52]=re(b[50]),T[53]=re(b[56]),T[54]=re(b[59]),T[55]=re(b[61]),T[56]=re(b[35]),T[57]=re(b[36]),T[58]=re(b[48]),T[59]=re(b[49]),T[60]=re(b[57]),T[61]=re(b[58]),T[62]=re(b[62]),T[63]=re(b[63])}function Fe(b){const T=.5*Math.cos(.7853975),R=.5*Math.cos(3.14159/16),te=.5*Math.cos(3.14159/8),oe=.5*Math.cos(3*3.14159/16),ue=.5*Math.cos(5*3.14159/16),Te=.5*Math.cos(3*3.14159/8),Ee=.5*Math.cos(7*3.14159/16);for(var Ae=new Array(4),Me=new Array(4),we=new Array(4),ne=new Array(4),st=0;st<8;++st){var Ie=st*8;Ae[0]=te*b[Ie+2],Ae[1]=Te*b[Ie+2],Ae[2]=te*b[Ie+6],Ae[3]=Te*b[Ie+6],Me[0]=R*b[Ie+1]+oe*b[Ie+3]+ue*b[Ie+5]+Ee*b[Ie+7],Me[1]=oe*b[Ie+1]-Ee*b[Ie+3]-R*b[Ie+5]-ue*b[Ie+7],Me[2]=ue*b[Ie+1]-R*b[Ie+3]+Ee*b[Ie+5]+oe*b[Ie+7],Me[3]=Ee*b[Ie+1]-ue*b[Ie+3]+oe*b[Ie+5]-R*b[Ie+7],we[0]=T*(b[Ie+0]+b[Ie+4]),we[3]=T*(b[Ie+0]-b[Ie+4]),we[1]=Ae[0]+Ae[3],we[2]=Ae[1]-Ae[2],ne[0]=we[0]+we[1],ne[1]=we[3]+we[2],ne[2]=we[3]-we[2],ne[3]=we[0]-we[1],b[Ie+0]=ne[0]+Me[0],b[Ie+1]=ne[1]+Me[1],b[Ie+2]=ne[2]+Me[2],b[Ie+3]=ne[3]+Me[3],b[Ie+4]=ne[3]-Me[3],b[Ie+5]=ne[2]-Me[2],b[Ie+6]=ne[1]-Me[1],b[Ie+7]=ne[0]-Me[0]}for(var Xe=0;Xe<8;++Xe)Ae[0]=te*b[16+Xe],Ae[1]=Te*b[16+Xe],Ae[2]=te*b[48+Xe],Ae[3]=Te*b[48+Xe],Me[0]=R*b[8+Xe]+oe*b[24+Xe]+ue*b[40+Xe]+Ee*b[56+Xe],Me[1]=oe*b[8+Xe]-Ee*b[24+Xe]-R*b[40+Xe]-ue*b[56+Xe],Me[2]=ue*b[8+Xe]-R*b[24+Xe]+Ee*b[40+Xe]+oe*b[56+Xe],Me[3]=Ee*b[8+Xe]-ue*b[24+Xe]+oe*b[40+Xe]-R*b[56+Xe],we[0]=T*(b[Xe]+b[32+Xe]),we[3]=T*(b[Xe]-b[32+Xe]),we[1]=Ae[0]+Ae[3],we[2]=Ae[1]-Ae[2],ne[0]=we[0]+we[1],ne[1]=we[3]+we[2],ne[2]=we[3]-we[2],ne[3]=we[0]-we[1],b[0+Xe]=ne[0]+Me[0],b[8+Xe]=ne[1]+Me[1],b[16+Xe]=ne[2]+Me[2],b[24+Xe]=ne[3]+Me[3],b[32+Xe]=ne[3]-Me[3],b[40+Xe]=ne[2]-Me[2],b[48+Xe]=ne[1]-Me[1],b[56+Xe]=ne[0]-Me[0]}function Ge(b){for(var T=0;T<64;++T){var R=b[0][T],te=b[1][T],oe=b[2][T];b[0][T]=R+1.5747*oe,b[1][T]=R-.1873*te-.4682*oe,b[2][T]=R+1.8556*te}}function be(b,T,R){for(var te=0;te<64;++te)T[R+te]=ar.toHalfFloat(rt(b[te]))}function rt(b){return b<=1?Math.sign(b)*Math.pow(Math.abs(b),2.2):Math.sign(b)*Math.pow(V,Math.abs(b)-1)}function Re(b){return new DataView(b.array.buffer,b.offset.value,b.size)}function Ce(b){var T=b.viewer.buffer.slice(b.offset.value,b.offset.value+b.size),R=new Uint8Array(Be(T)),te=new Uint8Array(R.length);return lt(R),Ze(R,te),new DataView(te.buffer)}function ze(b){var T=b.array.slice(b.offset.value,b.offset.value+b.size),R=_u(T),te=new Uint8Array(R.length);return lt(R),Ze(R,te),new DataView(te.buffer)}function bt(b){for(var T=b.viewer,R={value:b.offset.value},te=new Uint16Array(b.width*b.scanlineBlockSize*(b.channels*b.type)),oe=new Uint8Array(8192),ue=0,Te=new Array(b.channels),Ee=0;Ee<b.channels;Ee++)Te[Ee]={},Te[Ee].start=ue,Te[Ee].end=Te[Ee].start,Te[Ee].nx=b.width,Te[Ee].ny=b.lines,Te[Ee].size=b.type,ue+=Te[Ee].nx*Te[Ee].ny*Te[Ee].size;var Ae=it(T,R),Me=it(T,R);if(Me>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ae<=Me)for(var Ee=0;Ee<Me-Ae+1;Ee++)oe[Ee+Ae]=B(T,R);var we=new Uint16Array(65536),ne=q(oe,we),st=Le(T,R);Ue(b.array,T,R,st,te,ue);for(var Ee=0;Ee<b.channels;++Ee)for(var Ie=Te[Ee],Xe=0;Xe<Te[Ee].size;++Xe)Oe(te,Ie.start+Xe,Ie.nx,Ie.size,Ie.ny,Ie.nx*Ie.size,ne);_e(we,te,ue);for(var Je=0,ct=new Uint8Array(te.buffer.byteLength),Ct=0;Ct<b.lines;Ct++)for(var Ut=0;Ut<b.channels;Ut++){var Ie=Te[Ut],qt=Ie.nx*Ie.size,fa=new Uint8Array(te.buffer,Ie.end*2,qt*2);ct.set(fa,Je),Je+=qt*2,Ie.end+=qt}return new DataView(ct.buffer)}function Ye(b){var T=b.array.slice(b.offset.value,b.offset.value+b.size),R=_u(T);const te=b.lines*b.channels*b.width,oe=b.type==1?new Uint16Array(te):new Uint32Array(te);let ue=0,Te=0;const Ee=new Array(4);for(let Ae=0;Ae<b.lines;Ae++)for(let Me=0;Me<b.channels;Me++){let we=0;switch(b.type){case 1:Ee[0]=ue,Ee[1]=Ee[0]+b.width,ue=Ee[1]+b.width;for(let ne=0;ne<b.width;++ne){const st=R[Ee[0]++]<<8|R[Ee[1]++];we+=st,oe[Te]=we,Te++}break;case 2:Ee[0]=ue,Ee[1]=Ee[0]+b.width,Ee[2]=Ee[1]+b.width,ue=Ee[2]+b.width;for(let ne=0;ne<b.width;++ne){const st=R[Ee[0]++]<<24|R[Ee[1]++]<<16|R[Ee[2]++]<<8;we+=st,oe[Te]=we,Te++}break}}return new DataView(oe.buffer)}function ke(b){var T=b.viewer,R={value:b.offset.value},te=new Uint8Array(b.width*b.lines*(b.channels*b.type*2)),oe={version:me(T,R),unknownUncompressedSize:me(T,R),unknownCompressedSize:me(T,R),acCompressedSize:me(T,R),dcCompressedSize:me(T,R),rleCompressedSize:me(T,R),rleUncompressedSize:me(T,R),rleRawSize:me(T,R),totalAcUncompressedCount:me(T,R),totalDcUncompressedCount:me(T,R),acCompression:me(T,R)};if(oe.version<2)throw"EXRLoader.parse: "+La.compression+" version "+oe.version+" is unsupported";for(var ue=new Array,Te=it(T,R)-2;Te>0;){var Ee=We(T.buffer,R),Ae=B(T,R),Me=Ae>>2&3,we=(Ae>>4)-1,ne=new Int8Array([we])[0],st=B(T,R);ue.push({name:Ee,index:ne,type:st,compression:Me}),Te-=Ee.length+3}for(var Ie=La.channels,Xe=new Array(b.channels),Je=0;Je<b.channels;++Je){var ct=Xe[Je]={},Ct=Ie[Je];ct.name=Ct.name,ct.compression=0,ct.decoded=!1,ct.type=Ct.pixelType,ct.pLinear=Ct.pLinear,ct.width=b.width,ct.height=b.lines}for(var Ut={idx:new Array(3)},qt=0;qt<b.channels;++qt)for(var ct=Xe[qt],Je=0;Je<ue.length;++Je){var fa=ue[Je];ct.name==fa.name&&(ct.compression=fa.compression,fa.index>=0&&(Ut.idx[fa.index]=qt),ct.offset=qt)}if(oe.acCompressedSize>0)switch(oe.acCompression){case 0:var pt=new Uint16Array(oe.totalAcUncompressedCount);Ue(b.array,T,R,oe.acCompressedSize,pt,oe.totalAcUncompressedCount);break;case 1:var Tt=b.array.slice(R.value,R.value+oe.totalAcUncompressedCount),ba=_u(Tt),pt=new Uint16Array(ba.buffer);R.value+=oe.totalAcUncompressedCount;break}if(oe.dcCompressedSize>0){var wt={array:b.array,offset:R,size:oe.dcCompressedSize},Sa=new Uint16Array(ze(wt).buffer);R.value+=oe.dcCompressedSize}if(oe.rleRawSize>0){var Tt=b.array.slice(R.value,R.value+oe.rleCompressedSize),ba=_u(Tt),_n=Be(ba.buffer);R.value+=oe.rleCompressedSize}for(var aa=0,Dt=new Array(Xe.length),Je=0;Je<Dt.length;++Je)Dt[Je]=new Array;for(var Kt=0;Kt<b.lines;++Kt)for(var Nt=0;Nt<Xe.length;++Nt)Dt[Nt].push(aa),aa+=Xe[Nt].width*b.type*2;je(Ut,Dt,Xe,pt,Sa,te);for(var Je=0;Je<Xe.length;++Je){var ct=Xe[Je];if(!ct.decoded)switch(ct.compression){case 2:for(var $e=0,_a=0,Kt=0;Kt<b.lines;++Kt){for(var Va=Dt[Je][$e],na=0;na<ct.width;++na){for(var Ea=0;Ea<2*ct.type;++Ea)te[Va++]=_n[_a+Ea*ct.width*ct.height];_a++}$e++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(te.buffer)}function We(b,T){for(var R=new Uint8Array(b),te=0;R[T.value+te]!=0;)te+=1;var oe=new TextDecoder().decode(R.slice(T.value,T.value+te));return T.value=T.value+te+1,oe}function ot(b,T,R){var te=new TextDecoder().decode(new Uint8Array(b).slice(T.value,T.value+R));return T.value=T.value+R,te}function Ot(b,T){var R=at(b,T),te=Le(b,T);return[R,te]}function Gt(b,T){var R=Le(b,T),te=Le(b,T);return[R,te]}function at(b,T){var R=b.getInt32(T.value,!0);return T.value=T.value+4,R}function Le(b,T){var R=b.getUint32(T.value,!0);return T.value=T.value+4,R}function Ne(b,T){var R=b[T.value];return T.value=T.value+1,R}function B(b,T){var R=b.getUint8(T.value);return T.value=T.value+1,R}const me=function(b,T){let R;return"getBigInt64"in DataView.prototype?R=Number(b.getBigInt64(T.value,!0)):R=b.getUint32(T.value+4,!0)+Number(b.getUint32(T.value,!0)<<32),T.value+=8,R};function De(b,T){var R=b.getFloat32(T.value,!0);return T.value+=4,R}function qe(b,T){return ar.toHalfFloat(De(b,T))}function re(b){var T=(b&31744)>>10,R=b&1023;return(b>>15?-1:1)*(T?T===31?R?NaN:1/0:Math.pow(2,T-15)*(1+R/1024):6103515625e-14*(R/1024))}function it(b,T){var R=b.getUint16(T.value,!0);return T.value+=2,R}function $t(b,T){return re(it(b,T))}function mt(b,T,R,te){for(var oe=R.value,ue=[];R.value<oe+te-1;){var Te=We(T,R),Ee=at(b,R),Ae=B(b,R);R.value+=3;var Me=at(b,R),we=at(b,R);ue.push({name:Te,pixelType:Ee,pLinear:Ae,xSampling:Me,ySampling:we})}return R.value+=1,ue}function ft(b,T){var R=De(b,T),te=De(b,T),oe=De(b,T),ue=De(b,T),Te=De(b,T),Ee=De(b,T),Ae=De(b,T),Me=De(b,T);return{redX:R,redY:te,greenX:oe,greenY:ue,blueX:Te,blueY:Ee,whiteX:Ae,whiteY:Me}}function gt(b,T){var R=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],te=B(b,T);return R[te]}function yt(b,T){var R=Le(b,T),te=Le(b,T),oe=Le(b,T),ue=Le(b,T);return{xMin:R,yMin:te,xMax:oe,yMax:ue}}function et(b,T){var R=["INCREASING_Y"],te=B(b,T);return R[te]}function Et(b,T){var R=De(b,T),te=De(b,T);return[R,te]}function kt(b,T){var R=De(b,T),te=De(b,T),oe=De(b,T);return[R,te,oe]}function Qt(b,T,R,te,oe){if(te==="string"||te==="stringvector"||te==="iccProfile")return ot(T,R,oe);if(te==="chlist")return mt(b,T,R,oe);if(te==="chromaticities")return ft(b,R);if(te==="compression")return gt(b,R);if(te==="box2i")return yt(b,R);if(te==="lineOrder")return et(b,R);if(te==="float")return De(b,R);if(te==="v2f")return Et(b,R);if(te==="v3f")return kt(b,R);if(te==="int")return at(b,R);if(te==="rational")return Ot(b,R);if(te==="timecode")return Gt(b,R);if(te==="preview")return R.value+=oe,"skipped";R.value+=oe}function ea(b,T,R){const te={};if(b.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";te.version=b.getUint8(4);const oe=b.getUint8(5);te.spec={singleTile:!!(oe&2),longName:!!(oe&4),deepFormat:!!(oe&8),multiPart:!!(oe&16)},R.value=8;for(var ue=!0;ue;){var Te=We(T,R);if(Te==0)ue=!1;else{var Ee=We(T,R),Ae=Le(b,R),Me=Qt(b,T,R,Ee,Ae);Me===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Ee}'.`):te[Te]=Me}}if((oe&-5)!=0)throw console.error("EXRHeader:",te),"THREE.EXRLoader: provided file is currently unsupported.";return te}function Ra(b,T,R,te,oe){const ue={size:0,viewer:T,array:R,offset:te,width:b.dataWindow.xMax-b.dataWindow.xMin+1,height:b.dataWindow.yMax-b.dataWindow.yMin+1,channels:b.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:b.channels[0].pixelType,uncompress:null,getter:null,format:null,[Kr?"colorSpace":"encoding"]:null};switch(b.compression){case"NO_COMPRESSION":ue.lines=1,ue.uncompress=Re;break;case"RLE_COMPRESSION":ue.lines=1,ue.uncompress=Ce;break;case"ZIPS_COMPRESSION":ue.lines=1,ue.uncompress=ze;break;case"ZIP_COMPRESSION":ue.lines=16,ue.uncompress=ze;break;case"PIZ_COMPRESSION":ue.lines=32,ue.uncompress=bt;break;case"PXR24_COMPRESSION":ue.lines=16,ue.uncompress=Ye;break;case"DWAA_COMPRESSION":ue.lines=32,ue.uncompress=ke;break;case"DWAB_COMPRESSION":ue.lines=256,ue.uncompress=ke;break;default:throw"EXRLoader.parse: "+b.compression+" is unsupported"}if(ue.scanlineBlockSize=ue.lines,ue.type==1)switch(oe){case Vn:ue.getter=$t,ue.inputSize=2;break;case on:ue.getter=it,ue.inputSize=2;break}else if(ue.type==2)switch(oe){case Vn:ue.getter=De,ue.inputSize=4;break;case on:ue.getter=qe,ue.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ue.type+" for "+b.compression+".";ue.blockCount=(b.dataWindow.yMax+1)/ue.scanlineBlockSize;for(var Te=0;Te<ue.blockCount;Te++)me(T,te);ue.outputChannels=ue.channels==3?4:ue.channels;const Ee=ue.width*ue.height*ue.outputChannels;switch(oe){case Vn:ue.byteArray=new Float32Array(Ee),ue.channels<ue.outputChannels&&ue.byteArray.fill(1,0,Ee);break;case on:ue.byteArray=new Uint16Array(Ee),ue.channels<ue.outputChannels&&ue.byteArray.fill(15360,0,Ee);break;default:console.error("THREE.EXRLoader: unsupported type: ",oe);break}return ue.bytesPerLine=ue.width*ue.inputSize*ue.channels,ue.outputChannels==4?ue.format=no:ue.format=F1,Kr?ue.colorSpace="srgb-linear":ue.encoding=3e3,ue}const Ba=new DataView(i),ja=new Uint8Array(i),ya={value:0},La=ea(Ba,i,ya),ut=Ra(La,Ba,ja,ya,this.type),Xt={value:0},Zt={R:0,G:1,B:2,A:3,Y:0};for(let b=0;b<ut.height/ut.scanlineBlockSize;b++){const T=Le(Ba,ya);ut.size=Le(Ba,ya),ut.lines=T+ut.scanlineBlockSize>ut.height?ut.height-T:ut.scanlineBlockSize;const te=ut.size<ut.lines*ut.bytesPerLine?ut.uncompress(ut):Re(ut);ya.value+=ut.size;for(let oe=0;oe<ut.scanlineBlockSize;oe++){const ue=oe+b*ut.scanlineBlockSize;if(ue>=ut.height)break;for(let Te=0;Te<ut.channels;Te++){const Ee=Zt[La.channels[Te].name];for(let Ae=0;Ae<ut.width;Ae++){Xt.value=(oe*(ut.channels*ut.width)+Te*ut.width+Ae)*ut.inputSize;const Me=(ut.height-1-ue)*(ut.width*ut.outputChannels)+Ae*ut.outputChannels+Ee;ut.byteArray[Me]=ut.getter(te,Xt)}}}}return{header:La,width:ut.width,height:ut.height,data:ut.byteArray,format:ut.format,[Kr?"colorSpace":"encoding"]:ut[Kr?"colorSpace":"encoding"],type:this.type}}setDataType(i){return this.type=i,this}load(i,s,o,r){function l(d,m){Kr?d.colorSpace=m.colorSpace:d.encoding=m.encoding,d.minFilter=Ja,d.magFilter=Ja,d.generateMipmaps=!1,d.flipY=!1,s&&s(d,m)}return super.load(i,l,o,r)}}const Mm=new lo,Tu=new dt;class gf extends Jm{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const i=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],s=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],o=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(o),this.setAttribute("position",new im(i,3)),this.setAttribute("uv",new im(s,2))}applyMatrix4(i){const s=this.attributes.instanceStart,o=this.attributes.instanceEnd;return s!==void 0&&(s.applyMatrix4(i),o.applyMatrix4(i),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(i){let s;i instanceof Float32Array?s=i:Array.isArray(i)&&(s=new Float32Array(i));const o=new $c(s,6,1);return this.setAttribute("instanceStart",new nr(o,3,0)),this.setAttribute("instanceEnd",new nr(o,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(i,s=3){let o;i instanceof Float32Array?o=i:Array.isArray(i)&&(o=new Float32Array(i));const r=new $c(o,s*2,1);return this.setAttribute("instanceColorStart",new nr(r,s,0)),this.setAttribute("instanceColorEnd",new nr(r,s,s)),this}fromWireframeGeometry(i){return this.setPositions(i.attributes.position.array),this}fromEdgesGeometry(i){return this.setPositions(i.attributes.position.array),this}fromMesh(i){return this.fromWireframeGeometry(new j1(i.geometry)),this}fromLineSegments(i){const s=i.geometry;return this.setPositions(s.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new lo);const i=this.attributes.instanceStart,s=this.attributes.instanceEnd;i!==void 0&&s!==void 0&&(this.boundingBox.setFromBufferAttribute(i),Mm.setFromBufferAttribute(s),this.boundingBox.union(Mm))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new df),this.boundingBox===null&&this.computeBoundingBox();const i=this.attributes.instanceStart,s=this.attributes.instanceEnd;if(i!==void 0&&s!==void 0){const o=this.boundingSphere.center;this.boundingBox.getCenter(o);let r=0;for(let l=0,d=i.count;l<d;l++)Tu.fromBufferAttribute(i,l),r=Math.max(r,o.distanceToSquared(Tu)),Tu.fromBufferAttribute(s,l),r=Math.max(r,o.distanceToSquared(Tu));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(i){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(i)}}class m0 extends gf{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(i){const s=i.length-3,o=new Float32Array(2*s);for(let r=0;r<s;r+=3)o[2*r]=i[r],o[2*r+1]=i[r+1],o[2*r+2]=i[r+2],o[2*r+3]=i[r+3],o[2*r+4]=i[r+4],o[2*r+5]=i[r+5];return super.setPositions(o),this}setColors(i,s=3){const o=i.length-s,r=new Float32Array(2*o);if(s===3)for(let l=0;l<o;l+=s)r[2*l]=i[l],r[2*l+1]=i[l+1],r[2*l+2]=i[l+2],r[2*l+3]=i[l+3],r[2*l+4]=i[l+4],r[2*l+5]=i[l+5];else for(let l=0;l<o;l+=s)r[2*l]=i[l],r[2*l+1]=i[l+1],r[2*l+2]=i[l+2],r[2*l+3]=i[l+3],r[2*l+4]=i[l+4],r[2*l+5]=i[l+5],r[2*l+6]=i[l+6],r[2*l+7]=i[l+7];return super.setColors(r,s),this}fromLine(i){const s=i.geometry;return this.setPositions(s.attributes.position.array),this}}class yf extends dl{constructor(i){super({type:"LineMaterial",uniforms:Nu.clone(Nu.merge([ef.common,ef.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ua(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${Fu>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(s){this.uniforms.diffuse.value=s}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(s){s===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(s){this.uniforms.linewidth.value=s}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(s){!!s!="USE_DASH"in this.defines&&(this.needsUpdate=!0),s===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(s){this.uniforms.dashScale.value=s}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(s){this.uniforms.dashSize.value=s}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(s){this.uniforms.dashOffset.value=s}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(s){this.uniforms.gapSize.value=s}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(s){this.uniforms.opacity.value=s}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(s){this.uniforms.resolution.value.copy(s)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(s){!!s!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),s===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(i)}}const qc=new hi,xm=new dt,Um=new dt,Da=new hi,Oa=new hi,kn=new hi,Ic=new dt,Qc=new vf,za=new V1,wm=new dt,Au=new lo,Mu=new df,Hn=new hi;let jn,cl;function Dm(f,i,s){return Hn.set(0,0,-i,1).applyMatrix4(f.projectionMatrix),Hn.multiplyScalar(1/Hn.w),Hn.x=cl/s.width,Hn.y=cl/s.height,Hn.applyMatrix4(f.projectionMatrixInverse),Hn.multiplyScalar(1/Hn.w),Math.abs(Math.max(Hn.x,Hn.y))}function qy(f,i){const s=f.matrixWorld,o=f.geometry,r=o.attributes.instanceStart,l=o.attributes.instanceEnd,d=Math.min(o.instanceCount,r.count);for(let m=0,h=d;m<h;m++){za.start.fromBufferAttribute(r,m),za.end.fromBufferAttribute(l,m),za.applyMatrix4(s);const v=new dt,p=new dt;jn.distanceSqToSegment(za.start,za.end,p,v),p.distanceTo(v)<cl*.5&&i.push({point:p,pointOnLine:v,distance:jn.origin.distanceTo(p),object:f,face:null,faceIndex:m,uv:null,[u0]:null})}}function Iy(f,i,s){const o=i.projectionMatrix,l=f.material.resolution,d=f.matrixWorld,m=f.geometry,h=m.attributes.instanceStart,v=m.attributes.instanceEnd,p=Math.min(m.instanceCount,h.count),y=-i.near;jn.at(1,kn),kn.w=1,kn.applyMatrix4(i.matrixWorldInverse),kn.applyMatrix4(o),kn.multiplyScalar(1/kn.w),kn.x*=l.x/2,kn.y*=l.y/2,kn.z=0,Ic.copy(kn),Qc.multiplyMatrices(i.matrixWorldInverse,d);for(let S=0,E=p;S<E;S++){if(Da.fromBufferAttribute(h,S),Oa.fromBufferAttribute(v,S),Da.w=1,Oa.w=1,Da.applyMatrix4(Qc),Oa.applyMatrix4(Qc),Da.z>y&&Oa.z>y)continue;if(Da.z>y){const D=Da.z-Oa.z,C=(Da.z-y)/D;Da.lerp(Oa,C)}else if(Oa.z>y){const D=Oa.z-Da.z,C=(Oa.z-y)/D;Oa.lerp(Da,C)}Da.applyMatrix4(o),Oa.applyMatrix4(o),Da.multiplyScalar(1/Da.w),Oa.multiplyScalar(1/Oa.w),Da.x*=l.x/2,Da.y*=l.y/2,Oa.x*=l.x/2,Oa.y*=l.y/2,za.start.copy(Da),za.start.z=0,za.end.copy(Oa),za.end.z=0;const U=za.closestPointToPointParameter(Ic,!0);za.at(U,wm);const w=mf.lerp(Da.z,Oa.z,U),X=w>=-1&&w<=1,j=Ic.distanceTo(wm)<cl*.5;if(X&&j){za.start.fromBufferAttribute(h,S),za.end.fromBufferAttribute(v,S),za.start.applyMatrix4(d),za.end.applyMatrix4(d);const D=new dt,C=new dt;jn.distanceSqToSegment(za.start,za.end,C,D),s.push({point:C,pointOnLine:D,distance:jn.origin.distanceTo(C),object:f,face:null,faceIndex:S,uv:null,[u0]:null})}}}class p0 extends hl{constructor(i=new gf,s=new yf({color:Math.random()*16777215})){super(i,s),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const i=this.geometry,s=i.attributes.instanceStart,o=i.attributes.instanceEnd,r=new Float32Array(2*s.count);for(let d=0,m=0,h=s.count;d<h;d++,m+=2)xm.fromBufferAttribute(s,d),Um.fromBufferAttribute(o,d),r[m]=m===0?0:r[m-1],r[m+1]=r[m]+xm.distanceTo(Um);const l=new $c(r,2,1);return i.setAttribute("instanceDistanceStart",new nr(l,1,0)),i.setAttribute("instanceDistanceEnd",new nr(l,1,1)),this}raycast(i,s){const o=this.material.worldUnits,r=i.camera;r===null&&!o&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const l=i.params.Line2!==void 0&&i.params.Line2.threshold||0;jn=i.ray;const d=this.matrixWorld,m=this.geometry,h=this.material;cl=h.linewidth+l,m.boundingSphere===null&&m.computeBoundingSphere(),Mu.copy(m.boundingSphere).applyMatrix4(d);let v;if(o)v=cl*.5;else{const y=Math.max(r.near,Mu.distanceToPoint(jn.origin));v=Dm(r,y,h.resolution)}if(Mu.radius+=v,jn.intersectsSphere(Mu)===!1)return;m.boundingBox===null&&m.computeBoundingBox(),Au.copy(m.boundingBox).applyMatrix4(d);let p;if(o)p=cl*.5;else{const y=Math.max(r.near,Au.distanceToPoint(jn.origin));p=Dm(r,y,h.resolution)}Au.expandByScalar(p),jn.intersectsBox(Au)!==!1&&(o?qy(this,s):Iy(this,r,s))}onBeforeRender(i){const s=this.material.uniforms;s&&s.resolution&&(i.getViewport(qc),this.material.uniforms.resolution.value.set(qc.z,qc.w))}}class Qy extends p0{constructor(i=new m0,s=new yf({color:Math.random()*16777215})){super(i,s),this.isLine2=!0,this.type="Line2"}}const Gb=de.forwardRef(function({points:i,color:s=16777215,vertexColors:o,linewidth:r,lineWidth:l,segments:d,dashed:m,...h},v){var p,y;const S=pa(X=>X.size),E=de.useMemo(()=>d?new p0:new Qy,[d]),[A]=de.useState(()=>new yf),U=(o==null||(p=o[0])==null?void 0:p.length)===4?4:3,w=de.useMemo(()=>{const X=d?new gf:new m0,j=i.map(D=>{const C=Array.isArray(D);return D instanceof dt||D instanceof hi?[D.x,D.y,D.z]:D instanceof ua?[D.x,D.y,0]:C&&D.length===3?[D[0],D[1],D[2]]:C&&D.length===2?[D[0],D[1],0]:D});if(X.setPositions(j.flat()),o){s=16777215;const D=o.map(C=>C instanceof wn?C.toArray():C);X.setColors(D.flat(),U)}return X},[i,d,o,U]);return de.useLayoutEffect(()=>{E.computeLineDistances()},[i,E]),de.useLayoutEffect(()=>{m?A.defines.USE_DASH="":delete A.defines.USE_DASH,A.needsUpdate=!0},[m,A]),de.useEffect(()=>()=>{w.dispose(),A.dispose()},[w]),de.createElement("primitive",Sn({object:E,ref:v},h),de.createElement("primitive",{object:w,attach:"geometry"}),de.createElement("primitive",Sn({object:A,attach:"material",color:s,vertexColors:!!o,resolution:[S.width,S.height],linewidth:(y=r??l)!==null&&y!==void 0?y:1,dashed:m,transparent:U===4},h)))});function Ky(){var f=Object.create(null);function i(r,l){var d=r.id,m=r.name,h=r.dependencies;h===void 0&&(h=[]);var v=r.init;v===void 0&&(v=function(){});var p=r.getTransferables;if(p===void 0&&(p=null),!f[d])try{h=h.map(function(S){return S&&S.isWorkerModule&&(i(S,function(E){if(E instanceof Error)throw E}),S=f[S.id].value),S}),v=o("<"+m+">.init",v),p&&(p=o("<"+m+">.getTransferables",p));var y=null;typeof v=="function"?y=v.apply(void 0,h):console.error("worker module init function failed to rehydrate"),f[d]={id:d,value:y,getTransferables:p},l(y)}catch(S){S&&S.noLog||console.error(S),l(S)}}function s(r,l){var d,m=r.id,h=r.args;(!f[m]||typeof f[m].value!="function")&&l(new Error("Worker module "+m+": not found or its 'init' did not return a function"));try{var v=(d=f[m]).value.apply(d,h);v&&typeof v.then=="function"?v.then(p,function(y){return l(y instanceof Error?y:new Error(""+y))}):p(v)}catch(y){l(y)}function p(y){try{var S=f[m].getTransferables&&f[m].getTransferables(y);(!S||!Array.isArray(S)||!S.length)&&(S=void 0),l(y,S)}catch(E){console.error(E),l(E)}}}function o(r,l){var d=void 0;self.troikaDefine=function(h){return d=h};var m=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+l+`
)`],{type:"application/javascript"}));try{importScripts(m)}catch(h){console.error(h)}return URL.revokeObjectURL(m),delete self.troikaDefine,d}self.addEventListener("message",function(r){var l=r.data,d=l.messageId,m=l.action,h=l.data;try{m==="registerModule"&&i(h,function(v){v instanceof Error?postMessage({messageId:d,success:!1,error:v.message}):postMessage({messageId:d,success:!0,result:{isCallable:typeof v=="function"}})}),m==="callModule"&&s(h,function(v,p){v instanceof Error?postMessage({messageId:d,success:!1,error:v.message}):postMessage({messageId:d,success:!0,result:v},p||void 0)})}catch(v){postMessage({messageId:d,success:!1,error:v.stack})}})}function Wy(f){var i=function(){for(var s=[],o=arguments.length;o--;)s[o]=arguments[o];return i._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,s);throw new Error("Worker module function was called but `init` did not return a callable function")})};return i._getInitResult=function(){var s=f.dependencies,o=f.init;s=Array.isArray(s)?s.map(function(l){return l&&(l=l.onMainThread||l,l._getInitResult&&(l=l._getInitResult())),l}):[];var r=Promise.all(s).then(function(l){return o.apply(null,l)});return i._getInitResult=function(){return r},r},i}var g0=function(){var f=!1;if(typeof window<"u"&&typeof window.document<"u")try{var i=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));i.terminate(),f=!0}catch(s){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+s.message+"]")}return g0=function(){return f},f},Jy=0,Py=0,Kc=!1,to=Object.create(null),ao=Object.create(null),of=Object.create(null);function rr(f){if((!f||typeof f.init!="function")&&!Kc)throw new Error("requires `options.init` function");var i=f.dependencies,s=f.init,o=f.getTransferables,r=f.workerId,l=Wy(f);r==null&&(r="#default");var d="workerModule"+ ++Jy,m=f.name||d,h=null;i=i&&i.map(function(p){return typeof p=="function"&&!p.workerModuleData&&(Kc=!0,p=rr({workerId:r,name:"<"+m+"> function dependency: "+p.name,init:`function(){return (
`+zu(p)+`
)}`}),Kc=!1),p&&p.workerModuleData&&(p=p.workerModuleData),p});function v(){for(var p=[],y=arguments.length;y--;)p[y]=arguments[y];if(!g0())return l.apply(void 0,p);if(!h){h=Om(r,"registerModule",v.workerModuleData);var S=function(){h=null,ao[r].delete(S)};(ao[r]||(ao[r]=new Set)).add(S)}return h.then(function(E){var A=E.isCallable;if(A)return Om(r,"callModule",{id:d,args:p});throw new Error("Worker module function was called but `init` did not return a callable function")})}return v.workerModuleData={isWorkerModule:!0,id:d,name:m,dependencies:i,init:zu(s),getTransferables:o&&zu(o)},v.onMainThread=l,v}function $y(f){ao[f]&&ao[f].forEach(function(i){i()}),to[f]&&(to[f].terminate(),delete to[f])}function zu(f){var i=f.toString();return!/^function/.test(i)&&/^\w+\s*\(/.test(i)&&(i="function "+i),i}function e2(f){var i=to[f];if(!i){var s=zu(Ky);i=to[f]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+f.replace(/\*/g,"")+` **/

;(`+s+")()"],{type:"application/javascript"}))),i.onmessage=function(o){var r=o.data,l=r.messageId,d=of[l];if(!d)throw new Error("WorkerModule response with empty or unknown messageId");delete of[l],d(r)}}return i}function Om(f,i,s){return new Promise(function(o,r){var l=++Py;of[l]=function(d){d.success?o(d.result):r(new Error("Error in worker "+i+" call: "+d.error))},e2(f).postMessage({messageId:l,action:i,data:s})})}function y0(){var f=(function(i){function s(ie,Q,z,H,Z,P,ee,se){var ce=1-ee;se.x=ce*ce*ie+2*ce*ee*z+ee*ee*Z,se.y=ce*ce*Q+2*ce*ee*H+ee*ee*P}function o(ie,Q,z,H,Z,P,ee,se,ce,ge){var Oe=1-ce;ge.x=Oe*Oe*Oe*ie+3*Oe*Oe*ce*z+3*Oe*ce*ce*Z+ce*ce*ce*ee,ge.y=Oe*Oe*Oe*Q+3*Oe*Oe*ce*H+3*Oe*ce*ce*P+ce*ce*ce*se}function r(ie,Q){for(var z=/([MLQCZ])([^MLQCZ]*)/g,H,Z,P,ee,se;H=z.exec(ie);){var ce=H[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ge){return parseFloat(ge)});switch(H[1]){case"M":ee=Z=ce[0],se=P=ce[1];break;case"L":(ce[0]!==ee||ce[1]!==se)&&Q("L",ee,se,ee=ce[0],se=ce[1]);break;case"Q":{Q("Q",ee,se,ee=ce[2],se=ce[3],ce[0],ce[1]);break}case"C":{Q("C",ee,se,ee=ce[4],se=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":(ee!==Z||se!==P)&&Q("L",ee,se,Z,P);break}}}function l(ie,Q,z){z===void 0&&(z=16);var H={x:0,y:0};r(ie,function(Z,P,ee,se,ce,ge,Oe,He,Ue){switch(Z){case"L":Q(P,ee,se,ce);break;case"Q":{for(var _e=P,lt=ee,Ze=1;Ze<z;Ze++)s(P,ee,ge,Oe,se,ce,Ze/(z-1),H),Q(_e,lt,H.x,H.y),_e=H.x,lt=H.y;break}case"C":{for(var Be=P,je=ee,Ke=1;Ke<z;Ke++)o(P,ee,ge,Oe,He,Ue,se,ce,Ke/(z-1),H),Q(Be,je,H.x,H.y),Be=H.x,je=H.y;break}}})}var d="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",m="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",h=new WeakMap,v={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function p(ie,Q){var z=ie.getContext?ie.getContext("webgl",v):ie,H=h.get(z);if(!H){let Oe=function(Be){var je=P[Be];if(!je&&(je=P[Be]=z.getExtension(Be),!je))throw new Error(Be+" not supported");return je},He=function(Be,je){var Ke=z.createShader(je);return z.shaderSource(Ke,Be),z.compileShader(Ke),Ke},Ue=function(Be,je,Ke,xe){if(!ee[Be]){var Fe={},Ge={},be=z.createProgram();z.attachShader(be,He(je,z.VERTEX_SHADER)),z.attachShader(be,He(Ke,z.FRAGMENT_SHADER)),z.linkProgram(be),ee[Be]={program:be,transaction:function(Re){z.useProgram(be),Re({setUniform:function(ze,bt){for(var Ye=[],ke=arguments.length-2;ke-- >0;)Ye[ke]=arguments[ke+2];var We=Ge[bt]||(Ge[bt]=z.getUniformLocation(be,bt));z["uniform"+ze].apply(z,[We].concat(Ye))},setAttribute:function(ze,bt,Ye,ke,We){var ot=Fe[ze];ot||(ot=Fe[ze]={buf:z.createBuffer(),loc:z.getAttribLocation(be,ze),data:null}),z.bindBuffer(z.ARRAY_BUFFER,ot.buf),z.vertexAttribPointer(ot.loc,bt,z.FLOAT,!1,0,0),z.enableVertexAttribArray(ot.loc),Z?z.vertexAttribDivisor(ot.loc,ke):Oe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ot.loc,ke),We!==ot.data&&(z.bufferData(z.ARRAY_BUFFER,We,Ye),ot.data=We)}})}}}ee[Be].transaction(xe)},_e=function(Be,je){ce++;try{z.activeTexture(z.TEXTURE0+ce);var Ke=se[Be];Ke||(Ke=se[Be]=z.createTexture(),z.bindTexture(z.TEXTURE_2D,Ke),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.NEAREST),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.NEAREST)),z.bindTexture(z.TEXTURE_2D,Ke),je(Ke,ce)}finally{ce--}},lt=function(Be,je,Ke){var xe=z.createFramebuffer();ge.push(xe),z.bindFramebuffer(z.FRAMEBUFFER,xe),z.activeTexture(z.TEXTURE0+je),z.bindTexture(z.TEXTURE_2D,Be),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Be,0);try{Ke(xe)}finally{z.deleteFramebuffer(xe),z.bindFramebuffer(z.FRAMEBUFFER,ge[--ge.length-1]||null)}},Ze=function(){P={},ee={},se={},ce=-1,ge.length=0};var Z=typeof WebGL2RenderingContext<"u"&&z instanceof WebGL2RenderingContext,P={},ee={},se={},ce=-1,ge=[];z.canvas.addEventListener("webglcontextlost",function(Be){Ze(),Be.preventDefault()},!1),h.set(z,H={gl:z,isWebGL2:Z,getExtension:Oe,withProgram:Ue,withTexture:_e,withTextureFramebuffer:lt,handleContextLoss:Ze})}Q(H)}function y(ie,Q,z,H,Z,P,ee,se){ee===void 0&&(ee=15),se===void 0&&(se=null),p(ie,function(ce){var ge=ce.gl,Oe=ce.withProgram,He=ce.withTexture;He("copy",function(Ue,_e){ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,Z,P,0,ge.RGBA,ge.UNSIGNED_BYTE,Q),Oe("copy",d,m,function(lt){var Ze=lt.setUniform,Be=lt.setAttribute;Be("aUV",2,ge.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ze("1i","image",_e),ge.bindFramebuffer(ge.FRAMEBUFFER,se||null),ge.disable(ge.BLEND),ge.colorMask(ee&8,ee&4,ee&2,ee&1),ge.viewport(z,H,Z,P),ge.scissor(z,H,Z,P),ge.drawArrays(ge.TRIANGLES,0,3)})})})}function S(ie,Q,z){var H=ie.width,Z=ie.height;p(ie,function(P){var ee=P.gl,se=new Uint8Array(H*Z*4);ee.readPixels(0,0,H,Z,ee.RGBA,ee.UNSIGNED_BYTE,se),ie.width=Q,ie.height=z,y(ee,se,0,0,H,Z)})}var E=Object.freeze({__proto__:null,withWebGLContext:p,renderImageData:y,resizeWebGLCanvasWithoutClearing:S});function A(ie,Q,z,H,Z,P){P===void 0&&(P=1);var ee=new Uint8Array(ie*Q),se=H[2]-H[0],ce=H[3]-H[1],ge=[];l(z,function(Be,je,Ke,xe){ge.push({x1:Be,y1:je,x2:Ke,y2:xe,minX:Math.min(Be,Ke),minY:Math.min(je,xe),maxX:Math.max(Be,Ke),maxY:Math.max(je,xe)})}),ge.sort(function(Be,je){return Be.maxX-je.maxX});for(var Oe=0;Oe<ie;Oe++)for(var He=0;He<Q;He++){var Ue=lt(H[0]+se*(Oe+.5)/ie,H[1]+ce*(He+.5)/Q),_e=Math.pow(1-Math.abs(Ue)/Z,P)/2;Ue<0&&(_e=1-_e),_e=Math.max(0,Math.min(255,Math.round(_e*255))),ee[He*ie+Oe]=_e}return ee;function lt(Be,je){for(var Ke=1/0,xe=1/0,Fe=ge.length;Fe--;){var Ge=ge[Fe];if(Ge.maxX+xe<=Be)break;if(Be+xe>Ge.minX&&je-xe<Ge.maxY&&je+xe>Ge.minY){var be=X(Be,je,Ge.x1,Ge.y1,Ge.x2,Ge.y2);be<Ke&&(Ke=be,xe=Math.sqrt(Ke))}}return Ze(Be,je)&&(xe=-xe),xe}function Ze(Be,je){for(var Ke=0,xe=ge.length;xe--;){var Fe=ge[xe];if(Fe.maxX<=Be)break;var Ge=Fe.y1>je!=Fe.y2>je&&Be<(Fe.x2-Fe.x1)*(je-Fe.y1)/(Fe.y2-Fe.y1)+Fe.x1;Ge&&(Ke+=Fe.y1<Fe.y2?1:-1)}return Ke!==0}}function U(ie,Q,z,H,Z,P,ee,se,ce,ge){P===void 0&&(P=1),se===void 0&&(se=0),ce===void 0&&(ce=0),ge===void 0&&(ge=0),w(ie,Q,z,H,Z,P,ee,null,se,ce,ge)}function w(ie,Q,z,H,Z,P,ee,se,ce,ge,Oe){P===void 0&&(P=1),ce===void 0&&(ce=0),ge===void 0&&(ge=0),Oe===void 0&&(Oe=0);for(var He=A(ie,Q,z,H,Z,P),Ue=new Uint8Array(He.length*4),_e=0;_e<He.length;_e++)Ue[_e*4+Oe]=He[_e];y(ee,Ue,ce,ge,ie,Q,1<<3-Oe,se)}function X(ie,Q,z,H,Z,P){var ee=Z-z,se=P-H,ce=ee*ee+se*se,ge=ce?Math.max(0,Math.min(1,((ie-z)*ee+(Q-H)*se)/ce)):0,Oe=ie-(z+ge*ee),He=Q-(H+ge*se);return Oe*Oe+He*He}var j=Object.freeze({__proto__:null,generate:A,generateIntoCanvas:U,generateIntoFramebuffer:w}),D="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",C="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",L="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",k=new Float32Array([0,0,2,0,0,2]),F=null,M=!1,V={},q=new WeakMap;function Se(ie){if(!M&&!pe(ie))throw new Error("WebGL generation not supported")}function N(ie,Q,z,H,Z,P,ee){if(P===void 0&&(P=1),ee===void 0&&(ee=null),!ee&&(ee=F,!ee)){var se=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!se)throw new Error("OffscreenCanvas or DOM canvas not supported");ee=F=se.getContext("webgl",{depth:!1})}Se(ee);var ce=new Uint8Array(ie*Q*4);p(ee,function(Ue){var _e=Ue.gl,lt=Ue.withTexture,Ze=Ue.withTextureFramebuffer;lt("readable",function(Be,je){_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,ie,Q,0,_e.RGBA,_e.UNSIGNED_BYTE,null),Ze(Be,je,function(Ke){Y(ie,Q,z,H,Z,P,_e,Ke,0,0,0),_e.readPixels(0,0,ie,Q,_e.RGBA,_e.UNSIGNED_BYTE,ce)})})});for(var ge=new Uint8Array(ie*Q),Oe=0,He=0;Oe<ce.length;Oe+=4)ge[He++]=ce[Oe];return ge}function J(ie,Q,z,H,Z,P,ee,se,ce,ge){P===void 0&&(P=1),se===void 0&&(se=0),ce===void 0&&(ce=0),ge===void 0&&(ge=0),Y(ie,Q,z,H,Z,P,ee,null,se,ce,ge)}function Y(ie,Q,z,H,Z,P,ee,se,ce,ge,Oe){P===void 0&&(P=1),ce===void 0&&(ce=0),ge===void 0&&(ge=0),Oe===void 0&&(Oe=0),Se(ee);var He=[];l(z,function(Ue,_e,lt,Ze){He.push(Ue,_e,lt,Ze)}),He=new Float32Array(He),p(ee,function(Ue){var _e=Ue.gl,lt=Ue.isWebGL2,Ze=Ue.getExtension,Be=Ue.withProgram,je=Ue.withTexture,Ke=Ue.withTextureFramebuffer,xe=Ue.handleContextLoss;if(je("rawDistances",function(Fe,Ge){(ie!==Fe._lastWidth||Q!==Fe._lastHeight)&&_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,Fe._lastWidth=ie,Fe._lastHeight=Q,0,_e.RGBA,_e.UNSIGNED_BYTE,null),Be("main",D,C,function(be){var rt=be.setAttribute,Re=be.setUniform,Ce=!lt&&Ze("ANGLE_instanced_arrays"),ze=!lt&&Ze("EXT_blend_minmax");rt("aUV",2,_e.STATIC_DRAW,0,k),rt("aLineSegment",4,_e.DYNAMIC_DRAW,1,He),Re.apply(void 0,["4f","uGlyphBounds"].concat(H)),Re("1f","uMaxDistance",Z),Re("1f","uExponent",P),Ke(Fe,Ge,function(bt){_e.enable(_e.BLEND),_e.colorMask(!0,!0,!0,!0),_e.viewport(0,0,ie,Q),_e.scissor(0,0,ie,Q),_e.blendFunc(_e.ONE,_e.ONE),_e.blendEquationSeparate(_e.FUNC_ADD,lt?_e.MAX:ze.MAX_EXT),_e.clear(_e.COLOR_BUFFER_BIT),lt?_e.drawArraysInstanced(_e.TRIANGLES,0,3,He.length/4):Ce.drawArraysInstancedANGLE(_e.TRIANGLES,0,3,He.length/4)})}),Be("post",d,L,function(be){be.setAttribute("aUV",2,_e.STATIC_DRAW,0,k),be.setUniform("1i","tex",Ge),_e.bindFramebuffer(_e.FRAMEBUFFER,se),_e.disable(_e.BLEND),_e.colorMask(Oe===0,Oe===1,Oe===2,Oe===3),_e.viewport(ce,ge,ie,Q),_e.scissor(ce,ge,ie,Q),_e.drawArrays(_e.TRIANGLES,0,3)})}),_e.isContextLost())throw xe(),new Error("webgl context lost")})}function pe(ie){var Q=!ie||ie===F?V:ie.canvas||ie,z=q.get(Q);if(z===void 0){M=!0;var H=null;try{var Z=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],P=N(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,ie);z=P&&Z.length===P.length&&P.every(function(ee,se){return ee===Z[se]}),z||(H="bad trial run results",console.info(Z,P))}catch(ee){z=!1,H=ee.message}H&&console.warn("WebGL SDF generation not supported:",H),M=!1,q.set(Q,z)}return z}var x=Object.freeze({__proto__:null,generate:N,generateIntoCanvas:J,generateIntoFramebuffer:Y,isSupported:pe});function ae(ie,Q,z,H,Z,P){Z===void 0&&(Z=Math.max(H[2]-H[0],H[3]-H[1])/2),P===void 0&&(P=1);try{return N.apply(x,arguments)}catch(ee){return console.info("WebGL SDF generation failed, falling back to JS",ee),A.apply(j,arguments)}}function ve(ie,Q,z,H,Z,P,ee,se,ce,ge){Z===void 0&&(Z=Math.max(H[2]-H[0],H[3]-H[1])/2),P===void 0&&(P=1),se===void 0&&(se=0),ce===void 0&&(ce=0),ge===void 0&&(ge=0);try{return J.apply(x,arguments)}catch(Oe){return console.info("WebGL SDF generation failed, falling back to JS",Oe),U.apply(j,arguments)}}return i.forEachPathCommand=r,i.generate=ae,i.generateIntoCanvas=ve,i.javascript=j,i.pathToLineSegments=l,i.webgl=x,i.webglUtils=E,Object.defineProperty(i,"__esModule",{value:!0}),i})({});return f}function t2(){var f=(function(i){var s={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},r={};o.L=1,r[1]="L",Object.keys(s).forEach(function(xe,Fe){o[xe]=1<<Fe+1,r[o[xe]]=xe}),Object.freeze(o);var l=o.LRI|o.RLI|o.FSI,d=o.L|o.R|o.AL,m=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,h=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,v=o.S|o.WS|o.B|l|o.PDI|h,p=null;function y(){if(!p){p=new Map;var xe=function(Ge){if(s.hasOwnProperty(Ge)){var be=0;s[Ge].split(",").forEach(function(rt){var Re=rt.split("+"),Ce=Re[0],ze=Re[1];Ce=parseInt(Ce,36),ze=ze?parseInt(ze,36):0,p.set(be+=Ce,o[Ge]);for(var bt=0;bt<ze;bt++)p.set(++be,o[Ge])})}};for(var Fe in s)xe(Fe)}}function S(xe){return y(),p.get(xe.codePointAt(0))||o.L}function E(xe){return r[S(xe)]}var A={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function U(xe,Fe){var Ge=36,be=0,rt=new Map,Re=Fe&&new Map,Ce;return xe.split(",").forEach(function ze(bt){if(bt.indexOf("+")!==-1)for(var Ye=+bt;Ye--;)ze(Ce);else{Ce=bt;var ke=bt.split(">"),We=ke[0],ot=ke[1];We=String.fromCodePoint(be+=parseInt(We,Ge)),ot=String.fromCodePoint(be+=parseInt(ot,Ge)),rt.set(We,ot),Fe&&Re.set(ot,We)}}),{map:rt,reverseMap:Re}}var w,X,j;function D(){if(!w){var xe=U(A.pairs,!0),Fe=xe.map,Ge=xe.reverseMap;w=Fe,X=Ge,j=U(A.canonical,!1).map}}function C(xe){return D(),w.get(xe)||null}function L(xe){return D(),X.get(xe)||null}function k(xe){return D(),j.get(xe)||null}var F=o.L,M=o.R,V=o.EN,q=o.ES,Se=o.ET,N=o.AN,J=o.CS,Y=o.B,pe=o.S,x=o.ON,ae=o.BN,ve=o.NSM,ie=o.AL,Q=o.LRO,z=o.RLO,H=o.LRE,Z=o.RLE,P=o.PDF,ee=o.LRI,se=o.RLI,ce=o.FSI,ge=o.PDI;function Oe(xe,Fe){for(var Ge=125,be=new Uint32Array(xe.length),rt=0;rt<xe.length;rt++)be[rt]=S(xe[rt]);var Re=new Map;function Ce(Ga,Pa){var ka=be[Ga];be[Ga]=Pa,Re.set(ka,Re.get(ka)-1),ka&m&&Re.set(m,Re.get(m)-1),Re.set(Pa,(Re.get(Pa)||0)+1),Pa&m&&Re.set(m,(Re.get(m)||0)+1)}for(var ze=new Uint8Array(xe.length),bt=new Map,Ye=[],ke=null,We=0;We<xe.length;We++)ke||Ye.push(ke={start:We,end:xe.length-1,level:Fe==="rtl"?1:Fe==="ltr"?0:vo(We,!1)}),be[We]&Y&&(ke.end=We,ke=null);for(var ot=Z|H|z|Q|l|ge|P|Y,Ot=function(Ga){return Ga+(Ga&1?1:2)},Gt=function(Ga){return Ga+(Ga&1?2:1)},at=0;at<Ye.length;at++){ke=Ye[at];var Le=[{_level:ke.level,_override:0,_isolate:0}],Ne=void 0,B=0,me=0,De=0;Re.clear();for(var qe=ke.start;qe<=ke.end;qe++){var re=be[qe];if(Ne=Le[Le.length-1],Re.set(re,(Re.get(re)||0)+1),re&m&&Re.set(m,(Re.get(m)||0)+1),re&ot)if(re&(Z|H)){ze[qe]=Ne._level;var it=(re===Z?Gt:Ot)(Ne._level);it<=Ge&&!B&&!me?Le.push({_level:it,_override:0,_isolate:0}):B||me++}else if(re&(z|Q)){ze[qe]=Ne._level;var $t=(re===z?Gt:Ot)(Ne._level);$t<=Ge&&!B&&!me?Le.push({_level:$t,_override:re&z?M:F,_isolate:0}):B||me++}else if(re&l){re&ce&&(re=vo(qe+1,!0)===1?se:ee),ze[qe]=Ne._level,Ne._override&&Ce(qe,Ne._override);var mt=(re===se?Gt:Ot)(Ne._level);mt<=Ge&&B===0&&me===0?(De++,Le.push({_level:mt,_override:0,_isolate:1,_isolInitIndex:qe})):B++}else if(re&ge){if(B>0)B--;else if(De>0){for(me=0;!Le[Le.length-1]._isolate;)Le.pop();var ft=Le[Le.length-1]._isolInitIndex;ft!=null&&(bt.set(ft,qe),bt.set(qe,ft)),Le.pop(),De--}Ne=Le[Le.length-1],ze[qe]=Ne._level,Ne._override&&Ce(qe,Ne._override)}else re&P?(B===0&&(me>0?me--:!Ne._isolate&&Le.length>1&&(Le.pop(),Ne=Le[Le.length-1])),ze[qe]=Ne._level):re&Y&&(ze[qe]=ke.level);else ze[qe]=Ne._level,Ne._override&&re!==ae&&Ce(qe,Ne._override)}for(var gt=[],yt=null,et=ke.start;et<=ke.end;et++){var Et=be[et];if(!(Et&h)){var kt=ze[et],Qt=Et&l,ea=Et===ge;yt&&kt===yt._level?(yt._end=et,yt._endsWithIsolInit=Qt):gt.push(yt={_start:et,_end:et,_level:kt,_startsWithPDI:ea,_endsWithIsolInit:Qt})}}for(var Ra=[],Ba=0;Ba<gt.length;Ba++){var ja=gt[Ba];if(!ja._startsWithPDI||ja._startsWithPDI&&!bt.has(ja._start)){for(var ya=[yt=ja],La=void 0;yt&&yt._endsWithIsolInit&&(La=bt.get(yt._end))!=null;)for(var ut=Ba+1;ut<gt.length;ut++)if(gt[ut]._start===La){ya.push(yt=gt[ut]);break}for(var Xt=[],Zt=0;Zt<ya.length;Zt++)for(var b=ya[Zt],T=b._start;T<=b._end;T++)Xt.push(T);for(var R=ze[Xt[0]],te=ke.level,oe=Xt[0]-1;oe>=0;oe--)if(!(be[oe]&h)){te=ze[oe];break}var ue=Xt[Xt.length-1],Te=ze[ue],Ee=ke.level;if(!(be[ue]&l)){for(var Ae=ue+1;Ae<=ke.end;Ae++)if(!(be[Ae]&h)){Ee=ze[Ae];break}}Ra.push({_seqIndices:Xt,_sosType:Math.max(te,R)%2?M:F,_eosType:Math.max(Ee,Te)%2?M:F})}}for(var Me=0;Me<Ra.length;Me++){var we=Ra[Me],ne=we._seqIndices,st=we._sosType,Ie=we._eosType,Xe=ze[ne[0]]&1?M:F;if(Re.get(ve))for(var Je=0;Je<ne.length;Je++){var ct=ne[Je];if(be[ct]&ve){for(var Ct=st,Ut=Je-1;Ut>=0;Ut--)if(!(be[ne[Ut]]&h)){Ct=be[ne[Ut]];break}Ce(ct,Ct&(l|ge)?x:Ct)}}if(Re.get(V))for(var qt=0;qt<ne.length;qt++){var fa=ne[qt];if(be[fa]&V)for(var Tt=qt-1;Tt>=-1;Tt--){var ba=Tt===-1?st:be[ne[Tt]];if(ba&d){ba===ie&&Ce(fa,N);break}}}if(Re.get(ie))for(var pt=0;pt<ne.length;pt++){var wt=ne[pt];be[wt]&ie&&Ce(wt,M)}if(Re.get(q)||Re.get(J))for(var Sa=1;Sa<ne.length-1;Sa++){var _n=ne[Sa];if(be[_n]&(q|J)){for(var aa=0,Dt=0,Kt=Sa-1;Kt>=0&&(aa=be[ne[Kt]],!!(aa&h));Kt--);for(var Nt=Sa+1;Nt<ne.length&&(Dt=be[ne[Nt]],!!(Dt&h));Nt++);aa===Dt&&(be[_n]===q?aa===V:aa&(V|N))&&Ce(_n,aa)}}if(Re.get(V))for(var $e=0;$e<ne.length;$e++){var _a=ne[$e];if(be[_a]&V){for(var Va=$e-1;Va>=0&&be[ne[Va]]&(Se|h);Va--)Ce(ne[Va],V);for($e++;$e<ne.length&&be[ne[$e]]&(Se|h|V);$e++)be[ne[$e]]!==V&&Ce(ne[$e],V)}}if(Re.get(Se)||Re.get(q)||Re.get(J))for(var na=0;na<ne.length;na++){var Ea=ne[na];if(be[Ea]&(Se|q|J)){Ce(Ea,x);for(var ji=na-1;ji>=0&&be[ne[ji]]&h;ji--)Ce(ne[ji],x);for(var Vi=na+1;Vi<ne.length&&be[ne[Vi]]&h;Vi++)Ce(ne[Vi],x)}}if(Re.get(V))for(var Dn=0,co=st;Dn<ne.length;Dn++){var or=ne[Dn],vl=be[or];vl&V?co===F&&Ce(or,F):vl&d&&(co=vl)}if(Re.get(m)){var Yn=M|V|N,fo=Yn|F,ml=[];{for(var En=[],Na=0;Na<ne.length;Na++)if(be[ne[Na]]&m){var Xn=xe[ne[Na]],pl=void 0;if(C(Xn)!==null)if(En.length<63)En.push({char:Xn,seqIndex:Na});else break;else if((pl=L(Xn))!==null)for(var un=En.length-1;un>=0;un--){var On=En[un].char;if(On===pl||On===L(k(Xn))||C(k(On))===Xn){ml.push([En[un].seqIndex,Na]),En.length=un;break}}}ml.sort(function(Ga,Pa){return Ga[0]-Pa[0]})}for(var gl=0;gl<ml.length;gl++){for(var yl=ml[gl],Yi=yl[0],Zn=yl[1],sn=!1,Ya=0,qn=Yi+1;qn<Zn;qn++){var Tn=ne[qn];if(be[Tn]&fo){sn=!0;var bl=be[Tn]&Yn?M:F;if(bl===Xe){Ya=bl;break}}}if(sn&&!Ya){Ya=st;for(var di=Yi-1;di>=0;di--){var ur=ne[di];if(be[ur]&fo){var Xi=be[ur]&Yn?M:F;Xi!==Xe?Ya=Xi:Ya=Xe;break}}}if(Ya){if(be[ne[Yi]]=be[ne[Zn]]=Ya,Ya!==Xe){for(var Cn=Yi+1;Cn<ne.length;Cn++)if(!(be[ne[Cn]]&h)){S(xe[ne[Cn]])&ve&&(be[ne[Cn]]=Ya);break}}if(Ya!==Xe){for(var vi=Zn+1;vi<ne.length;vi++)if(!(be[ne[vi]]&h)){S(xe[ne[vi]])&ve&&(be[ne[vi]]=Ya);break}}}}for(var ia=0;ia<ne.length;ia++)if(be[ne[ia]]&m){for(var zn=ia,mi=ia,In=st,Zi=ia-1;Zi>=0;Zi--)if(be[ne[Zi]]&h)zn=Zi;else{In=be[ne[Zi]]&Yn?M:F;break}for(var Sl=Ie,Qn=ia+1;Qn<ne.length;Qn++)if(be[ne[Qn]]&(m|h))mi=Qn;else{Sl=be[ne[Qn]]&Yn?M:F;break}for(var Kn=zn;Kn<=mi;Kn++)be[ne[Kn]]=In===Sl?In:Xe;ia=mi}}}for(var Ta=ke.start;Ta<=ke.end;Ta++){var ho=ze[Ta],_l=be[Ta];if(ho&1?_l&(F|V|N)&&ze[Ta]++:_l&M?ze[Ta]++:_l&(N|V)&&(ze[Ta]+=2),_l&h&&(ze[Ta]=Ta===0?ke.level:ze[Ta-1]),Ta===ke.end||S(xe[Ta])&(pe|Y))for(var El=Ta;El>=0&&S(xe[El])&v;El--)ze[El]=ke.level}}return{levels:ze,paragraphs:Ye};function vo(Ga,Pa){for(var ka=Ga;ka<xe.length;ka++){var Rn=be[ka];if(Rn&(M|ie))return 1;if(Rn&(Y|F)||Pa&&Rn===ge)return 0;if(Rn&l){var mo=sr(ka);ka=mo===-1?xe.length:mo}}return 0}function sr(Ga){for(var Pa=1,ka=Ga+1;ka<xe.length;ka++){var Rn=be[ka];if(Rn&Y)break;if(Rn&ge){if(--Pa===0)return ka}else Rn&l&&Pa++}return-1}}var He="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ue;function _e(){if(!Ue){var xe=U(He,!0),Fe=xe.map,Ge=xe.reverseMap;Ge.forEach(function(be,rt){Fe.set(rt,be)}),Ue=Fe}}function lt(xe){return _e(),Ue.get(xe)||null}function Ze(xe,Fe,Ge,be){var rt=xe.length;Ge=Math.max(0,Ge==null?0:+Ge),be=Math.min(rt-1,be==null?rt-1:+be);for(var Re=new Map,Ce=Ge;Ce<=be;Ce++)if(Fe[Ce]&1){var ze=lt(xe[Ce]);ze!==null&&Re.set(Ce,ze)}return Re}function Be(xe,Fe,Ge,be){var rt=xe.length;Ge=Math.max(0,Ge==null?0:+Ge),be=Math.min(rt-1,be==null?rt-1:+be);var Re=[];return Fe.paragraphs.forEach(function(Ce){var ze=Math.max(Ge,Ce.start),bt=Math.min(be,Ce.end);if(ze<bt){for(var Ye=Fe.levels.slice(ze,bt+1),ke=bt;ke>=ze&&S(xe[ke])&v;ke--)Ye[ke]=Ce.level;for(var We=Ce.level,ot=1/0,Ot=0;Ot<Ye.length;Ot++){var Gt=Ye[Ot];Gt>We&&(We=Gt),Gt<ot&&(ot=Gt|1)}for(var at=We;at>=ot;at--)for(var Le=0;Le<Ye.length;Le++)if(Ye[Le]>=at){for(var Ne=Le;Le+1<Ye.length&&Ye[Le+1]>=at;)Le++;Le>Ne&&Re.push([Ne+ze,Le+ze])}}}),Re}function je(xe,Fe,Ge,be){var rt=Ke(xe,Fe,Ge,be),Re=[].concat(xe);return rt.forEach(function(Ce,ze){Re[ze]=(Fe.levels[Ce]&1?lt(xe[Ce]):null)||xe[Ce]}),Re.join("")}function Ke(xe,Fe,Ge,be){for(var rt=Be(xe,Fe,Ge,be),Re=[],Ce=0;Ce<xe.length;Ce++)Re[Ce]=Ce;return rt.forEach(function(ze){for(var bt=ze[0],Ye=ze[1],ke=Re.slice(bt,Ye+1),We=ke.length;We--;)Re[Ye-We]=ke[We]}),Re}return i.closingToOpeningBracket=L,i.getBidiCharType=S,i.getBidiCharTypeName=E,i.getCanonicalBracket=k,i.getEmbeddingLevels=Oe,i.getMirroredCharacter=lt,i.getMirroredCharactersMap=Ze,i.getReorderSegments=Be,i.getReorderedIndices=Ke,i.getReorderedString=je,i.openingToClosingBracket=C,Object.defineProperty(i,"__esModule",{value:!0}),i})({});return f}const b0=/\bvoid\s+main\s*\(\s*\)\s*{/g;function uf(f){const i=/^[ \t]*#include +<([\w\d./]+)>/gm;function s(o,r){let l=q1[r];return l?uf(l):o}return f.replace(i,s)}const Ca=[];for(let f=0;f<256;f++)Ca[f]=(f<16?"0":"")+f.toString(16);function a2(){const f=Math.random()*4294967295|0,i=Math.random()*4294967295|0,s=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(Ca[f&255]+Ca[f>>8&255]+Ca[f>>16&255]+Ca[f>>24&255]+"-"+Ca[i&255]+Ca[i>>8&255]+"-"+Ca[i>>16&15|64]+Ca[i>>24&255]+"-"+Ca[s&63|128]+Ca[s>>8&255]+"-"+Ca[s>>16&255]+Ca[s>>24&255]+Ca[o&255]+Ca[o>>8&255]+Ca[o>>16&255]+Ca[o>>24&255]).toUpperCase()}const ol=Object.assign||function(){let f=arguments[0];for(let i=1,s=arguments.length;i<s;i++){let o=arguments[i];if(o)for(let r in o)Object.prototype.hasOwnProperty.call(o,r)&&(f[r]=o[r])}return f},n2=Date.now(),Cm=new WeakMap,zm=new Map;let i2=1e10;function sf(f,i){const s=u2(i);let o=Cm.get(f);if(o||Cm.set(f,o=Object.create(null)),o[s])return new o[s];const r=`_onBeforeCompile${s}`,l=function(v,p){f.onBeforeCompile.call(this,v,p);const y=this.customProgramCacheKey()+"|"+v.vertexShader+"|"+v.fragmentShader;let S=zm[y];if(!S){const E=l2(this,v,i,s);S=zm[y]=E}v.vertexShader=S.vertexShader,v.fragmentShader=S.fragmentShader,ol(v.uniforms,this.uniforms),i.timeUniform&&(v.uniforms[i.timeUniform]={get value(){return Date.now()-n2}}),this[r]&&this[r](v)},d=function(){return m(i.chained?f:f.clone())},m=function(v){const p=Object.create(v,h);return Object.defineProperty(p,"baseMaterial",{value:f}),Object.defineProperty(p,"id",{value:i2++}),p.uuid=a2(),p.uniforms=ol({},v.uniforms,i.uniforms),p.defines=ol({},v.defines,i.defines),p.defines[`TROIKA_DERIVED_MATERIAL_${s}`]="",p.extensions=ol({},v.extensions,i.extensions),p._listeners=void 0,p},h={constructor:{value:d},isDerivedMaterial:{value:!0},type:{get:()=>f.type,set:v=>{f.type=v}},isDerivedFrom:{writable:!0,configurable:!0,value:function(v){const p=this.baseMaterial;return v===p||p.isDerivedMaterial&&p.isDerivedFrom(v)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return f.customProgramCacheKey()+"|"+s}},onBeforeCompile:{get(){return l},set(v){this[r]=v}},copy:{writable:!0,configurable:!0,value:function(v){return f.copy.call(this,v),!f.isShaderMaterial&&!f.isDerivedMaterial&&(ol(this.extensions,v.extensions),ol(this.defines,v.defines),ol(this.uniforms,Nu.clone(v.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const v=new f.constructor;return m(v).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let v=this._depthMaterial;return v||(v=this._depthMaterial=sf(f.isDerivedMaterial?f.getDepthMaterial():new X1({depthPacking:Z1}),i),v.defines.IS_DEPTH_MATERIAL="",v.uniforms=this.uniforms),v}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let v=this._distanceMaterial;return v||(v=this._distanceMaterial=sf(f.isDerivedMaterial?f.getDistanceMaterial():new Y1,i),v.defines.IS_DISTANCE_MATERIAL="",v.uniforms=this.uniforms),v}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:v,_distanceMaterial:p}=this;v&&v.dispose(),p&&p.dispose(),f.dispose.call(this)}}};return o[s]=d,new d}function l2(f,{vertexShader:i,fragmentShader:s},o,r){let{vertexDefs:l,vertexMainIntro:d,vertexMainOutro:m,vertexTransform:h,fragmentDefs:v,fragmentMainIntro:p,fragmentMainOutro:y,fragmentColorTransform:S,customRewriter:E,timeUniform:A}=o;if(l=l||"",d=d||"",m=m||"",v=v||"",p=p||"",y=y||"",(h||E)&&(i=uf(i)),(S||E)&&(s=s.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),s=uf(s)),E){let U=E({vertexShader:i,fragmentShader:s});i=U.vertexShader,s=U.fragmentShader}if(S){let U=[];s=s.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(U.push(w),"")),y=`${S}
${U.join(`
`)}
${y}`}if(A){const U=`
uniform float ${A};
`;l=U+l,v=U+v}return h&&(i=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${i}
`,l=`${l}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${h}
}
`,d=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${d}
`,i=i.replace(/\b(position|normal|uv)\b/g,(U,w,X,j)=>/\battribute\s+vec[23]\s+$/.test(j.substr(0,X))?w:`troika_${w}_${r}`),f.map&&f.map.channel>0||(i=i.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),i=Rm(i,r,l,d,m),s=Rm(s,r,v,p,y),{vertexShader:i,fragmentShader:s}}function Rm(f,i,s,o,r){return(o||r||s)&&(f=f.replace(b0,`
${s}
void troikaOrigMain${i}() {`),f+=`
void main() {
  ${o}
  troikaOrigMain${i}();
  ${r}
}`),f}function r2(f,i){return f==="uniforms"?void 0:typeof i=="function"?i.toString():i}let o2=0;const Bm=new Map;function u2(f){const i=JSON.stringify(f,r2);let s=Bm.get(i);return s==null&&Bm.set(i,s=++o2),s}function s2(){return typeof window>"u"&&(self.window=self),(function(f){var i={parse:function(r){var l=i._bin,d=new Uint8Array(r);if(l.readASCII(d,0,4)=="ttcf"){var m=4;l.readUshort(d,m),m+=2,l.readUshort(d,m),m+=2;var h=l.readUint(d,m);m+=4;for(var v=[],p=0;p<h;p++){var y=l.readUint(d,m);m+=4,v.push(i._readFont(d,y))}return v}return[i._readFont(d,0)]},_readFont:function(r,l){var d=i._bin,m=l;d.readFixed(r,l),l+=4;var h=d.readUshort(r,l);l+=2,d.readUshort(r,l),l+=2,d.readUshort(r,l),l+=2,d.readUshort(r,l),l+=2;for(var v=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],p={_data:r,_offset:m},y={},S=0;S<h;S++){var E=d.readASCII(r,l,4);l+=4,d.readUint(r,l),l+=4;var A=d.readUint(r,l);l+=4;var U=d.readUint(r,l);l+=4,y[E]={offset:A,length:U}}for(S=0;S<v.length;S++){var w=v[S];y[w]&&(p[w.trim()]=i[w.trim()].parse(r,y[w].offset,y[w].length,p))}return p},_tabOffset:function(r,l,d){for(var m=i._bin,h=m.readUshort(r,d+4),v=d+12,p=0;p<h;p++){var y=m.readASCII(r,v,4);v+=4,m.readUint(r,v),v+=4;var S=m.readUint(r,v);if(v+=4,m.readUint(r,v),v+=4,y==l)return S}return 0}};i._bin={readFixed:function(r,l){return(r[l]<<8|r[l+1])+(r[l+2]<<8|r[l+3])/65540},readF2dot14:function(r,l){return i._bin.readShort(r,l)/16384},readInt:function(r,l){return i._bin._view(r).getInt32(l)},readInt8:function(r,l){return i._bin._view(r).getInt8(l)},readShort:function(r,l){return i._bin._view(r).getInt16(l)},readUshort:function(r,l){return i._bin._view(r).getUint16(l)},readUshorts:function(r,l,d){for(var m=[],h=0;h<d;h++)m.push(i._bin.readUshort(r,l+2*h));return m},readUint:function(r,l){return i._bin._view(r).getUint32(l)},readUint64:function(r,l){return 4294967296*i._bin.readUint(r,l)+i._bin.readUint(r,l+4)},readASCII:function(r,l,d){for(var m="",h=0;h<d;h++)m+=String.fromCharCode(r[l+h]);return m},readUnicode:function(r,l,d){for(var m="",h=0;h<d;h++){var v=r[l++]<<8|r[l++];m+=String.fromCharCode(v)}return m},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,l,d){var m=i._bin._tdec;return m&&l==0&&d==r.length?m.decode(r):i._bin.readASCII(r,l,d)},readBytes:function(r,l,d){for(var m=[],h=0;h<d;h++)m.push(r[l+h]);return m},readASCIIArray:function(r,l,d){for(var m=[],h=0;h<d;h++)m.push(String.fromCharCode(r[l+h]));return m},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},i._lctf={},i._lctf.parse=function(r,l,d,m,h){var v=i._bin,p={},y=l;v.readFixed(r,l),l+=4;var S=v.readUshort(r,l);l+=2;var E=v.readUshort(r,l);l+=2;var A=v.readUshort(r,l);return l+=2,p.scriptList=i._lctf.readScriptList(r,y+S),p.featureList=i._lctf.readFeatureList(r,y+E),p.lookupList=i._lctf.readLookupList(r,y+A,h),p},i._lctf.readLookupList=function(r,l,d){var m=i._bin,h=l,v=[],p=m.readUshort(r,l);l+=2;for(var y=0;y<p;y++){var S=m.readUshort(r,l);l+=2;var E=i._lctf.readLookupTable(r,h+S,d);v.push(E)}return v},i._lctf.readLookupTable=function(r,l,d){var m=i._bin,h=l,v={tabs:[]};v.ltype=m.readUshort(r,l),l+=2,v.flag=m.readUshort(r,l),l+=2;var p=m.readUshort(r,l);l+=2;for(var y=v.ltype,S=0;S<p;S++){var E=m.readUshort(r,l);l+=2;var A=d(r,y,h+E,v);v.tabs.push(A)}return v},i._lctf.numOfOnes=function(r){for(var l=0,d=0;d<32;d++)(r>>>d&1)!=0&&l++;return l},i._lctf.readClassDef=function(r,l){var d=i._bin,m=[],h=d.readUshort(r,l);if(l+=2,h==1){var v=d.readUshort(r,l);l+=2;var p=d.readUshort(r,l);l+=2;for(var y=0;y<p;y++)m.push(v+y),m.push(v+y),m.push(d.readUshort(r,l)),l+=2}if(h==2){var S=d.readUshort(r,l);for(l+=2,y=0;y<S;y++)m.push(d.readUshort(r,l)),l+=2,m.push(d.readUshort(r,l)),l+=2,m.push(d.readUshort(r,l)),l+=2}return m},i._lctf.getInterval=function(r,l){for(var d=0;d<r.length;d+=3){var m=r[d],h=r[d+1];if(r[d+2],m<=l&&l<=h)return d}return-1},i._lctf.readCoverage=function(r,l){var d=i._bin,m={};m.fmt=d.readUshort(r,l),l+=2;var h=d.readUshort(r,l);return l+=2,m.fmt==1&&(m.tab=d.readUshorts(r,l,h)),m.fmt==2&&(m.tab=d.readUshorts(r,l,3*h)),m},i._lctf.coverageIndex=function(r,l){var d=r.tab;if(r.fmt==1)return d.indexOf(l);if(r.fmt==2){var m=i._lctf.getInterval(d,l);if(m!=-1)return d[m+2]+(l-d[m])}return-1},i._lctf.readFeatureList=function(r,l){var d=i._bin,m=l,h=[],v=d.readUshort(r,l);l+=2;for(var p=0;p<v;p++){var y=d.readASCII(r,l,4);l+=4;var S=d.readUshort(r,l);l+=2;var E=i._lctf.readFeatureTable(r,m+S);E.tag=y.trim(),h.push(E)}return h},i._lctf.readFeatureTable=function(r,l){var d=i._bin,m=l,h={},v=d.readUshort(r,l);l+=2,v>0&&(h.featureParams=m+v);var p=d.readUshort(r,l);l+=2,h.tab=[];for(var y=0;y<p;y++)h.tab.push(d.readUshort(r,l+2*y));return h},i._lctf.readScriptList=function(r,l){var d=i._bin,m=l,h={},v=d.readUshort(r,l);l+=2;for(var p=0;p<v;p++){var y=d.readASCII(r,l,4);l+=4;var S=d.readUshort(r,l);l+=2,h[y.trim()]=i._lctf.readScriptTable(r,m+S)}return h},i._lctf.readScriptTable=function(r,l){var d=i._bin,m=l,h={},v=d.readUshort(r,l);l+=2,v>0&&(h.default=i._lctf.readLangSysTable(r,m+v));var p=d.readUshort(r,l);l+=2;for(var y=0;y<p;y++){var S=d.readASCII(r,l,4);l+=4;var E=d.readUshort(r,l);l+=2,h[S.trim()]=i._lctf.readLangSysTable(r,m+E)}return h},i._lctf.readLangSysTable=function(r,l){var d=i._bin,m={};d.readUshort(r,l),l+=2,m.reqFeature=d.readUshort(r,l),l+=2;var h=d.readUshort(r,l);return l+=2,m.features=d.readUshorts(r,l,h),m},i.CFF={},i.CFF.parse=function(r,l,d){var m=i._bin;(r=new Uint8Array(r.buffer,l,d))[l=0],r[++l],r[++l],r[++l],l++;var h=[];l=i.CFF.readIndex(r,l,h);for(var v=[],p=0;p<h.length-1;p++)v.push(m.readASCII(r,l+h[p],h[p+1]-h[p]));l+=h[h.length-1];var y=[];l=i.CFF.readIndex(r,l,y);var S=[];for(p=0;p<y.length-1;p++)S.push(i.CFF.readDict(r,l+y[p],l+y[p+1]));l+=y[y.length-1];var E=S[0],A=[];l=i.CFF.readIndex(r,l,A);var U=[];for(p=0;p<A.length-1;p++)U.push(m.readASCII(r,l+A[p],A[p+1]-A[p]));if(l+=A[A.length-1],i.CFF.readSubrs(r,l,E),E.CharStrings){l=E.CharStrings,A=[],l=i.CFF.readIndex(r,l,A);var w=[];for(p=0;p<A.length-1;p++)w.push(m.readBytes(r,l+A[p],A[p+1]-A[p]));E.CharStrings=w}if(E.ROS){l=E.FDArray;var X=[];for(l=i.CFF.readIndex(r,l,X),E.FDArray=[],p=0;p<X.length-1;p++){var j=i.CFF.readDict(r,l+X[p],l+X[p+1]);i.CFF._readFDict(r,j,U),E.FDArray.push(j)}l+=X[X.length-1],l=E.FDSelect,E.FDSelect=[];var D=r[l];if(l++,D!=3)throw D;var C=m.readUshort(r,l);for(l+=2,p=0;p<C+1;p++)E.FDSelect.push(m.readUshort(r,l),r[l+2]),l+=3}return E.Encoding&&(E.Encoding=i.CFF.readEncoding(r,E.Encoding,E.CharStrings.length)),E.charset&&(E.charset=i.CFF.readCharset(r,E.charset,E.CharStrings.length)),i.CFF._readFDict(r,E,U),E},i.CFF._readFDict=function(r,l,d){var m;for(var h in l.Private&&(m=l.Private[1],l.Private=i.CFF.readDict(r,m,m+l.Private[0]),l.Private.Subrs&&i.CFF.readSubrs(r,m+l.Private.Subrs,l.Private)),l)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(h)!=-1&&(l[h]=d[l[h]-426+35])},i.CFF.readSubrs=function(r,l,d){var m=i._bin,h=[];l=i.CFF.readIndex(r,l,h);var v,p=h.length;v=p<1240?107:p<33900?1131:32768,d.Bias=v,d.Subrs=[];for(var y=0;y<h.length-1;y++)d.Subrs.push(m.readBytes(r,l+h[y],h[y+1]-h[y]))},i.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],i.CFF.glyphByUnicode=function(r,l){for(var d=0;d<r.charset.length;d++)if(r.charset[d]==l)return d;return-1},i.CFF.glyphBySE=function(r,l){return l<0||l>255?-1:i.CFF.glyphByUnicode(r,i.CFF.tableSE[l])},i.CFF.readEncoding=function(r,l,d){i._bin;var m=[".notdef"],h=r[l];if(l++,h!=0)throw"error: unknown encoding format: "+h;var v=r[l];l++;for(var p=0;p<v;p++)m.push(r[l+p]);return m},i.CFF.readCharset=function(r,l,d){var m=i._bin,h=[".notdef"],v=r[l];if(l++,v==0)for(var p=0;p<d;p++){var y=m.readUshort(r,l);l+=2,h.push(y)}else{if(v!=1&&v!=2)throw"error: format: "+v;for(;h.length<d;){y=m.readUshort(r,l),l+=2;var S=0;for(v==1?(S=r[l],l++):(S=m.readUshort(r,l),l+=2),p=0;p<=S;p++)h.push(y),y++}}return h},i.CFF.readIndex=function(r,l,d){var m=i._bin,h=m.readUshort(r,l)+1,v=r[l+=2];if(l++,v==1)for(var p=0;p<h;p++)d.push(r[l+p]);else if(v==2)for(p=0;p<h;p++)d.push(m.readUshort(r,l+2*p));else if(v==3)for(p=0;p<h;p++)d.push(16777215&m.readUint(r,l+3*p-1));else if(h!=1)throw"unsupported offset size: "+v+", count: "+h;return(l+=h*v)-1},i.CFF.getCharString=function(r,l,d){var m=i._bin,h=r[l],v=r[l+1];r[l+2],r[l+3],r[l+4];var p=1,y=null,S=null;h<=20&&(y=h,p=1),h==12&&(y=100*h+v,p=2),21<=h&&h<=27&&(y=h,p=1),h==28&&(S=m.readShort(r,l+1),p=3),29<=h&&h<=31&&(y=h,p=1),32<=h&&h<=246&&(S=h-139,p=1),247<=h&&h<=250&&(S=256*(h-247)+v+108,p=2),251<=h&&h<=254&&(S=256*-(h-251)-v-108,p=2),h==255&&(S=m.readInt(r,l+1)/65535,p=5),d.val=S??"o"+y,d.size=p},i.CFF.readCharString=function(r,l,d){for(var m=l+d,h=i._bin,v=[];l<m;){var p=r[l],y=r[l+1];r[l+2],r[l+3],r[l+4];var S=1,E=null,A=null;p<=20&&(E=p,S=1),p==12&&(E=100*p+y,S=2),p!=19&&p!=20||(E=p,S=2),21<=p&&p<=27&&(E=p,S=1),p==28&&(A=h.readShort(r,l+1),S=3),29<=p&&p<=31&&(E=p,S=1),32<=p&&p<=246&&(A=p-139,S=1),247<=p&&p<=250&&(A=256*(p-247)+y+108,S=2),251<=p&&p<=254&&(A=256*-(p-251)-y-108,S=2),p==255&&(A=h.readInt(r,l+1)/65535,S=5),v.push(A??"o"+E),l+=S}return v},i.CFF.readDict=function(r,l,d){for(var m=i._bin,h={},v=[];l<d;){var p=r[l],y=r[l+1];r[l+2],r[l+3],r[l+4];var S=1,E=null,A=null;if(p==28&&(A=m.readShort(r,l+1),S=3),p==29&&(A=m.readInt(r,l+1),S=5),32<=p&&p<=246&&(A=p-139,S=1),247<=p&&p<=250&&(A=256*(p-247)+y+108,S=2),251<=p&&p<=254&&(A=256*-(p-251)-y-108,S=2),p==255)throw A=m.readInt(r,l+1)/65535,S=5,"unknown number";if(p==30){var U=[];for(S=1;;){var w=r[l+S];S++;var X=w>>4,j=15&w;if(X!=15&&U.push(X),j!=15&&U.push(j),j==15)break}for(var D="",C=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],L=0;L<U.length;L++)D+=C[U[L]];A=parseFloat(D)}p<=21&&(E=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][p],S=1,p==12&&(E=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][y],S=2)),E!=null?(h[E]=v.length==1?v[0]:v,v=[]):v.push(A),l+=S}return h},i.cmap={},i.cmap.parse=function(r,l,d){r=new Uint8Array(r.buffer,l,d),l=0;var m=i._bin,h={};m.readUshort(r,l),l+=2;var v=m.readUshort(r,l);l+=2;var p=[];h.tables=[];for(var y=0;y<v;y++){var S=m.readUshort(r,l);l+=2;var E=m.readUshort(r,l);l+=2;var A=m.readUint(r,l);l+=4;var U="p"+S+"e"+E,w=p.indexOf(A);if(w==-1){var X;w=h.tables.length,p.push(A);var j=m.readUshort(r,A);j==0?X=i.cmap.parse0(r,A):j==4?X=i.cmap.parse4(r,A):j==6?X=i.cmap.parse6(r,A):j==12?X=i.cmap.parse12(r,A):console.debug("unknown format: "+j,S,E,A),h.tables.push(X)}if(h[U]!=null)throw"multiple tables for one platform+encoding";h[U]=w}return h},i.cmap.parse0=function(r,l){var d=i._bin,m={};m.format=d.readUshort(r,l),l+=2;var h=d.readUshort(r,l);l+=2,d.readUshort(r,l),l+=2,m.map=[];for(var v=0;v<h-6;v++)m.map.push(r[l+v]);return m},i.cmap.parse4=function(r,l){var d=i._bin,m=l,h={};h.format=d.readUshort(r,l),l+=2;var v=d.readUshort(r,l);l+=2,d.readUshort(r,l),l+=2;var p=d.readUshort(r,l);l+=2;var y=p/2;h.searchRange=d.readUshort(r,l),l+=2,h.entrySelector=d.readUshort(r,l),l+=2,h.rangeShift=d.readUshort(r,l),l+=2,h.endCount=d.readUshorts(r,l,y),l+=2*y,l+=2,h.startCount=d.readUshorts(r,l,y),l+=2*y,h.idDelta=[];for(var S=0;S<y;S++)h.idDelta.push(d.readShort(r,l)),l+=2;for(h.idRangeOffset=d.readUshorts(r,l,y),l+=2*y,h.glyphIdArray=[];l<m+v;)h.glyphIdArray.push(d.readUshort(r,l)),l+=2;return h},i.cmap.parse6=function(r,l){var d=i._bin,m={};m.format=d.readUshort(r,l),l+=2,d.readUshort(r,l),l+=2,d.readUshort(r,l),l+=2,m.firstCode=d.readUshort(r,l),l+=2;var h=d.readUshort(r,l);l+=2,m.glyphIdArray=[];for(var v=0;v<h;v++)m.glyphIdArray.push(d.readUshort(r,l)),l+=2;return m},i.cmap.parse12=function(r,l){var d=i._bin,m={};m.format=d.readUshort(r,l),l+=2,l+=2,d.readUint(r,l),l+=4,d.readUint(r,l),l+=4;var h=d.readUint(r,l);l+=4,m.groups=[];for(var v=0;v<h;v++){var p=l+12*v,y=d.readUint(r,p+0),S=d.readUint(r,p+4),E=d.readUint(r,p+8);m.groups.push([y,S,E])}return m},i.glyf={},i.glyf.parse=function(r,l,d,m){for(var h=[],v=0;v<m.maxp.numGlyphs;v++)h.push(null);return h},i.glyf._parseGlyf=function(r,l){var d=i._bin,m=r._data,h=i._tabOffset(m,"glyf",r._offset)+r.loca[l];if(r.loca[l]==r.loca[l+1])return null;var v={};if(v.noc=d.readShort(m,h),h+=2,v.xMin=d.readShort(m,h),h+=2,v.yMin=d.readShort(m,h),h+=2,v.xMax=d.readShort(m,h),h+=2,v.yMax=d.readShort(m,h),h+=2,v.xMin>=v.xMax||v.yMin>=v.yMax)return null;if(v.noc>0){v.endPts=[];for(var p=0;p<v.noc;p++)v.endPts.push(d.readUshort(m,h)),h+=2;var y=d.readUshort(m,h);if(h+=2,m.length-h<y)return null;v.instructions=d.readBytes(m,h,y),h+=y;var S=v.endPts[v.noc-1]+1;for(v.flags=[],p=0;p<S;p++){var E=m[h];if(h++,v.flags.push(E),(8&E)!=0){var A=m[h];h++;for(var U=0;U<A;U++)v.flags.push(E),p++}}for(v.xs=[],p=0;p<S;p++){var w=(2&v.flags[p])!=0,X=(16&v.flags[p])!=0;w?(v.xs.push(X?m[h]:-m[h]),h++):X?v.xs.push(0):(v.xs.push(d.readShort(m,h)),h+=2)}for(v.ys=[],p=0;p<S;p++)w=(4&v.flags[p])!=0,X=(32&v.flags[p])!=0,w?(v.ys.push(X?m[h]:-m[h]),h++):X?v.ys.push(0):(v.ys.push(d.readShort(m,h)),h+=2);var j=0,D=0;for(p=0;p<S;p++)j+=v.xs[p],D+=v.ys[p],v.xs[p]=j,v.ys[p]=D}else{var C;v.parts=[];do{C=d.readUshort(m,h),h+=2;var L={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(v.parts.push(L),L.glyphIndex=d.readUshort(m,h),h+=2,1&C){var k=d.readShort(m,h);h+=2;var F=d.readShort(m,h);h+=2}else k=d.readInt8(m,h),h++,F=d.readInt8(m,h),h++;2&C?(L.m.tx=k,L.m.ty=F):(L.p1=k,L.p2=F),8&C?(L.m.a=L.m.d=d.readF2dot14(m,h),h+=2):64&C?(L.m.a=d.readF2dot14(m,h),h+=2,L.m.d=d.readF2dot14(m,h),h+=2):128&C&&(L.m.a=d.readF2dot14(m,h),h+=2,L.m.b=d.readF2dot14(m,h),h+=2,L.m.c=d.readF2dot14(m,h),h+=2,L.m.d=d.readF2dot14(m,h),h+=2)}while(32&C);if(256&C){var M=d.readUshort(m,h);for(h+=2,v.instr=[],p=0;p<M;p++)v.instr.push(m[h]),h++}}return v},i.GDEF={},i.GDEF.parse=function(r,l,d,m){var h=l;l+=4;var v=i._bin.readUshort(r,l);return{glyphClassDef:v===0?null:i._lctf.readClassDef(r,h+v)}},i.GPOS={},i.GPOS.parse=function(r,l,d,m){return i._lctf.parse(r,l,d,m,i.GPOS.subt)},i.GPOS.subt=function(r,l,d,m){var h=i._bin,v=d,p={};if(p.fmt=h.readUshort(r,d),d+=2,l==1||l==2||l==3||l==7||l==8&&p.fmt<=2){var y=h.readUshort(r,d);d+=2,p.coverage=i._lctf.readCoverage(r,y+v)}if(l==1&&p.fmt==1){var S=h.readUshort(r,d);d+=2,S!=0&&(p.pos=i.GPOS.readValueRecord(r,d,S))}else if(l==2&&p.fmt>=1&&p.fmt<=2){S=h.readUshort(r,d),d+=2;var E=h.readUshort(r,d);d+=2;var A=i._lctf.numOfOnes(S),U=i._lctf.numOfOnes(E);if(p.fmt==1){p.pairsets=[];var w=h.readUshort(r,d);d+=2;for(var X=0;X<w;X++){var j=v+h.readUshort(r,d);d+=2;var D=h.readUshort(r,j);j+=2;for(var C=[],L=0;L<D;L++){var k=h.readUshort(r,j);j+=2,S!=0&&(N=i.GPOS.readValueRecord(r,j,S),j+=2*A),E!=0&&(J=i.GPOS.readValueRecord(r,j,E),j+=2*U),C.push({gid2:k,val1:N,val2:J})}p.pairsets.push(C)}}if(p.fmt==2){var F=h.readUshort(r,d);d+=2;var M=h.readUshort(r,d);d+=2;var V=h.readUshort(r,d);d+=2;var q=h.readUshort(r,d);for(d+=2,p.classDef1=i._lctf.readClassDef(r,v+F),p.classDef2=i._lctf.readClassDef(r,v+M),p.matrix=[],X=0;X<V;X++){var Se=[];for(L=0;L<q;L++){var N=null,J=null;S!=0&&(N=i.GPOS.readValueRecord(r,d,S),d+=2*A),E!=0&&(J=i.GPOS.readValueRecord(r,d,E),d+=2*U),Se.push({val1:N,val2:J})}p.matrix.push(Se)}}}else if(l==4&&p.fmt==1)p.markCoverage=i._lctf.readCoverage(r,h.readUshort(r,d)+v),p.baseCoverage=i._lctf.readCoverage(r,h.readUshort(r,d+2)+v),p.markClassCount=h.readUshort(r,d+4),p.markArray=i.GPOS.readMarkArray(r,h.readUshort(r,d+6)+v),p.baseArray=i.GPOS.readBaseArray(r,h.readUshort(r,d+8)+v,p.markClassCount);else if(l==6&&p.fmt==1)p.mark1Coverage=i._lctf.readCoverage(r,h.readUshort(r,d)+v),p.mark2Coverage=i._lctf.readCoverage(r,h.readUshort(r,d+2)+v),p.markClassCount=h.readUshort(r,d+4),p.mark1Array=i.GPOS.readMarkArray(r,h.readUshort(r,d+6)+v),p.mark2Array=i.GPOS.readBaseArray(r,h.readUshort(r,d+8)+v,p.markClassCount);else{if(l==9&&p.fmt==1){var Y=h.readUshort(r,d);d+=2;var pe=h.readUint(r,d);if(d+=4,m.ltype==9)m.ltype=Y;else if(m.ltype!=Y)throw"invalid extension substitution";return i.GPOS.subt(r,m.ltype,v+pe)}console.debug("unsupported GPOS table LookupType",l,"format",p.fmt)}return p},i.GPOS.readValueRecord=function(r,l,d){var m=i._bin,h=[];return h.push(1&d?m.readShort(r,l):0),l+=1&d?2:0,h.push(2&d?m.readShort(r,l):0),l+=2&d?2:0,h.push(4&d?m.readShort(r,l):0),l+=4&d?2:0,h.push(8&d?m.readShort(r,l):0),l+=8&d?2:0,h},i.GPOS.readBaseArray=function(r,l,d){var m=i._bin,h=[],v=l,p=m.readUshort(r,l);l+=2;for(var y=0;y<p;y++){for(var S=[],E=0;E<d;E++)S.push(i.GPOS.readAnchorRecord(r,v+m.readUshort(r,l))),l+=2;h.push(S)}return h},i.GPOS.readMarkArray=function(r,l){var d=i._bin,m=[],h=l,v=d.readUshort(r,l);l+=2;for(var p=0;p<v;p++){var y=i.GPOS.readAnchorRecord(r,d.readUshort(r,l+2)+h);y.markClass=d.readUshort(r,l),m.push(y),l+=4}return m},i.GPOS.readAnchorRecord=function(r,l){var d=i._bin,m={};return m.fmt=d.readUshort(r,l),m.x=d.readShort(r,l+2),m.y=d.readShort(r,l+4),m},i.GSUB={},i.GSUB.parse=function(r,l,d,m){return i._lctf.parse(r,l,d,m,i.GSUB.subt)},i.GSUB.subt=function(r,l,d,m){var h=i._bin,v=d,p={};if(p.fmt=h.readUshort(r,d),d+=2,l!=1&&l!=2&&l!=4&&l!=5&&l!=6)return null;if(l==1||l==2||l==4||l==5&&p.fmt<=2||l==6&&p.fmt<=2){var y=h.readUshort(r,d);d+=2,p.coverage=i._lctf.readCoverage(r,v+y)}if(l==1&&p.fmt>=1&&p.fmt<=2){if(p.fmt==1)p.delta=h.readShort(r,d),d+=2;else if(p.fmt==2){var S=h.readUshort(r,d);d+=2,p.newg=h.readUshorts(r,d,S),d+=2*p.newg.length}}else if(l==2&&p.fmt==1){S=h.readUshort(r,d),d+=2,p.seqs=[];for(var E=0;E<S;E++){var A=h.readUshort(r,d)+v;d+=2;var U=h.readUshort(r,A);p.seqs.push(h.readUshorts(r,A+2,U))}}else if(l==4)for(p.vals=[],S=h.readUshort(r,d),d+=2,E=0;E<S;E++){var w=h.readUshort(r,d);d+=2,p.vals.push(i.GSUB.readLigatureSet(r,v+w))}else if(l==5&&p.fmt==2){if(p.fmt==2){var X=h.readUshort(r,d);d+=2,p.cDef=i._lctf.readClassDef(r,v+X),p.scset=[];var j=h.readUshort(r,d);for(d+=2,E=0;E<j;E++){var D=h.readUshort(r,d);d+=2,p.scset.push(D==0?null:i.GSUB.readSubClassSet(r,v+D))}}}else if(l==6&&p.fmt==3){if(p.fmt==3){for(E=0;E<3;E++){S=h.readUshort(r,d),d+=2;for(var C=[],L=0;L<S;L++)C.push(i._lctf.readCoverage(r,v+h.readUshort(r,d+2*L)));d+=2*S,E==0&&(p.backCvg=C),E==1&&(p.inptCvg=C),E==2&&(p.ahedCvg=C)}S=h.readUshort(r,d),d+=2,p.lookupRec=i.GSUB.readSubstLookupRecords(r,d,S)}}else{if(l==7&&p.fmt==1){var k=h.readUshort(r,d);d+=2;var F=h.readUint(r,d);if(d+=4,m.ltype==9)m.ltype=k;else if(m.ltype!=k)throw"invalid extension substitution";return i.GSUB.subt(r,m.ltype,v+F)}console.debug("unsupported GSUB table LookupType",l,"format",p.fmt)}return p},i.GSUB.readSubClassSet=function(r,l){var d=i._bin.readUshort,m=l,h=[],v=d(r,l);l+=2;for(var p=0;p<v;p++){var y=d(r,l);l+=2,h.push(i.GSUB.readSubClassRule(r,m+y))}return h},i.GSUB.readSubClassRule=function(r,l){var d=i._bin.readUshort,m={},h=d(r,l),v=d(r,l+=2);l+=2,m.input=[];for(var p=0;p<h-1;p++)m.input.push(d(r,l)),l+=2;return m.substLookupRecords=i.GSUB.readSubstLookupRecords(r,l,v),m},i.GSUB.readSubstLookupRecords=function(r,l,d){for(var m=i._bin.readUshort,h=[],v=0;v<d;v++)h.push(m(r,l),m(r,l+2)),l+=4;return h},i.GSUB.readChainSubClassSet=function(r,l){var d=i._bin,m=l,h=[],v=d.readUshort(r,l);l+=2;for(var p=0;p<v;p++){var y=d.readUshort(r,l);l+=2,h.push(i.GSUB.readChainSubClassRule(r,m+y))}return h},i.GSUB.readChainSubClassRule=function(r,l){for(var d=i._bin,m={},h=["backtrack","input","lookahead"],v=0;v<h.length;v++){var p=d.readUshort(r,l);l+=2,v==1&&p--,m[h[v]]=d.readUshorts(r,l,p),l+=2*m[h[v]].length}return p=d.readUshort(r,l),l+=2,m.subst=d.readUshorts(r,l,2*p),l+=2*m.subst.length,m},i.GSUB.readLigatureSet=function(r,l){var d=i._bin,m=l,h=[],v=d.readUshort(r,l);l+=2;for(var p=0;p<v;p++){var y=d.readUshort(r,l);l+=2,h.push(i.GSUB.readLigature(r,m+y))}return h},i.GSUB.readLigature=function(r,l){var d=i._bin,m={chain:[]};m.nglyph=d.readUshort(r,l),l+=2;var h=d.readUshort(r,l);l+=2;for(var v=0;v<h-1;v++)m.chain.push(d.readUshort(r,l)),l+=2;return m},i.head={},i.head.parse=function(r,l,d){var m=i._bin,h={};return m.readFixed(r,l),l+=4,h.fontRevision=m.readFixed(r,l),l+=4,m.readUint(r,l),l+=4,m.readUint(r,l),l+=4,h.flags=m.readUshort(r,l),l+=2,h.unitsPerEm=m.readUshort(r,l),l+=2,h.created=m.readUint64(r,l),l+=8,h.modified=m.readUint64(r,l),l+=8,h.xMin=m.readShort(r,l),l+=2,h.yMin=m.readShort(r,l),l+=2,h.xMax=m.readShort(r,l),l+=2,h.yMax=m.readShort(r,l),l+=2,h.macStyle=m.readUshort(r,l),l+=2,h.lowestRecPPEM=m.readUshort(r,l),l+=2,h.fontDirectionHint=m.readShort(r,l),l+=2,h.indexToLocFormat=m.readShort(r,l),l+=2,h.glyphDataFormat=m.readShort(r,l),l+=2,h},i.hhea={},i.hhea.parse=function(r,l,d){var m=i._bin,h={};return m.readFixed(r,l),l+=4,h.ascender=m.readShort(r,l),l+=2,h.descender=m.readShort(r,l),l+=2,h.lineGap=m.readShort(r,l),l+=2,h.advanceWidthMax=m.readUshort(r,l),l+=2,h.minLeftSideBearing=m.readShort(r,l),l+=2,h.minRightSideBearing=m.readShort(r,l),l+=2,h.xMaxExtent=m.readShort(r,l),l+=2,h.caretSlopeRise=m.readShort(r,l),l+=2,h.caretSlopeRun=m.readShort(r,l),l+=2,h.caretOffset=m.readShort(r,l),l+=2,l+=8,h.metricDataFormat=m.readShort(r,l),l+=2,h.numberOfHMetrics=m.readUshort(r,l),l+=2,h},i.hmtx={},i.hmtx.parse=function(r,l,d,m){for(var h=i._bin,v={aWidth:[],lsBearing:[]},p=0,y=0,S=0;S<m.maxp.numGlyphs;S++)S<m.hhea.numberOfHMetrics&&(p=h.readUshort(r,l),l+=2,y=h.readShort(r,l),l+=2),v.aWidth.push(p),v.lsBearing.push(y);return v},i.kern={},i.kern.parse=function(r,l,d,m){var h=i._bin,v=h.readUshort(r,l);if(l+=2,v==1)return i.kern.parseV1(r,l-2,d,m);var p=h.readUshort(r,l);l+=2;for(var y={glyph1:[],rval:[]},S=0;S<p;S++){l+=2,d=h.readUshort(r,l),l+=2;var E=h.readUshort(r,l);l+=2;var A=E>>>8;if((A&=15)!=0)throw"unknown kern table format: "+A;l=i.kern.readFormat0(r,l,y)}return y},i.kern.parseV1=function(r,l,d,m){var h=i._bin;h.readFixed(r,l),l+=4;var v=h.readUint(r,l);l+=4;for(var p={glyph1:[],rval:[]},y=0;y<v;y++){h.readUint(r,l),l+=4;var S=h.readUshort(r,l);l+=2,h.readUshort(r,l),l+=2;var E=S>>>8;if((E&=15)!=0)throw"unknown kern table format: "+E;l=i.kern.readFormat0(r,l,p)}return p},i.kern.readFormat0=function(r,l,d){var m=i._bin,h=-1,v=m.readUshort(r,l);l+=2,m.readUshort(r,l),l+=2,m.readUshort(r,l),l+=2,m.readUshort(r,l),l+=2;for(var p=0;p<v;p++){var y=m.readUshort(r,l);l+=2;var S=m.readUshort(r,l);l+=2;var E=m.readShort(r,l);l+=2,y!=h&&(d.glyph1.push(y),d.rval.push({glyph2:[],vals:[]}));var A=d.rval[d.rval.length-1];A.glyph2.push(S),A.vals.push(E),h=y}return l},i.loca={},i.loca.parse=function(r,l,d,m){var h=i._bin,v=[],p=m.head.indexToLocFormat,y=m.maxp.numGlyphs+1;if(p==0)for(var S=0;S<y;S++)v.push(h.readUshort(r,l+(S<<1))<<1);if(p==1)for(S=0;S<y;S++)v.push(h.readUint(r,l+(S<<2)));return v},i.maxp={},i.maxp.parse=function(r,l,d){var m=i._bin,h={},v=m.readUint(r,l);return l+=4,h.numGlyphs=m.readUshort(r,l),l+=2,v==65536&&(h.maxPoints=m.readUshort(r,l),l+=2,h.maxContours=m.readUshort(r,l),l+=2,h.maxCompositePoints=m.readUshort(r,l),l+=2,h.maxCompositeContours=m.readUshort(r,l),l+=2,h.maxZones=m.readUshort(r,l),l+=2,h.maxTwilightPoints=m.readUshort(r,l),l+=2,h.maxStorage=m.readUshort(r,l),l+=2,h.maxFunctionDefs=m.readUshort(r,l),l+=2,h.maxInstructionDefs=m.readUshort(r,l),l+=2,h.maxStackElements=m.readUshort(r,l),l+=2,h.maxSizeOfInstructions=m.readUshort(r,l),l+=2,h.maxComponentElements=m.readUshort(r,l),l+=2,h.maxComponentDepth=m.readUshort(r,l),l+=2),h},i.name={},i.name.parse=function(r,l,d){var m=i._bin,h={};m.readUshort(r,l),l+=2;var v=m.readUshort(r,l);l+=2,m.readUshort(r,l);for(var p,y=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],S=l+=2,E=0;E<v;E++){var A=m.readUshort(r,l);l+=2;var U=m.readUshort(r,l);l+=2;var w=m.readUshort(r,l);l+=2;var X=m.readUshort(r,l);l+=2;var j=m.readUshort(r,l);l+=2;var D=m.readUshort(r,l);l+=2;var C,L=y[X],k=S+12*v+D;if(A==0)C=m.readUnicode(r,k,j/2);else if(A==3&&U==0)C=m.readUnicode(r,k,j/2);else if(U==0)C=m.readASCII(r,k,j);else if(U==1)C=m.readUnicode(r,k,j/2);else if(U==3)C=m.readUnicode(r,k,j/2);else{if(A!=1)throw"unknown encoding "+U+", platformID: "+A;C=m.readASCII(r,k,j),console.debug("reading unknown MAC encoding "+U+" as ASCII")}var F="p"+A+","+w.toString(16);h[F]==null&&(h[F]={}),h[F][L!==void 0?L:X]=C,h[F]._lang=w}for(var M in h)if(h[M].postScriptName!=null&&h[M]._lang==1033)return h[M];for(var M in h)if(h[M].postScriptName!=null&&h[M]._lang==0)return h[M];for(var M in h)if(h[M].postScriptName!=null&&h[M]._lang==3084)return h[M];for(var M in h)if(h[M].postScriptName!=null)return h[M];for(var M in h){p=M;break}return console.debug("returning name table with languageID "+h[p]._lang),h[p]},i["OS/2"]={},i["OS/2"].parse=function(r,l,d){var m=i._bin.readUshort(r,l);l+=2;var h={};if(m==0)i["OS/2"].version0(r,l,h);else if(m==1)i["OS/2"].version1(r,l,h);else if(m==2||m==3||m==4)i["OS/2"].version2(r,l,h);else{if(m!=5)throw"unknown OS/2 table version: "+m;i["OS/2"].version5(r,l,h)}return h},i["OS/2"].version0=function(r,l,d){var m=i._bin;return d.xAvgCharWidth=m.readShort(r,l),l+=2,d.usWeightClass=m.readUshort(r,l),l+=2,d.usWidthClass=m.readUshort(r,l),l+=2,d.fsType=m.readUshort(r,l),l+=2,d.ySubscriptXSize=m.readShort(r,l),l+=2,d.ySubscriptYSize=m.readShort(r,l),l+=2,d.ySubscriptXOffset=m.readShort(r,l),l+=2,d.ySubscriptYOffset=m.readShort(r,l),l+=2,d.ySuperscriptXSize=m.readShort(r,l),l+=2,d.ySuperscriptYSize=m.readShort(r,l),l+=2,d.ySuperscriptXOffset=m.readShort(r,l),l+=2,d.ySuperscriptYOffset=m.readShort(r,l),l+=2,d.yStrikeoutSize=m.readShort(r,l),l+=2,d.yStrikeoutPosition=m.readShort(r,l),l+=2,d.sFamilyClass=m.readShort(r,l),l+=2,d.panose=m.readBytes(r,l,10),l+=10,d.ulUnicodeRange1=m.readUint(r,l),l+=4,d.ulUnicodeRange2=m.readUint(r,l),l+=4,d.ulUnicodeRange3=m.readUint(r,l),l+=4,d.ulUnicodeRange4=m.readUint(r,l),l+=4,d.achVendID=[m.readInt8(r,l),m.readInt8(r,l+1),m.readInt8(r,l+2),m.readInt8(r,l+3)],l+=4,d.fsSelection=m.readUshort(r,l),l+=2,d.usFirstCharIndex=m.readUshort(r,l),l+=2,d.usLastCharIndex=m.readUshort(r,l),l+=2,d.sTypoAscender=m.readShort(r,l),l+=2,d.sTypoDescender=m.readShort(r,l),l+=2,d.sTypoLineGap=m.readShort(r,l),l+=2,d.usWinAscent=m.readUshort(r,l),l+=2,d.usWinDescent=m.readUshort(r,l),l+=2},i["OS/2"].version1=function(r,l,d){var m=i._bin;return l=i["OS/2"].version0(r,l,d),d.ulCodePageRange1=m.readUint(r,l),l+=4,d.ulCodePageRange2=m.readUint(r,l),l+=4},i["OS/2"].version2=function(r,l,d){var m=i._bin;return l=i["OS/2"].version1(r,l,d),d.sxHeight=m.readShort(r,l),l+=2,d.sCapHeight=m.readShort(r,l),l+=2,d.usDefault=m.readUshort(r,l),l+=2,d.usBreak=m.readUshort(r,l),l+=2,d.usMaxContext=m.readUshort(r,l),l+=2},i["OS/2"].version5=function(r,l,d){var m=i._bin;return l=i["OS/2"].version2(r,l,d),d.usLowerOpticalPointSize=m.readUshort(r,l),l+=2,d.usUpperOpticalPointSize=m.readUshort(r,l),l+=2},i.post={},i.post.parse=function(r,l,d){var m=i._bin,h={};return h.version=m.readFixed(r,l),l+=4,h.italicAngle=m.readFixed(r,l),l+=4,h.underlinePosition=m.readShort(r,l),l+=2,h.underlineThickness=m.readShort(r,l),l+=2,h},i==null&&(i={}),i.U==null&&(i.U={}),i.U.codeToGlyph=function(r,l){var d=r.cmap,m=-1;if(d.p0e4!=null?m=d.p0e4:d.p3e1!=null?m=d.p3e1:d.p1e0!=null?m=d.p1e0:d.p0e3!=null&&(m=d.p0e3),m==-1)throw"no familiar platform and encoding!";var h=d.tables[m];if(h.format==0)return l>=h.map.length?0:h.map[l];if(h.format==4){for(var v=-1,p=0;p<h.endCount.length;p++)if(l<=h.endCount[p]){v=p;break}return v==-1||h.startCount[v]>l?0:65535&(h.idRangeOffset[v]!=0?h.glyphIdArray[l-h.startCount[v]+(h.idRangeOffset[v]>>1)-(h.idRangeOffset.length-v)]:l+h.idDelta[v])}if(h.format==12){if(l>h.groups[h.groups.length-1][1])return 0;for(p=0;p<h.groups.length;p++){var y=h.groups[p];if(y[0]<=l&&l<=y[1])return y[2]+(l-y[0])}return 0}throw"unknown cmap table format "+h.format},i.U.glyphToPath=function(r,l){var d={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[l]){var m=r.SVG.entries[l];return m==null?d:(typeof m=="string"&&(m=i.SVG.toPath(m),r.SVG.entries[l]=m),m)}if(r.CFF){var h={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},v=r.CFF,p=r.CFF.Private;if(v.ROS){for(var y=0;v.FDSelect[y+2]<=l;)y+=2;p=v.FDArray[v.FDSelect[y+1]].Private}i.U._drawCFF(r.CFF.CharStrings[l],h,v,p,d)}else r.glyf&&i.U._drawGlyf(l,r,d);return d},i.U._drawGlyf=function(r,l,d){var m=l.glyf[r];m==null&&(m=l.glyf[r]=i.glyf._parseGlyf(l,r)),m!=null&&(m.noc>-1?i.U._simpleGlyph(m,d):i.U._compoGlyph(m,l,d))},i.U._simpleGlyph=function(r,l){for(var d=0;d<r.noc;d++){for(var m=d==0?0:r.endPts[d-1]+1,h=r.endPts[d],v=m;v<=h;v++){var p=v==m?h:v-1,y=v==h?m:v+1,S=1&r.flags[v],E=1&r.flags[p],A=1&r.flags[y],U=r.xs[v],w=r.ys[v];if(v==m)if(S){if(!E){i.U.P.moveTo(l,U,w);continue}i.U.P.moveTo(l,r.xs[p],r.ys[p])}else E?i.U.P.moveTo(l,r.xs[p],r.ys[p]):i.U.P.moveTo(l,(r.xs[p]+U)/2,(r.ys[p]+w)/2);S?E&&i.U.P.lineTo(l,U,w):A?i.U.P.qcurveTo(l,U,w,r.xs[y],r.ys[y]):i.U.P.qcurveTo(l,U,w,(U+r.xs[y])/2,(w+r.ys[y])/2)}i.U.P.closePath(l)}},i.U._compoGlyph=function(r,l,d){for(var m=0;m<r.parts.length;m++){var h={cmds:[],crds:[]},v=r.parts[m];i.U._drawGlyf(v.glyphIndex,l,h);for(var p=v.m,y=0;y<h.crds.length;y+=2){var S=h.crds[y],E=h.crds[y+1];d.crds.push(S*p.a+E*p.b+p.tx),d.crds.push(S*p.c+E*p.d+p.ty)}for(y=0;y<h.cmds.length;y++)d.cmds.push(h.cmds[y])}},i.U._getGlyphClass=function(r,l){var d=i._lctf.getInterval(l,r);return d==-1?0:l[d+2]},i.U._applySubs=function(r,l,d,m){for(var h=r.length-l-1,v=0;v<d.tabs.length;v++)if(d.tabs[v]!=null){var p,y=d.tabs[v];if(!y.coverage||(p=i._lctf.coverageIndex(y.coverage,r[l]))!=-1){if(d.ltype==1)r[l],y.fmt==1?r[l]=r[l]+y.delta:r[l]=y.newg[p];else if(d.ltype==4)for(var S=y.vals[p],E=0;E<S.length;E++){var A=S[E],U=A.chain.length;if(!(U>h)){for(var w=!0,X=0,j=0;j<U;j++){for(;r[l+X+(1+j)]==-1;)X++;A.chain[j]!=r[l+X+(1+j)]&&(w=!1)}if(w){for(r[l]=A.nglyph,j=0;j<U+X;j++)r[l+j+1]=-1;break}}}else if(d.ltype==5&&y.fmt==2)for(var D=i._lctf.getInterval(y.cDef,r[l]),C=y.cDef[D+2],L=y.scset[C],k=0;k<L.length;k++){var F=L[k],M=F.input;if(!(M.length>h)){for(w=!0,j=0;j<M.length;j++){var V=i._lctf.getInterval(y.cDef,r[l+1+j]);if(D==-1&&y.cDef[V+2]!=M[j]){w=!1;break}}if(w){var q=F.substLookupRecords;for(E=0;E<q.length;E+=2)q[E],q[E+1]}}}else if(d.ltype==6&&y.fmt==3){if(!i.U._glsCovered(r,y.backCvg,l-y.backCvg.length)||!i.U._glsCovered(r,y.inptCvg,l)||!i.U._glsCovered(r,y.ahedCvg,l+y.inptCvg.length))continue;var Se=y.lookupRec;for(k=0;k<Se.length;k+=2){D=Se[k];var N=m[Se[k+1]];i.U._applySubs(r,l+D,N,m)}}}}},i.U._glsCovered=function(r,l,d){for(var m=0;m<l.length;m++)if(i._lctf.coverageIndex(l[m],r[d+m])==-1)return!1;return!0},i.U.glyphsToPath=function(r,l,d){for(var m={cmds:[],crds:[]},h=0,v=0;v<l.length;v++){var p=l[v];if(p!=-1){for(var y=v<l.length-1&&l[v+1]!=-1?l[v+1]:0,S=i.U.glyphToPath(r,p),E=0;E<S.crds.length;E+=2)m.crds.push(S.crds[E]+h),m.crds.push(S.crds[E+1]);for(d&&m.cmds.push(d),E=0;E<S.cmds.length;E++)m.cmds.push(S.cmds[E]);d&&m.cmds.push("X"),h+=r.hmtx.aWidth[p],v<l.length-1&&(h+=i.U.getPairAdjustment(r,p,y))}}return m},i.U.P={},i.U.P.moveTo=function(r,l,d){r.cmds.push("M"),r.crds.push(l,d)},i.U.P.lineTo=function(r,l,d){r.cmds.push("L"),r.crds.push(l,d)},i.U.P.curveTo=function(r,l,d,m,h,v,p){r.cmds.push("C"),r.crds.push(l,d,m,h,v,p)},i.U.P.qcurveTo=function(r,l,d,m,h){r.cmds.push("Q"),r.crds.push(l,d,m,h)},i.U.P.closePath=function(r){r.cmds.push("Z")},i.U._drawCFF=function(r,l,d,m,h){for(var v=l.stack,p=l.nStems,y=l.haveWidth,S=l.width,E=l.open,A=0,U=l.x,w=l.y,X=0,j=0,D=0,C=0,L=0,k=0,F=0,M=0,V=0,q=0,Se={val:0,size:0};A<r.length;){i.CFF.getCharString(r,A,Se);var N=Se.val;if(A+=Se.size,N=="o1"||N=="o18")v.length%2!=0&&!y&&(S=v.shift()+m.nominalWidthX),p+=v.length>>1,v.length=0,y=!0;else if(N=="o3"||N=="o23")v.length%2!=0&&!y&&(S=v.shift()+m.nominalWidthX),p+=v.length>>1,v.length=0,y=!0;else if(N=="o4")v.length>1&&!y&&(S=v.shift()+m.nominalWidthX,y=!0),E&&i.U.P.closePath(h),w+=v.pop(),i.U.P.moveTo(h,U,w),E=!0;else if(N=="o5")for(;v.length>0;)U+=v.shift(),w+=v.shift(),i.U.P.lineTo(h,U,w);else if(N=="o6"||N=="o7")for(var J=v.length,Y=N=="o6",pe=0;pe<J;pe++){var x=v.shift();Y?U+=x:w+=x,Y=!Y,i.U.P.lineTo(h,U,w)}else if(N=="o8"||N=="o24"){J=v.length;for(var ae=0;ae+6<=J;)X=U+v.shift(),j=w+v.shift(),D=X+v.shift(),C=j+v.shift(),U=D+v.shift(),w=C+v.shift(),i.U.P.curveTo(h,X,j,D,C,U,w),ae+=6;N=="o24"&&(U+=v.shift(),w+=v.shift(),i.U.P.lineTo(h,U,w))}else{if(N=="o11")break;if(N=="o1234"||N=="o1235"||N=="o1236"||N=="o1237")N=="o1234"&&(j=w,D=(X=U+v.shift())+v.shift(),q=C=j+v.shift(),k=C,M=w,U=(F=(L=(V=D+v.shift())+v.shift())+v.shift())+v.shift(),i.U.P.curveTo(h,X,j,D,C,V,q),i.U.P.curveTo(h,L,k,F,M,U,w)),N=="o1235"&&(X=U+v.shift(),j=w+v.shift(),D=X+v.shift(),C=j+v.shift(),V=D+v.shift(),q=C+v.shift(),L=V+v.shift(),k=q+v.shift(),F=L+v.shift(),M=k+v.shift(),U=F+v.shift(),w=M+v.shift(),v.shift(),i.U.P.curveTo(h,X,j,D,C,V,q),i.U.P.curveTo(h,L,k,F,M,U,w)),N=="o1236"&&(X=U+v.shift(),j=w+v.shift(),D=X+v.shift(),q=C=j+v.shift(),k=C,F=(L=(V=D+v.shift())+v.shift())+v.shift(),M=k+v.shift(),U=F+v.shift(),i.U.P.curveTo(h,X,j,D,C,V,q),i.U.P.curveTo(h,L,k,F,M,U,w)),N=="o1237"&&(X=U+v.shift(),j=w+v.shift(),D=X+v.shift(),C=j+v.shift(),V=D+v.shift(),q=C+v.shift(),L=V+v.shift(),k=q+v.shift(),F=L+v.shift(),M=k+v.shift(),Math.abs(F-U)>Math.abs(M-w)?U=F+v.shift():w=M+v.shift(),i.U.P.curveTo(h,X,j,D,C,V,q),i.U.P.curveTo(h,L,k,F,M,U,w));else if(N=="o14"){if(v.length>0&&!y&&(S=v.shift()+d.nominalWidthX,y=!0),v.length==4){var ve=v.shift(),ie=v.shift(),Q=v.shift(),z=v.shift(),H=i.CFF.glyphBySE(d,Q),Z=i.CFF.glyphBySE(d,z);i.U._drawCFF(d.CharStrings[H],l,d,m,h),l.x=ve,l.y=ie,i.U._drawCFF(d.CharStrings[Z],l,d,m,h)}E&&(i.U.P.closePath(h),E=!1)}else if(N=="o19"||N=="o20")v.length%2!=0&&!y&&(S=v.shift()+m.nominalWidthX),p+=v.length>>1,v.length=0,y=!0,A+=p+7>>3;else if(N=="o21")v.length>2&&!y&&(S=v.shift()+m.nominalWidthX,y=!0),w+=v.pop(),U+=v.pop(),E&&i.U.P.closePath(h),i.U.P.moveTo(h,U,w),E=!0;else if(N=="o22")v.length>1&&!y&&(S=v.shift()+m.nominalWidthX,y=!0),U+=v.pop(),E&&i.U.P.closePath(h),i.U.P.moveTo(h,U,w),E=!0;else if(N=="o25"){for(;v.length>6;)U+=v.shift(),w+=v.shift(),i.U.P.lineTo(h,U,w);X=U+v.shift(),j=w+v.shift(),D=X+v.shift(),C=j+v.shift(),U=D+v.shift(),w=C+v.shift(),i.U.P.curveTo(h,X,j,D,C,U,w)}else if(N=="o26")for(v.length%2&&(U+=v.shift());v.length>0;)X=U,j=w+v.shift(),U=D=X+v.shift(),w=(C=j+v.shift())+v.shift(),i.U.P.curveTo(h,X,j,D,C,U,w);else if(N=="o27")for(v.length%2&&(w+=v.shift());v.length>0;)j=w,D=(X=U+v.shift())+v.shift(),C=j+v.shift(),U=D+v.shift(),w=C,i.U.P.curveTo(h,X,j,D,C,U,w);else if(N=="o10"||N=="o29"){var P=N=="o10"?m:d;if(v.length==0)console.debug("error: empty stack");else{var ee=v.pop(),se=P.Subrs[ee+P.Bias];l.x=U,l.y=w,l.nStems=p,l.haveWidth=y,l.width=S,l.open=E,i.U._drawCFF(se,l,d,m,h),U=l.x,w=l.y,p=l.nStems,y=l.haveWidth,S=l.width,E=l.open}}else if(N=="o30"||N=="o31"){var ce=v.length,ge=(ae=0,N=="o31");for(ae+=ce-(J=-3&ce);ae<J;)ge?(j=w,D=(X=U+v.shift())+v.shift(),w=(C=j+v.shift())+v.shift(),J-ae==5?(U=D+v.shift(),ae++):U=D,ge=!1):(X=U,j=w+v.shift(),D=X+v.shift(),C=j+v.shift(),U=D+v.shift(),J-ae==5?(w=C+v.shift(),ae++):w=C,ge=!0),i.U.P.curveTo(h,X,j,D,C,U,w),ae+=4}else{if((N+"").charAt(0)=="o")throw console.debug("Unknown operation: "+N,r),N;v.push(N)}}}l.x=U,l.y=w,l.nStems=p,l.haveWidth=y,l.width=S,l.open=E};var s=i,o={Typr:s};return f.Typr=s,f.default=o,Object.defineProperty(f,"__esModule",{value:!0}),f})({}).Typr}function c2(){return(function(f){var i=Uint8Array,s=Uint16Array,o=Uint32Array,r=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m=function(N,J){for(var Y=new s(31),pe=0;pe<31;++pe)Y[pe]=J+=1<<N[pe-1];var x=new o(Y[30]);for(pe=1;pe<30;++pe)for(var ae=Y[pe];ae<Y[pe+1];++ae)x[ae]=ae-Y[pe]<<5|pe;return[Y,x]},h=m(r,2),v=h[0],p=h[1];v[28]=258,p[258]=28;for(var y=m(l,0)[0],S=new s(32768),E=0;E<32768;++E){var A=(43690&E)>>>1|(21845&E)<<1;A=(61680&(A=(52428&A)>>>2|(13107&A)<<2))>>>4|(3855&A)<<4,S[E]=((65280&A)>>>8|(255&A)<<8)>>>1}var U=function(N,J,Y){for(var pe=N.length,x=0,ae=new s(J);x<pe;++x)++ae[N[x]-1];var ve,ie=new s(J);for(x=0;x<J;++x)ie[x]=ie[x-1]+ae[x-1]<<1;{ve=new s(1<<J);var Q=15-J;for(x=0;x<pe;++x)if(N[x])for(var z=x<<4|N[x],H=J-N[x],Z=ie[N[x]-1]++<<H,P=Z|(1<<H)-1;Z<=P;++Z)ve[S[Z]>>>Q]=z}return ve},w=new i(288);for(E=0;E<144;++E)w[E]=8;for(E=144;E<256;++E)w[E]=9;for(E=256;E<280;++E)w[E]=7;for(E=280;E<288;++E)w[E]=8;var X=new i(32);for(E=0;E<32;++E)X[E]=5;var j=U(w,9),D=U(X,5),C=function(N){for(var J=N[0],Y=1;Y<N.length;++Y)N[Y]>J&&(J=N[Y]);return J},L=function(N,J,Y){var pe=J/8|0;return(N[pe]|N[pe+1]<<8)>>(7&J)&Y},k=function(N,J){var Y=J/8|0;return(N[Y]|N[Y+1]<<8|N[Y+2]<<16)>>(7&J)},F=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function(N,J,Y){var pe=new Error(J||F[N]);if(pe.code=N,Error.captureStackTrace&&Error.captureStackTrace(pe,M),!Y)throw pe;return pe},V=function(N,J,Y){var pe=N.length;if(!pe||Y&&!Y.l&&pe<5)return J||new i(0);var x=!J||Y,ae=!Y||Y.i;Y||(Y={}),J||(J=new i(3*pe));var ve,ie=function(Ne){var B=J.length;if(Ne>B){var me=new i(Math.max(2*B,Ne));me.set(J),J=me}},Q=Y.f||0,z=Y.p||0,H=Y.b||0,Z=Y.l,P=Y.d,ee=Y.m,se=Y.n,ce=8*pe;do{if(!Z){Y.f=Q=L(N,z,1);var ge=L(N,z+1,3);if(z+=3,!ge){var Oe=N[(Ge=((ve=z)/8|0)+(7&ve&&1)+4)-4]|N[Ge-3]<<8,He=Ge+Oe;if(He>pe){ae&&M(0);break}x&&ie(H+Oe),J.set(N.subarray(Ge,He),H),Y.b=H+=Oe,Y.p=z=8*He;continue}if(ge==1)Z=j,P=D,ee=9,se=5;else if(ge==2){var Ue=L(N,z,31)+257,_e=L(N,z+10,15)+4,lt=Ue+L(N,z+5,31)+1;z+=14;for(var Ze=new i(lt),Be=new i(19),je=0;je<_e;++je)Be[d[je]]=L(N,z+3*je,7);z+=3*_e;var Ke=C(Be),xe=(1<<Ke)-1,Fe=U(Be,Ke);for(je=0;je<lt;){var Ge,be=Fe[L(N,z,xe)];if(z+=15&be,(Ge=be>>>4)<16)Ze[je++]=Ge;else{var rt=0,Re=0;for(Ge==16?(Re=3+L(N,z,3),z+=2,rt=Ze[je-1]):Ge==17?(Re=3+L(N,z,7),z+=3):Ge==18&&(Re=11+L(N,z,127),z+=7);Re--;)Ze[je++]=rt}}var Ce=Ze.subarray(0,Ue),ze=Ze.subarray(Ue);ee=C(Ce),se=C(ze),Z=U(Ce,ee),P=U(ze,se)}else M(1);if(z>ce){ae&&M(0);break}}x&&ie(H+131072);for(var bt=(1<<ee)-1,Ye=(1<<se)-1,ke=z;;ke=z){var We=(rt=Z[k(N,z)&bt])>>>4;if((z+=15&rt)>ce){ae&&M(0);break}if(rt||M(2),We<256)J[H++]=We;else{if(We==256){ke=z,Z=null;break}var ot=We-254;if(We>264){var Ot=r[je=We-257];ot=L(N,z,(1<<Ot)-1)+v[je],z+=Ot}var Gt=P[k(N,z)&Ye],at=Gt>>>4;if(Gt||M(3),z+=15&Gt,ze=y[at],at>3&&(Ot=l[at],ze+=k(N,z)&(1<<Ot)-1,z+=Ot),z>ce){ae&&M(0);break}x&&ie(H+131072);for(var Le=H+ot;H<Le;H+=4)J[H]=J[H-ze],J[H+1]=J[H+1-ze],J[H+2]=J[H+2-ze],J[H+3]=J[H+3-ze];H=Le}}Y.l=Z,Y.p=ke,Y.b=H,Z&&(Q=1,Y.m=ee,Y.d=P,Y.n=se)}while(!Q);return H==J.length?J:(function(Ne,B,me){(me==null||me>Ne.length)&&(me=Ne.length);var De=new(Ne instanceof s?s:Ne instanceof o?o:i)(me-B);return De.set(Ne.subarray(B,me)),De})(J,0,H)},q=new i(0),Se=typeof TextDecoder<"u"&&new TextDecoder;try{Se.decode(q,{stream:!0})}catch{}return f.convert_streams=function(N){var J=new DataView(N),Y=0;function pe(){var Ue=J.getUint16(Y);return Y+=2,Ue}function x(){var Ue=J.getUint32(Y);return Y+=4,Ue}function ae(Ue){Oe.setUint16(He,Ue),He+=2}function ve(Ue){Oe.setUint32(He,Ue),He+=4}for(var ie={signature:x(),flavor:x(),length:x(),numTables:pe(),reserved:pe(),totalSfntSize:x(),majorVersion:pe(),minorVersion:pe(),metaOffset:x(),metaLength:x(),metaOrigLength:x(),privOffset:x(),privLength:x()},Q=0;Math.pow(2,Q)<=ie.numTables;)Q++;Q--;for(var z=16*Math.pow(2,Q),H=16*ie.numTables-z,Z=12,P=[],ee=0;ee<ie.numTables;ee++)P.push({tag:x(),offset:x(),compLength:x(),origLength:x(),origChecksum:x()}),Z+=16;var se,ce=new Uint8Array(12+16*P.length+P.reduce((function(Ue,_e){return Ue+_e.origLength+4}),0)),ge=ce.buffer,Oe=new DataView(ge),He=0;return ve(ie.flavor),ae(ie.numTables),ae(z),ae(Q),ae(H),P.forEach((function(Ue){ve(Ue.tag),ve(Ue.origChecksum),ve(Z),ve(Ue.origLength),Ue.outOffset=Z,(Z+=Ue.origLength)%4!=0&&(Z+=4-Z%4)})),P.forEach((function(Ue){var _e,lt=N.slice(Ue.offset,Ue.offset+Ue.compLength);if(Ue.compLength!=Ue.origLength){var Ze=new Uint8Array(Ue.origLength);_e=new Uint8Array(lt,2),V(_e,Ze)}else Ze=new Uint8Array(lt);ce.set(Ze,Ue.outOffset);var Be=0;(Z=Ue.outOffset+Ue.origLength)%4!=0&&(Be=4-Z%4),ce.set(new Uint8Array(Be).buffer,Ue.outOffset+Ue.origLength),se=Z+Be})),ge.slice(0,se)},Object.defineProperty(f,"__esModule",{value:!0}),f})({}).convert_streams}function f2(f,i){const s={M:2,L:2,Q:4,C:6,Z:0},o={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,l=2,d=4,m=8,h=16,v=32;let p;function y(F){if(!p){const M={R:l,L:r,D:d,C:h,U:v,T:m};p=new Map;for(let V in o){let q=0;o[V].split(",").forEach(Se=>{let[N,J]=Se.split("+");N=parseInt(N,36),J=J?parseInt(J,36):0,p.set(q+=N,M[V]);for(let Y=J;Y--;)p.set(++q,M[V])})}}return p.get(F)||v}const S=1,E=2,A=3,U=4,w=[null,"isol","init","fina","medi"];function X(F){const M=new Uint8Array(F.length);let V=v,q=S,Se=-1;for(let N=0;N<F.length;N++){const J=F.codePointAt(N);let Y=y(J)|0,pe=S;Y&m||(V&(r|d|h)?Y&(l|d|h)?(pe=A,(q===S||q===A)&&M[Se]++):Y&(r|v)&&(q===E||q===U)&&M[Se]--:V&(l|v)&&(q===E||q===U)&&M[Se]--,q=M[N]=pe,V=Y,Se=N,J>65535&&N++)}return M}function j(F,M){const V=[];for(let Se=0;Se<M.length;Se++){const N=M.codePointAt(Se);N>65535&&Se++,V.push(f.U.codeToGlyph(F,N))}const q=F.GSUB;if(q){const{lookupList:Se,featureList:N}=q;let J;const Y=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,pe=[];N.forEach(x=>{if(Y.test(x.tag))for(let ae=0;ae<x.tab.length;ae++){if(pe[x.tab[ae]])continue;pe[x.tab[ae]]=!0;const ve=Se[x.tab[ae]],ie=/^(isol|init|fina|medi)$/.test(x.tag);ie&&!J&&(J=X(M));for(let Q=0;Q<V.length;Q++)(!J||!ie||w[J[Q]]===x.tag)&&f.U._applySubs(V,Q,ve,Se)}})}return V}function D(F,M){const V=new Int16Array(M.length*3);let q=0;for(;q<M.length;q++){const Y=M[q];if(Y===-1)continue;V[q*3+2]=F.hmtx.aWidth[Y];const pe=F.GPOS;if(pe){const x=pe.lookupList;for(let ae=0;ae<x.length;ae++){const ve=x[ae];for(let ie=0;ie<ve.tabs.length;ie++){const Q=ve.tabs[ie];if(ve.ltype===1){if(f._lctf.coverageIndex(Q.coverage,Y)!==-1&&Q.pos){J(Q.pos,q);break}}else if(ve.ltype===2){let z=null,H=Se();if(H!==-1){const Z=f._lctf.coverageIndex(Q.coverage,M[H]);if(Z!==-1){if(Q.fmt===1){const P=Q.pairsets[Z];for(let ee=0;ee<P.length;ee++)P[ee].gid2===Y&&(z=P[ee])}else if(Q.fmt===2){const P=f.U._getGlyphClass(M[H],Q.classDef1),ee=f.U._getGlyphClass(Y,Q.classDef2);z=Q.matrix[P][ee]}if(z){z.val1&&J(z.val1,H),z.val2&&J(z.val2,q);break}}}}else if(ve.ltype===4){const z=f._lctf.coverageIndex(Q.markCoverage,Y);if(z!==-1){const H=Se(N),Z=H===-1?-1:f._lctf.coverageIndex(Q.baseCoverage,M[H]);if(Z!==-1){const P=Q.markArray[z],ee=Q.baseArray[Z][P.markClass];V[q*3]=ee.x-P.x+V[H*3]-V[H*3+2],V[q*3+1]=ee.y-P.y+V[H*3+1];break}}}else if(ve.ltype===6){const z=f._lctf.coverageIndex(Q.mark1Coverage,Y);if(z!==-1){const H=Se();if(H!==-1){const Z=M[H];if(C(F,Z)===3){const P=f._lctf.coverageIndex(Q.mark2Coverage,Z);if(P!==-1){const ee=Q.mark1Array[z],se=Q.mark2Array[P][ee.markClass];V[q*3]=se.x-ee.x+V[H*3]-V[H*3+2],V[q*3+1]=se.y-ee.y+V[H*3+1];break}}}}}}}}else if(F.kern&&!F.cff){const x=Se();if(x!==-1){const ae=F.kern.glyph1.indexOf(M[x]);if(ae!==-1){const ve=F.kern.rval[ae].glyph2.indexOf(Y);ve!==-1&&(V[x*3+2]+=F.kern.rval[ae].vals[ve])}}}}return V;function Se(Y){for(let pe=q-1;pe>=0;pe--)if(M[pe]!==-1&&(!Y||Y(M[pe])))return pe;return-1}function N(Y){return C(F,Y)===1}function J(Y,pe){for(let x=0;x<3;x++)V[pe*3+x]+=Y[x]||0}}function C(F,M){const V=F.GDEF&&F.GDEF.glyphClassDef;return V?f.U._getGlyphClass(M,V):0}function L(...F){for(let M=0;M<F.length;M++)if(typeof F[M]=="number")return F[M]}function k(F){const M=Object.create(null),V=F["OS/2"],q=F.hhea,Se=F.head.unitsPerEm,N=L(V&&V.sTypoAscender,q&&q.ascender,Se),J={unitsPerEm:Se,ascender:N,descender:L(V&&V.sTypoDescender,q&&q.descender,0),capHeight:L(V&&V.sCapHeight,N),xHeight:L(V&&V.sxHeight,N),lineGap:L(V&&V.sTypoLineGap,q&&q.lineGap),supportsCodePoint(Y){return f.U.codeToGlyph(F,Y)>0},forEachGlyph(Y,pe,x,ae){let ve=0;const ie=1/J.unitsPerEm*pe,Q=j(F,Y);let z=0;const H=D(F,Q);return Q.forEach((Z,P)=>{if(Z!==-1){let ee=M[Z];if(!ee){const{cmds:se,crds:ce}=f.U.glyphToPath(F,Z);let ge="",Oe=0;for(let Ze=0,Be=se.length;Ze<Be;Ze++){const je=s[se[Ze]];ge+=se[Ze];for(let Ke=1;Ke<=je;Ke++)ge+=(Ke>1?",":"")+ce[Oe++]}let He,Ue,_e,lt;if(ce.length){He=Ue=1/0,_e=lt=-1/0;for(let Ze=0,Be=ce.length;Ze<Be;Ze+=2){let je=ce[Ze],Ke=ce[Ze+1];je<He&&(He=je),Ke<Ue&&(Ue=Ke),je>_e&&(_e=je),Ke>lt&&(lt=Ke)}}else He=_e=Ue=lt=0;ee=M[Z]={index:Z,advanceWidth:F.hmtx.aWidth[Z],xMin:He,yMin:Ue,xMax:_e,yMax:lt,path:ge}}ae.call(null,ee,ve+H[P*3]*ie,H[P*3+1]*ie,z),ve+=H[P*3+2]*ie,x&&(ve+=x*pe)}z+=Y.codePointAt(z)>65535?2:1}),ve}};return J}return function(M){const V=new Uint8Array(M,0,4),q=f._bin.readASCII(V,0,4);if(q==="wOFF")M=i(M);else if(q==="wOF2")throw new Error("woff2 fonts not supported");return k(f.parse(M)[0])}}const h2=rr({name:"Typr Font Parser",dependencies:[s2,c2,f2],init(f,i,s){const o=f(),r=i();return s(o,r)}});function d2(){return(function(f){var i=function(){this.buckets=new Map};i.prototype.add=function(D){var C=D>>5;this.buckets.set(C,(this.buckets.get(C)||0)|1<<(31&D))},i.prototype.has=function(D){var C=this.buckets.get(D>>5);return C!==void 0&&(C&1<<(31&D))!=0},i.prototype.serialize=function(){var D=[];return this.buckets.forEach((function(C,L){D.push((+L).toString(36)+":"+C.toString(36))})),D.join(",")},i.prototype.deserialize=function(D){var C=this;this.buckets.clear(),D.split(",").forEach((function(L){var k=L.split(":");C.buckets.set(parseInt(k[0],36),parseInt(k[1],36))}))};var s=Math.pow(2,8),o=s-1,r=~o;function l(D){var C=(function(k){return k&r})(D).toString(16),L=(function(k){return(k&r)+s-1})(D).toString(16);return"codepoint-index/plane"+(D>>16)+"/"+C+"-"+L+".json"}function d(D,C){var L=D&o,k=C.codePointAt(L/6|0);return((k=(k||48)-48)&1<<L%6)!=0}function m(D,C){var L;(L=D,L.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(k){return k.split("-").map((function(F){return parseInt(F.trim(),16)}))}))).forEach((function(k){var F=k[0],M=k[1];M===void 0&&(M=F),C(F,M)}))}function h(D,C){m(D,(function(L,k){for(var F=L;F<=k;F++)C(F)}))}var v={},p={},y=new WeakMap,S="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function E(D){var C=y.get(D);return C||(C=new i,h(D.ranges,(function(L){return C.add(L)})),y.set(D,C)),C}var A,U=new Map;function w(D,C,L){return D[C]?C:D[L]?L:(function(k){for(var F in k)return F})(D)}function X(D,C){var L=C;if(!D.includes(L)){L=1/0;for(var k=0;k<D.length;k++)Math.abs(D[k]-C)<Math.abs(L-C)&&(L=D[k])}return L}function j(D){return A||(A=new Set,h("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(C){A.add(C)}))),A.has(D)}return f.CodePointSet=i,f.clearCache=function(){v={},p={}},f.getFontsForString=function(D,C){C===void 0&&(C={});var L,k=C.lang;k===void 0&&(k=new RegExp("\\p{Script=Hangul}","u").test(L=D)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(L)?"ja":"en");var F=C.category;F===void 0&&(F="sans-serif");var M=C.style;M===void 0&&(M="normal");var V=C.weight;V===void 0&&(V=400);var q=(C.dataUrl||S).replace(/\/$/g,""),Se=new Map,N=new Uint8Array(D.length),J={},Y={},pe=new Array(D.length),x=new Map,ae=!1;function ve(z){var H=U.get(z);return H||(H=fetch(q+"/"+z).then((function(Z){if(!Z.ok)throw new Error(Z.statusText);return Z.json().then((function(P){if(!Array.isArray(P)||P[0]!==1)throw new Error("Incorrect schema version; need 1, got "+P[0]);return P[1]}))})).catch((function(Z){if(q!==S)return ae||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+q+'", trying default CDN. '+Z.message),ae=!0),q=S,U.delete(z),ve(z);throw Z})),U.set(z,H)),H}for(var ie=function(z){var H=D.codePointAt(z),Z=l(H);pe[z]=Z,v[Z]||x.has(Z)||x.set(Z,ve(Z).then((function(P){v[Z]=P}))),H>65535&&(z++,Q=z)},Q=0;Q<D.length;Q++)ie(Q);return Promise.all(x.values()).then((function(){x.clear();for(var z=function(Z){var P=D.codePointAt(Z),ee=null,se=v[pe[Z]],ce=void 0;for(var ge in se){var Oe=Y[ge];if(Oe===void 0&&(Oe=Y[ge]=new RegExp(ge).test(k||"en")),Oe){for(var He in ce=ge,se[ge])if(d(P,se[ge][He])){ee=He;break}break}}if(!ee){e:for(var Ue in se)if(Ue!==ce){for(var _e in se[Ue])if(d(P,se[Ue][_e])){ee=_e;break e}}}ee||(console.debug("No font coverage for U+"+P.toString(16)),ee="latin"),pe[Z]=ee,p[ee]||x.has(ee)||x.set(ee,ve("font-meta/"+ee+".json").then((function(lt){p[ee]=lt}))),P>65535&&(Z++,H=Z)},H=0;H<D.length;H++)z(H);return Promise.all(x.values())})).then((function(){for(var z,H=null,Z=0;Z<D.length;Z++){var P=D.codePointAt(Z);if(H&&(j(P)||E(H).has(P)))N[Z]=N[Z-1];else{H=p[pe[Z]];var ee=J[H.id];if(!ee){var se=H.typeforms,ce=w(se,F,"sans-serif"),ge=w(se[ce],M,"normal"),Oe=X((z=se[ce])===null||z===void 0?void 0:z[ge],V);ee=J[H.id]=q+"/font-files/"+H.id+"/"+ce+"."+ge+"."+Oe+".woff"}var He=Se.get(ee);He==null&&(He=Se.size,Se.set(ee,He)),N[Z]=He}P>65535&&(Z++,N[Z]=N[Z-1])}return{fontUrls:Array.from(Se.keys()),chars:N}}))},Object.defineProperty(f,"__esModule",{value:!0}),f})({})}function v2(f,i){const s=Object.create(null),o=Object.create(null);function r(d,m){const h=v=>{console.error(`Failure loading font ${d}`,v)};try{const v=new XMLHttpRequest;v.open("get",d,!0),v.responseType="arraybuffer",v.onload=function(){if(v.status>=400)h(new Error(v.statusText));else if(v.status>0)try{const p=f(v.response);p.src=d,m(p)}catch(p){h(p)}},v.onerror=h,v.send()}catch(v){h(v)}}function l(d,m){let h=s[d];h?m(h):o[d]?o[d].push(m):(o[d]=[m],r(d,v=>{v.src=d,s[d]=v,o[d].forEach(p=>p(v)),delete o[d]}))}return function(d,m,{lang:h,fonts:v=[],style:p="normal",weight:y="normal",unicodeFontsURL:S}={}){const E=new Uint8Array(d.length),A=[];d.length||j();const U=new Map,w=[];if(p!=="italic"&&(p="normal"),typeof y!="number"&&(y=y==="bold"?700:400),v&&!Array.isArray(v)&&(v=[v]),v=v.slice().filter(C=>!C.lang||C.lang.test(h)).reverse(),v.length){let F=0;(function M(V=0){for(let q=V,Se=d.length;q<Se;q++){const N=d.codePointAt(q);if(F===1&&A[E[q-1]].supportsCodePoint(N)||q>0&&/\s/.test(d[q]))E[q]=E[q-1],F===2&&(w[w.length-1][1]=q);else for(let J=E[q],Y=v.length;J<=Y;J++)if(J===Y){const pe=F===2?w[w.length-1]:w[w.length]=[q,q];pe[1]=q,F=2}else{E[q]=J;const{src:pe,unicodeRange:x}=v[J];if(!x||D(N,x)){const ae=s[pe];if(!ae){l(pe,()=>{M(q)});return}if(ae.supportsCodePoint(N)){let ve=U.get(ae);typeof ve!="number"&&(ve=A.length,A.push(ae),U.set(ae,ve)),E[q]=ve,F=1;break}}}N>65535&&q+1<Se&&(E[q+1]=E[q],q++,F===2&&(w[w.length-1][1]=q))}X()})()}else w.push([0,d.length-1]),X();function X(){if(w.length){const C=w.map(L=>d.substring(L[0],L[1]+1)).join(`
`);i.getFontsForString(C,{lang:h||void 0,style:p,weight:y,dataUrl:S}).then(({fontUrls:L,chars:k})=>{const F=A.length;let M=0;w.forEach(q=>{for(let Se=0,N=q[1]-q[0];Se<=N;Se++)E[q[0]+Se]=k[M++]+F;M++});let V=0;L.forEach((q,Se)=>{l(q,N=>{A[Se+F]=N,++V===L.length&&j()})})})}else j()}function j(){m({chars:E,fonts:A})}function D(C,L){for(let k=0;k<L.length;k++){const[F,M=F]=L[k];if(F<=C&&C<=M)return!0}return!1}}}const m2=rr({name:"FontResolver",dependencies:[v2,h2,d2],init(f,i,s){return f(i,s())}});function p2(f,i){const o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",l=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function d({text:A,lang:U,fonts:w,style:X,weight:j,preResolvedFonts:D,unicodeFontsURL:C},L){const k=({chars:F,fonts:M})=>{let V,q;const Se=[];for(let N=0;N<F.length;N++)F[N]!==q?(q=F[N],Se.push(V={start:N,end:N,fontObj:M[F[N]]})):V.end=N;L(Se)};D?k(D):f(A,k,{lang:U,fonts:w,style:X,weight:j,unicodeFontsURL:C})}function m({text:A="",font:U,lang:w,sdfGlyphSize:X=64,fontSize:j=400,fontWeight:D=1,fontStyle:C="normal",letterSpacing:L=0,lineHeight:k="normal",maxWidth:F=1/0,direction:M,textAlign:V="left",textIndent:q=0,whiteSpace:Se="normal",overflowWrap:N="normal",anchorX:J=0,anchorY:Y=0,metricsOnly:pe=!1,unicodeFontsURL:x,preResolvedFonts:ae=null,includeCaretPositions:ve=!1,chunkedBoundsSize:ie=8192,colorRanges:Q=null},z){const H=y(),Z={fontLoad:0,typesetting:0};A.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),A=A.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),j=+j,L=+L,F=+F,k=k||"normal",q=+q,d({text:A,lang:w,style:C,weight:D,fonts:typeof U=="string"?[{src:U}]:U,unicodeFontsURL:x,preResolvedFonts:ae},P=>{Z.fontLoad=y()-H;const ee=isFinite(F);let se=null,ce=null,ge=null,Oe=null,He=null,Ue=null,_e=null,lt=null,Ze=0,Be=0,je=Se!=="nowrap";const Ke=new Map,xe=y();let Fe=q,Ge=0,be=new S;const rt=[be];P.forEach(Ye=>{const{fontObj:ke}=Ye,{ascender:We,descender:ot,unitsPerEm:Ot,lineGap:Gt,capHeight:at,xHeight:Le}=ke;let Ne=Ke.get(ke);if(!Ne){const re=j/Ot,it=k==="normal"?(We-ot+Gt)*re:k*j,$t=(it-(We-ot)*re)/2,mt=Math.min(it,(We-ot)*re),ft=(We+ot)/2*re+mt/2;Ne={index:Ke.size,src:ke.src,fontObj:ke,fontSizeMult:re,unitsPerEm:Ot,ascender:We*re,descender:ot*re,capHeight:at*re,xHeight:Le*re,lineHeight:it,baseline:-$t-We*re,caretTop:ft,caretBottom:ft-mt},Ke.set(ke,Ne)}const{fontSizeMult:B}=Ne,me=A.slice(Ye.start,Ye.end+1);let De,qe;ke.forEachGlyph(me,j,L,(re,it,$t,mt)=>{it+=Ge,mt+=Ye.start,De=it,qe=re;const ft=A.charAt(mt),gt=re.advanceWidth*B,yt=be.count;let et;if("isEmpty"in re||(re.isWhitespace=!!ft&&new RegExp(r).test(ft),re.canBreakAfter=!!ft&&l.test(ft),re.isEmpty=re.xMin===re.xMax||re.yMin===re.yMax||o.test(ft)),!re.isWhitespace&&!re.isEmpty&&Be++,je&&ee&&!re.isWhitespace&&it+gt+Fe>F&&yt){if(be.glyphAt(yt-1).glyphObj.canBreakAfter)et=new S,Fe=-it;else for(let kt=yt;kt--;)if(kt===0&&N==="break-word"){et=new S,Fe=-it;break}else if(be.glyphAt(kt).glyphObj.canBreakAfter){et=be.splitAt(kt+1);const Qt=et.glyphAt(0).x;Fe-=Qt;for(let ea=et.count;ea--;)et.glyphAt(ea).x-=Qt;break}et&&(be.isSoftWrapped=!0,be=et,rt.push(be),Ze=F)}let Et=be.glyphAt(be.count);Et.glyphObj=re,Et.x=it+Fe,Et.y=$t,Et.width=gt,Et.charIndex=mt,Et.fontData=Ne,ft===`
`&&(be=new S,rt.push(be),Fe=-(it+gt+L*j)+q)}),Ge=De+qe.advanceWidth*B+L*j});let Re=0;rt.forEach(Ye=>{let ke=!0;for(let We=Ye.count;We--;){const ot=Ye.glyphAt(We);ke&&!ot.glyphObj.isWhitespace&&(Ye.width=ot.x+ot.width,Ye.width>Ze&&(Ze=Ye.width),ke=!1);let{lineHeight:Ot,capHeight:Gt,xHeight:at,baseline:Le}=ot.fontData;Ot>Ye.lineHeight&&(Ye.lineHeight=Ot);const Ne=Le-Ye.baseline;Ne<0&&(Ye.baseline+=Ne,Ye.cap+=Ne,Ye.ex+=Ne),Ye.cap=Math.max(Ye.cap,Ye.baseline+Gt),Ye.ex=Math.max(Ye.ex,Ye.baseline+at)}Ye.baseline-=Re,Ye.cap-=Re,Ye.ex-=Re,Re+=Ye.lineHeight});let Ce=0,ze=0;if(J&&(typeof J=="number"?Ce=-J:typeof J=="string"&&(Ce=-Ze*(J==="left"?0:J==="center"?.5:J==="right"?1:v(J)))),Y&&(typeof Y=="number"?ze=-Y:typeof Y=="string"&&(ze=Y==="top"?0:Y==="top-baseline"?-rt[0].baseline:Y==="top-cap"?-rt[0].cap:Y==="top-ex"?-rt[0].ex:Y==="middle"?Re/2:Y==="bottom"?Re:Y==="bottom-baseline"?-rt[rt.length-1].baseline:v(Y)*Re)),!pe){const Ye=i.getEmbeddingLevels(A,M);se=new Uint16Array(Be),ce=new Uint8Array(Be),ge=new Float32Array(Be*2),Oe={},_e=[1/0,1/0,-1/0,-1/0],lt=[],ve&&(Ue=new Float32Array(A.length*4)),Q&&(He=new Uint8Array(Be*3));let ke=0,We=-1,ot=-1,Ot,Gt;if(rt.forEach((at,Le)=>{let{count:Ne,width:B}=at;if(Ne>0){let me=0;for(let mt=Ne;mt--&&at.glyphAt(mt).glyphObj.isWhitespace;)me++;let De=0,qe=0;if(V==="center")De=(Ze-B)/2;else if(V==="right")De=Ze-B;else if(V==="justify"&&at.isSoftWrapped){let mt=0;for(let ft=Ne-me;ft--;)at.glyphAt(ft).glyphObj.isWhitespace&&mt++;qe=(Ze-B)/mt}if(qe||De){let mt=0;for(let ft=0;ft<Ne;ft++){let gt=at.glyphAt(ft);const yt=gt.glyphObj;gt.x+=De+mt,qe!==0&&yt.isWhitespace&&ft<Ne-me&&(mt+=qe,gt.width+=qe)}}const re=i.getReorderSegments(A,Ye,at.glyphAt(0).charIndex,at.glyphAt(at.count-1).charIndex);for(let mt=0;mt<re.length;mt++){const[ft,gt]=re[mt];let yt=1/0,et=-1/0;for(let Et=0;Et<Ne;Et++)if(at.glyphAt(Et).charIndex>=ft){let kt=Et,Qt=Et;for(;Qt<Ne;Qt++){let ea=at.glyphAt(Qt);if(ea.charIndex>gt)break;Qt<Ne-me&&(yt=Math.min(yt,ea.x),et=Math.max(et,ea.x+ea.width))}for(let ea=kt;ea<Qt;ea++){const Ra=at.glyphAt(ea);Ra.x=et-(Ra.x+Ra.width-yt)}break}}let it;const $t=mt=>it=mt;for(let mt=0;mt<Ne;mt++){const ft=at.glyphAt(mt);it=ft.glyphObj;const gt=it.index,yt=Ye.levels[ft.charIndex]&1;if(yt){const et=i.getMirroredCharacter(A[ft.charIndex]);et&&ft.fontData.fontObj.forEachGlyph(et,0,0,$t)}if(ve){const{charIndex:et,fontData:Et}=ft,kt=ft.x+Ce,Qt=ft.x+ft.width+Ce;Ue[et*4]=yt?Qt:kt,Ue[et*4+1]=yt?kt:Qt,Ue[et*4+2]=at.baseline+Et.caretBottom+ze,Ue[et*4+3]=at.baseline+Et.caretTop+ze;const ea=et-We;ea>1&&p(Ue,We,ea),We=et}if(Q){const{charIndex:et}=ft;for(;et>ot;)ot++,Q.hasOwnProperty(ot)&&(Gt=Q[ot])}if(!it.isWhitespace&&!it.isEmpty){const et=ke++,{fontSizeMult:Et,src:kt,index:Qt}=ft.fontData,ea=Oe[kt]||(Oe[kt]={});ea[gt]||(ea[gt]={path:it.path,pathBounds:[it.xMin,it.yMin,it.xMax,it.yMax]});const Ra=ft.x+Ce,Ba=ft.y+at.baseline+ze;ge[et*2]=Ra,ge[et*2+1]=Ba;const ja=Ra+it.xMin*Et,ya=Ba+it.yMin*Et,La=Ra+it.xMax*Et,ut=Ba+it.yMax*Et;ja<_e[0]&&(_e[0]=ja),ya<_e[1]&&(_e[1]=ya),La>_e[2]&&(_e[2]=La),ut>_e[3]&&(_e[3]=ut),et%ie===0&&(Ot={start:et,end:et,rect:[1/0,1/0,-1/0,-1/0]},lt.push(Ot)),Ot.end++;const Xt=Ot.rect;if(ja<Xt[0]&&(Xt[0]=ja),ya<Xt[1]&&(Xt[1]=ya),La>Xt[2]&&(Xt[2]=La),ut>Xt[3]&&(Xt[3]=ut),se[et]=gt,ce[et]=Qt,Q){const Zt=et*3;He[Zt]=Gt>>16&255,He[Zt+1]=Gt>>8&255,He[Zt+2]=Gt&255}}}}}),Ue){const at=A.length-We;at>1&&p(Ue,We,at)}}const bt=[];Ke.forEach(({index:Ye,src:ke,unitsPerEm:We,ascender:ot,descender:Ot,lineHeight:Gt,capHeight:at,xHeight:Le})=>{bt[Ye]={src:ke,unitsPerEm:We,ascender:ot,descender:Ot,lineHeight:Gt,capHeight:at,xHeight:Le}}),Z.typesetting=y()-xe,z({glyphIds:se,glyphFontIndices:ce,glyphPositions:ge,glyphData:Oe,fontData:bt,caretPositions:Ue,glyphColors:He,chunkedBounds:lt,fontSize:j,topBaseline:ze+rt[0].baseline,blockBounds:[Ce,ze-Re,Ce+Ze,ze],visibleBounds:_e,timings:Z})})}function h(A,U){m({...A,metricsOnly:!0},w=>{const[X,j,D,C]=w.blockBounds;U({width:D-X,height:C-j})})}function v(A){let U=A.match(/^([\d.]+)%$/),w=U?parseFloat(U[1]):NaN;return isNaN(w)?0:w/100}function p(A,U,w){const X=A[U*4],j=A[U*4+1],D=A[U*4+2],C=A[U*4+3],L=(j-X)/w;for(let k=0;k<w;k++){const F=(U+k)*4;A[F]=X+L*k,A[F+1]=X+L*(k+1),A[F+2]=D,A[F+3]=C}}function y(){return(self.performance||Date).now()}function S(){this.data=[]}const E=["glyphObj","x","y","width","charIndex","fontData"];return S.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/E.length)},glyphAt(A){let U=S.flyweight;return U.data=this.data,U.index=A,U},splitAt(A){let U=new S;return U.data=this.data.splice(A*E.length),U}},S.flyweight=E.reduce((A,U,w,X)=>(Object.defineProperty(A,U,{get(){return this.data[this.index*E.length+w]},set(j){this.data[this.index*E.length+w]=j}}),A),{data:null,index:0}),{typeset:m,measure:h}}const fl=()=>(self.performance||Date).now(),ju=y0();let Lm;function g2(f,i,s,o,r,l,d,m,h,v,p=!0){return p?b2(f,i,s,o,r,l,d,m,h,v).then(null,y=>(Lm||(console.warn("WebGL SDF generation failed, falling back to JS",y),Lm=!0),Gm(f,i,s,o,r,l,d,m,h,v))):Gm(f,i,s,o,r,l,d,m,h,v)}const Ru=[],y2=5;let cf=0;function S0(){const f=fl();for(;Ru.length&&fl()-f<y2;)Ru.shift()();cf=Ru.length?setTimeout(S0,0):0}const b2=(...f)=>new Promise((i,s)=>{Ru.push(()=>{const o=fl();try{ju.webgl.generateIntoCanvas(...f),i({timing:fl()-o})}catch(r){s(r)}}),cf||(cf=setTimeout(S0,0))}),S2=4,_2=2e3,Nm={};let E2=0;function Gm(f,i,s,o,r,l,d,m,h,v){const p="TroikaTextSDFGenerator_JS_"+E2++%S2;let y=Nm[p];return y||(y=Nm[p]={workerModule:rr({name:p,workerId:p,dependencies:[y0,fl],init(S,E){const A=S().javascript.generate;return function(...U){const w=E();return{textureData:A(...U),timing:E()-w}}},getTransferables(S){return[S.textureData.buffer]}}),requests:0,idleTimer:null}),y.requests++,clearTimeout(y.idleTimer),y.workerModule(f,i,s,o,r,l).then(({textureData:S,timing:E})=>{const A=fl(),U=new Uint8Array(S.length*4);for(let w=0;w<S.length;w++)U[w*4+v]=S[w];return ju.webglUtils.renderImageData(d,U,m,h,f,i,1<<3-v),E+=fl()-A,--y.requests===0&&(y.idleTimer=setTimeout(()=>{$y(p)},_2)),{timing:E}})}function T2(f){f._warm||(ju.webgl.isSupported(f),f._warm=!0)}const A2=ju.webglUtils.resizeWebGLCanvasWithoutClearing,$r={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},M2=new wn;function tr(){return(self.performance||Date).now()}const km=Object.create(null);function _0(f,i){f=w2({},f);const s=tr(),o=[];if(f.font&&o.push({label:"user",src:D2(f.font)}),f.font=o,f.text=""+f.text,f.sdfGlyphSize=f.sdfGlyphSize||$r.sdfGlyphSize,f.unicodeFontsURL=f.unicodeFontsURL||$r.unicodeFontsURL,f.colorRanges!=null){let S={};for(let E in f.colorRanges)if(f.colorRanges.hasOwnProperty(E)){let A=f.colorRanges[E];typeof A!="number"&&(A=M2.set(A).getHex()),S[E]=A}f.colorRanges=S}Object.freeze(f);const{textureWidth:r,sdfExponent:l}=$r,{sdfGlyphSize:d}=f,m=r/d*4;let h=km[d];if(!h){const S=document.createElement("canvas");S.width=r,S.height=d*256/m,h=km[d]={glyphCount:0,sdfGlyphSize:d,sdfCanvas:S,sdfTexture:new sl(S,void 0,void 0,void 0,Ja,Ja),contextLost:!1,glyphsByFont:new Map},h.sdfTexture.generateMipmaps=!1,x2(h)}const{sdfTexture:v,sdfCanvas:p}=h;A0(f).then(S=>{const{glyphIds:E,glyphFontIndices:A,fontData:U,glyphPositions:w,fontSize:X,timings:j}=S,D=[],C=new Float32Array(E.length*4);let L=0,k=0;const F=tr(),M=U.map(J=>{let Y=h.glyphsByFont.get(J.src);return Y||h.glyphsByFont.set(J.src,Y=new Map),Y});E.forEach((J,Y)=>{const pe=A[Y],{src:x,unitsPerEm:ae}=U[pe];let ve=M[pe].get(J);if(!ve){const{path:Z,pathBounds:P}=S.glyphData[x][J],ee=Math.max(P[2]-P[0],P[3]-P[1])/d*($r.sdfMargin*d+.5),se=h.glyphCount++,ce=[P[0]-ee,P[1]-ee,P[2]+ee,P[3]+ee];M[pe].set(J,ve={path:Z,atlasIndex:se,sdfViewBox:ce}),D.push(ve)}const{sdfViewBox:ie}=ve,Q=w[k++],z=w[k++],H=X/ae;C[L++]=Q+ie[0]*H,C[L++]=z+ie[1]*H,C[L++]=Q+ie[2]*H,C[L++]=z+ie[3]*H,E[Y]=ve.atlasIndex}),j.quads=(j.quads||0)+(tr()-F);const V=tr();j.sdf={};const q=p.height,Se=Math.ceil(h.glyphCount/m),N=Math.pow(2,Math.ceil(Math.log2(Se*d)));N>q&&(console.info(`Increasing SDF texture size ${q}->${N}`),A2(p,r,N),v.dispose()),Promise.all(D.map(J=>E0(J,h,f.gpuAccelerateSDF).then(({timing:Y})=>{j.sdf[J.atlasIndex]=Y}))).then(()=>{D.length&&!h.contextLost&&(T0(h),v.needsUpdate=!0),j.sdfTotal=tr()-V,j.total=tr()-s,i(Object.freeze({parameters:f,sdfTexture:v,sdfGlyphSize:d,sdfExponent:l,glyphBounds:C,glyphAtlasIndices:E,glyphColors:S.glyphColors,caretPositions:S.caretPositions,chunkedBounds:S.chunkedBounds,ascender:S.ascender,descender:S.descender,lineHeight:S.lineHeight,capHeight:S.capHeight,xHeight:S.xHeight,topBaseline:S.topBaseline,blockBounds:S.blockBounds,visibleBounds:S.visibleBounds,timings:S.timings}))})}),Promise.resolve().then(()=>{h.contextLost||T2(p)})}function E0({path:f,atlasIndex:i,sdfViewBox:s},{sdfGlyphSize:o,sdfCanvas:r,contextLost:l},d){if(l)return Promise.resolve({timing:-1});const{textureWidth:m,sdfExponent:h}=$r,v=Math.max(s[2]-s[0],s[3]-s[1]),p=Math.floor(i/4),y=p%(m/o)*o,S=Math.floor(p/(m/o))*o,E=i%4;return g2(o,o,f,s,v,h,r,y,S,E,d)}function x2(f){const i=f.sdfCanvas;i.addEventListener("webglcontextlost",s=>{console.log("Context Lost",s),s.preventDefault(),f.contextLost=!0}),i.addEventListener("webglcontextrestored",s=>{console.log("Context Restored",s),f.contextLost=!1;const o=[];f.glyphsByFont.forEach(r=>{r.forEach(l=>{o.push(E0(l,f,!0))})}),Promise.all(o).then(()=>{T0(f),f.sdfTexture.needsUpdate=!0})})}function U2({font:f,characters:i,sdfGlyphSize:s},o){let r=Array.isArray(i)?i.join(`
`):""+i;_0({font:f,sdfGlyphSize:s,text:r},o)}function w2(f,i){for(let s in i)i.hasOwnProperty(s)&&(f[s]=i[s]);return f}let xu;function D2(f){return xu||(xu=typeof document>"u"?{}:document.createElement("a")),xu.href=f,xu.href}function T0(f){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:i,sdfTexture:s}=f,{width:o,height:r}=i,l=f.sdfCanvas.getContext("webgl");let d=s.image.data;(!d||d.length!==o*r*4)&&(d=new Uint8Array(o*r*4),s.image={width:o,height:r,data:d},s.flipY=!1,s.isDataTexture=!0),l.readPixels(0,0,o,r,l.RGBA,l.UNSIGNED_BYTE,d)}}const O2=rr({name:"Typesetter",dependencies:[p2,m2,t2],init(f,i,s){return f(i,s())}}),A0=rr({name:"Typesetter",dependencies:[O2],init(f){return function(i){return new Promise(s=>{f.typeset(i,s)})}},getTransferables(f){const i=[];for(let s in f)f[s]&&f[s].buffer&&i.push(f[s].buffer);return i}});A0.onMainThread;const Hm={};function C2(f){let i=Hm[f];return i||(i=Hm[f]=new ro(1,1,f,f).translate(.5,.5,0)),i}const z2="aTroikaGlyphBounds",Fm="aTroikaGlyphIndex",R2="aTroikaGlyphColor";class B2 extends Jm{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new df,this.boundingBox=new lo}computeBoundingSphere(){}computeBoundingBox(){}set detail(i){if(i!==this._detail){this._detail=i,(typeof i!="number"||i<1)&&(i=1);let s=C2(i);["position","normal","uv"].forEach(o=>{this.attributes[o]=s.attributes[o].clone()}),this.setIndex(s.getIndex().clone())}}get detail(){return this._detail}set curveRadius(i){i!==this._curveRadius&&(this._curveRadius=i,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(i,s,o,r,l){this.updateAttributeData(z2,i,4),this.updateAttributeData(Fm,s,1),this.updateAttributeData(R2,l,3),this._blockBounds=o,this._chunkedBounds=r,this.instanceCount=s.length,this._updateBounds()}_updateBounds(){const i=this._blockBounds;if(i){const{curveRadius:s,boundingBox:o}=this;if(s){const{PI:r,floor:l,min:d,max:m,sin:h,cos:v}=Math,p=r/2,y=r*2,S=Math.abs(s),E=i[0]/S,A=i[2]/S,U=l((E+p)/y)!==l((A+p)/y)?-S:d(h(E)*S,h(A)*S),w=l((E-p)/y)!==l((A-p)/y)?S:m(h(E)*S,h(A)*S),X=l((E+r)/y)!==l((A+r)/y)?S*2:m(S-v(E)*S,S-v(A)*S);o.min.set(U,i[1],s<0?-X:0),o.max.set(w,i[3],s<0?0:X)}else o.min.set(i[0],i[1],0),o.max.set(i[2],i[3],0);o.getBoundingSphere(this.boundingSphere)}}applyClipRect(i){let s=this.getAttribute(Fm).count,o=this._chunkedBounds;if(o)for(let r=o.length;r--;){s=o[r].end;let l=o[r].rect;if(l[1]<i.w&&l[3]>i.y&&l[0]<i.z&&l[2]>i.x)break}this.instanceCount=s}updateAttributeData(i,s,o){const r=this.getAttribute(i);s?r&&r.array.length===s.length?(r.array.set(s),r.needsUpdate=!0):(this.setAttribute(i,new I1(s,o)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(i)}}const L2=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,N2=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,G2=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,k2=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function H2(f){const i=sf(f,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ua},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new hi(0,0,0,0)},uTroikaClipRect:{value:new hi(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ua},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new wn},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Q1},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:L2,vertexTransform:N2,fragmentDefs:G2,fragmentColorTransform:k2,customRewriter({vertexShader:s,fragmentShader:o}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(o)&&(o=o.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(s)||(s=s.replace(b0,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:s,fragmentShader:o}}});return i.transparent=!0,i.forceSinglePass=!0,Object.defineProperties(i,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),i}const bf=new Pm({color:16777215,side:Km,transparent:!0}),jm=8421504,Vm=new vf,Uu=new dt,Wc=new dt,Wr=[],F2=new dt,Jc="+x+y";function Ym(f){return Array.isArray(f)?f[0]:f}let M0=()=>{const f=new hl(new ro(1,1),bf);return M0=()=>f,f},x0=()=>{const f=new hl(new ro(1,1,32,1),bf);return x0=()=>f,f};const j2={type:"syncstart"},V2={type:"synccomplete"},U0=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Y2=U0.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let w0=class extends hl{constructor(){const i=new B2;super(i,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=jm,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Jc,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(i){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(i):(this._isSyncing=!0,this.dispatchEvent(j2),_0({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},s=>{this._isSyncing=!1,this._textRenderInfo=s,this.geometry.updateGlyphs(s.glyphBounds,s.glyphAtlasIndices,s.blockBounds,s.chunkedBounds,s.glyphColors);const o=this._queuedSyncs;o&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{o.forEach(r=>r&&r())})),this.dispatchEvent(V2),i&&i()})))}onBeforeRender(i,s,o,r,l,d){this.sync(),l.isTroikaTextMaterial&&this._prepareForRender(l)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(i){return H2(i)}get material(){let i=this._derivedMaterial;const s=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=bf.clone());if((!i||!i.isDerivedFrom(s))&&(i=this._derivedMaterial=this.createDerivedMaterial(s),s.addEventListener("dispose",function o(){s.removeEventListener("dispose",o),i.dispose()})),this.hasOutline()){let o=i._outlineMtl;return o||(o=i._outlineMtl=Object.create(i,{id:{value:i.id+.1}}),o.isTextOutlineMaterial=!0,o.depthWrite=!1,o.map=null,i.addEventListener("dispose",function r(){i.removeEventListener("dispose",r),o.dispose()})),[o,i]}else return i}set material(i){i&&i.isTroikaTextMaterial?(this._derivedMaterial=i,this._baseMaterial=i.baseMaterial):this._baseMaterial=i}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(i){this.geometry.detail=i}get curveRadius(){return this.geometry.curveRadius}set curveRadius(i){this.geometry.curveRadius=i}get customDepthMaterial(){return Ym(this.material).getDepthMaterial()}set customDepthMaterial(i){}get customDistanceMaterial(){return Ym(this.material).getDistanceMaterial()}set customDistanceMaterial(i){}_prepareForRender(i){const s=i.isTextOutlineMaterial,o=i.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:m,blockBounds:h}=r;o.uTroikaSDFTexture.value=m,o.uTroikaSDFTextureSize.value.set(m.image.width,m.image.height),o.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,o.uTroikaSDFExponent.value=r.sdfExponent,o.uTroikaTotalBounds.value.fromArray(h),o.uTroikaUseGlyphColors.value=!s&&!!r.glyphColors;let v=0,p=0,y=0,S,E,A,U=0,w=0;if(s){let{outlineWidth:j,outlineOffsetX:D,outlineOffsetY:C,outlineBlur:L,outlineOpacity:k}=this;v=this._parsePercent(j)||0,p=Math.max(0,this._parsePercent(L)||0),S=k,U=this._parsePercent(D)||0,w=this._parsePercent(C)||0}else y=Math.max(0,this._parsePercent(this.strokeWidth)||0),y&&(A=this.strokeColor,o.uTroikaStrokeColor.value.set(A??jm),E=this.strokeOpacity,E==null&&(E=1)),S=this.fillOpacity;o.uTroikaEdgeOffset.value=v,o.uTroikaPositionOffset.value.set(U,w),o.uTroikaBlurRadius.value=p,o.uTroikaStrokeWidth.value=y,o.uTroikaStrokeOpacity.value=E,o.uTroikaFillOpacity.value=S??1,o.uTroikaCurveRadius.value=this.curveRadius||0;let X=this.clipRect;if(X&&Array.isArray(X)&&X.length===4)o.uTroikaClipRect.value.fromArray(X);else{const j=(this.fontSize||.1)*100;o.uTroikaClipRect.value.set(h[0]-j,h[1]-j,h[2]+j,h[3]+j)}this.geometry.applyClipRect(o.uTroikaClipRect.value)}o.uTroikaSDFDebug.value=!!this.debugSDF,i.polygonOffset=!!this.depthOffset,i.polygonOffsetFactor=i.polygonOffsetUnits=this.depthOffset||0;const l=s?this.outlineColor||0:this.color;if(l==null)delete i.color;else{const m=i.hasOwnProperty("color")?i.color:i.color=new wn;(l!==m._input||typeof l=="object")&&m.set(m._input=l)}let d=this.orientation||Jc;if(d!==i._orientation){let m=o.uTroikaOrient.value;d=d.replace(/[^-+xyz]/g,"");let h=d!==Jc&&d.match(/^([-+])([xyz])([-+])([xyz])$/);if(h){let[,v,p,y,S]=h;Uu.set(0,0,0)[p]=v==="-"?1:-1,Wc.set(0,0,0)[S]=y==="-"?-1:1,Vm.lookAt(F2,Uu.cross(Wc),Wc),m.setFromMatrix4(Vm)}else m.identity();i._orientation=d}}_parsePercent(i){if(typeof i=="string"){let s=i.match(/^(-?[\d.]+)%$/),o=s?parseFloat(s[1]):NaN;i=(isNaN(o)?0:o/100)*this.fontSize}return i}localPositionToTextCoords(i,s=new ua){s.copy(i);const o=this.curveRadius;return o&&(s.x=Math.atan2(i.x,Math.abs(o)-Math.abs(i.z))*Math.abs(o)),s}worldPositionToTextCoords(i,s=new ua){return Uu.copy(i),this.localPositionToTextCoords(this.worldToLocal(Uu),s)}raycast(i,s){const{textRenderInfo:o,curveRadius:r}=this;if(o){const l=o.blockBounds,d=r?x0():M0(),m=d.geometry,{position:h,uv:v}=m.attributes;for(let p=0;p<v.count;p++){let y=l[0]+v.getX(p)*(l[2]-l[0]);const S=l[1]+v.getY(p)*(l[3]-l[1]);let E=0;r&&(E=r-Math.cos(y/r)*r,y=Math.sin(y/r)*r),h.setXYZ(p,y,S,E)}m.boundingSphere=this.geometry.boundingSphere,m.boundingBox=this.geometry.boundingBox,d.matrixWorld=this.matrixWorld,d.material.side=this.material.side,Wr.length=0,d.raycast(i,Wr);for(let p=0;p<Wr.length;p++)Wr[p].object=this,s.push(Wr[p])}}copy(i){const s=this.geometry;return super.copy(i),this.geometry=s,Y2.forEach(o=>{this[o]=i[o]}),this}clone(){return new this.constructor().copy(this)}};U0.forEach(f=>{const i="_private_"+f;Object.defineProperty(w0.prototype,f,{get(){return this[i]},set(s){s!==this[i]&&(this[i]=s,this._needsSync=!0)}})});new lo;new wn;const Hb=de.forwardRef(({sdfGlyphSize:f=64,anchorX:i="center",anchorY:s="middle",font:o,fontSize:r=1,children:l,characters:d,onSync:m,...h},v)=>{const p=pa(({invalidate:A})=>A),[y]=de.useState(()=>new w0),[S,E]=de.useMemo(()=>{const A=[];let U="";return de.Children.forEach(l,w=>{typeof w=="string"||typeof w=="number"?U+=w:A.push(w)}),[A,U]},[l]);return R1(()=>new Promise(A=>U2({font:o,characters:d},A)),["troika-text",o,d]),de.useLayoutEffect(()=>void y.sync(()=>{p(),m&&m(y)})),de.useEffect(()=>()=>y.dispose(),[y]),de.createElement("primitive",Sn({object:y,ref:v,font:o,text:E,anchorX:i,anchorY:s,fontSize:r,sdfGlyphSize:f},h),S)});function X2(f,i,s,o){var r;return r=class extends dl{constructor(l){super({vertexShader:i,fragmentShader:s,...l});for(const d in f)this.uniforms[d]=new K1(f[d]),Object.defineProperty(this,d,{get(){return this.uniforms[d].value},set(m){this.uniforms[d].value=m}});this.uniforms=Nu.clone(this.uniforms)}},r.key=mf.generateUUID(),r}const Z2=()=>parseInt(hf.replace(/\D+/g,"")),q2=Z2();var I2=Object.defineProperty,Q2=(f,i,s)=>i in f?I2(f,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[i]=s,Lt=(f,i,s)=>(Q2(f,typeof i!="symbol"?i+"":i,s),s);function Pc(f,i,s,o,r){let l;if(f=f.subarray||f.slice?f:f.buffer,s=s.subarray||s.slice?s:s.buffer,f=i?f.subarray?f.subarray(i,r&&i+r):f.slice(i,r&&i+r):f,s.set)s.set(f,o);else for(l=0;l<f.length;l++)s[l+o]=f[l];return s}function K2(f){return f instanceof Float32Array?f:f instanceof $m?f.getAttribute("position").array:f.map(i=>{const s=Array.isArray(i);return i instanceof dt?[i.x,i.y,i.z]:i instanceof ua?[i.x,i.y,0]:s&&i.length===3?[i[0],i[1],i[2]]:s&&i.length===2?[i[0],i[1],0]:i}).flat()}class W2 extends $m{constructor(){super(),Lt(this,"type","MeshLine"),Lt(this,"isMeshLine",!0),Lt(this,"positions",[]),Lt(this,"previous",[]),Lt(this,"next",[]),Lt(this,"side",[]),Lt(this,"width",[]),Lt(this,"indices_array",[]),Lt(this,"uvs",[]),Lt(this,"counters",[]),Lt(this,"widthCallback",null),Lt(this,"_attributes"),Lt(this,"_points",[]),Lt(this,"points"),Lt(this,"matrixWorld",new vf),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(i){this.setPoints(i,this.widthCallback)}}})}setMatrixWorld(i){this.matrixWorld=i}setPoints(i,s){if(i=K2(i),this._points=i,this.widthCallback=s??null,this.positions=[],this.counters=[],i.length&&i[0]instanceof dt)for(let o=0;o<i.length;o++){const r=i[o],l=o/(i.length-1);this.positions.push(r.x,r.y,r.z),this.positions.push(r.x,r.y,r.z),this.counters.push(l),this.counters.push(l)}else for(let o=0;o<i.length;o+=3){const r=o/(i.length-1);this.positions.push(i[o],i[o+1],i[o+2]),this.positions.push(i[o],i[o+1],i[o+2]),this.counters.push(r),this.counters.push(r)}this.process()}compareV3(i,s){const o=i*6,r=s*6;return this.positions[o]===this.positions[r]&&this.positions[o+1]===this.positions[r+1]&&this.positions[o+2]===this.positions[r+2]}copyV3(i){const s=i*6;return[this.positions[s],this.positions[s+1],this.positions[s+2]]}process(){const i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let s,o;this.compareV3(0,i-1)?o=this.copyV3(i-2):o=this.copyV3(0),this.previous.push(o[0],o[1],o[2]),this.previous.push(o[0],o[1],o[2]);for(let r=0;r<i;r++){if(this.side.push(1),this.side.push(-1),this.widthCallback?s=this.widthCallback(r/(i-1)):s=1,this.width.push(s),this.width.push(s),this.uvs.push(r/(i-1),0),this.uvs.push(r/(i-1),1),r<i-1){o=this.copyV3(r),this.previous.push(o[0],o[1],o[2]),this.previous.push(o[0],o[1],o[2]);const l=r*2;this.indices_array.push(l,l+1,l+2),this.indices_array.push(l+2,l+1,l+3)}r>0&&(o=this.copyV3(r),this.next.push(o[0],o[1],o[2]),this.next.push(o[0],o[1],o[2]))}this.compareV3(i-1,0)?o=this.copyV3(1):o=this.copyV3(i-1),this.next.push(o[0],o[1],o[2]),this.next.push(o[0],o[1],o[2]),!this._attributes||this._attributes.position.count!==this.counters.length?this._attributes={position:new fi(new Float32Array(this.positions),3),previous:new fi(new Float32Array(this.previous),3),next:new fi(new Float32Array(this.next),3),side:new fi(new Float32Array(this.side),1),width:new fi(new Float32Array(this.width),1),uv:new fi(new Float32Array(this.uvs),2),index:new fi(new Uint16Array(this.indices_array),1),counters:new fi(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:i,y:s,z:o}){const r=this._attributes.position.array,l=this._attributes.previous.array,d=this._attributes.next.array,m=r.length;Pc(r,0,l,0,m),Pc(r,6,r,0,m-6),r[m-6]=i,r[m-5]=s,r[m-4]=o,r[m-3]=i,r[m-2]=s,r[m-1]=o,Pc(r,6,d,0,m-6),d[m-6]=i,d[m-5]=s,d[m-4]=o,d[m-3]=i,d[m-2]=s,d[m-1]=o,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const J2=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,P2=parseInt(hf.replace(/\D+/g,"")),$2=P2>=154?"colorspace_fragment":"encodings_fragment",eb=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${$2}>
  }
`;class tb extends dl{constructor(i){super({uniforms:{...ef.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new wn(16777215)},gradient:{value:[new wn(16711680),new wn(65280)]},opacity:{value:1},resolution:{value:new ua(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new ua(1,1)}},vertexShader:J2,fragmentShader:eb}),Lt(this,"lineWidth"),Lt(this,"map"),Lt(this,"useMap"),Lt(this,"alphaMap"),Lt(this,"useAlphaMap"),Lt(this,"color"),Lt(this,"gradient"),Lt(this,"resolution"),Lt(this,"sizeAttenuation"),Lt(this,"dashArray"),Lt(this,"dashOffset"),Lt(this,"dashRatio"),Lt(this,"useDash"),Lt(this,"useGradient"),Lt(this,"visibility"),Lt(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(s){this.uniforms.lineWidth.value=s}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(s){this.uniforms.map.value=s}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(s){this.uniforms.useMap.value=s}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(s){this.uniforms.alphaMap.value=s}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(s){this.uniforms.useAlphaMap.value=s}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(s){this.uniforms.color.value=s}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(s){this.uniforms.gradient.value=s}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(s){this.uniforms.opacity.value=s}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(s){this.uniforms.resolution.value.copy(s)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(s){this.uniforms.sizeAttenuation.value=s}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(s){this.uniforms.dashArray.value=s,this.useDash=s!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(s){this.uniforms.dashOffset.value=s}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(s){this.uniforms.dashRatio.value=s}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(s){this.uniforms.useDash.value=s}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(s){this.uniforms.useGradient.value=s}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(s){this.uniforms.visibility.value=s}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(s){this.uniforms.alphaTest.value=s}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(s){this.uniforms.repeat.value.copy(s)}}}),this.setValues(i)}copy(i){return super.copy(i),this.lineWidth=i.lineWidth,this.map=i.map,this.useMap=i.useMap,this.alphaMap=i.alphaMap,this.useAlphaMap=i.useAlphaMap,this.color.copy(i.color),this.gradient=i.gradient,this.opacity=i.opacity,this.resolution.copy(i.resolution),this.sizeAttenuation=i.sizeAttenuation,this.dashArray=i.dashArray,this.dashOffset=i.dashOffset,this.dashRatio=i.dashRatio,this.useDash=i.useDash,this.useGradient=i.useGradient,this.visibility=i.visibility,this.alphaTest=i.alphaTest,this.repeat.copy(i.repeat),this}}const D0={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},ab=(f,i=1)=>(f.set(f.subarray(i)),f.fill(-1/0,-i),f);function nb(f,i){const{length:s,local:o,decay:r,interval:l,stride:d}={...D0,...i},m=de.useRef(null),[h]=de.useState(()=>new dt);de.useLayoutEffect(()=>{f&&(m.current=Float32Array.from({length:s*10*3},(y,S)=>f.position.getComponent(S%3)))},[s,f]);const v=de.useRef(new dt),p=de.useRef(0);return lr(()=>{if(f&&m.current){if(p.current===0){let y;o?y=f.position:(f.getWorldPosition(h),y=h);const S=1*r;for(let E=0;E<S;E++)y.distanceTo(v.current)<d||(ab(m.current,3),m.current.set(y.toArray(),m.current.length-3));v.current.copy(y)}p.current++,p.current=p.current%l}}),m}const Fb=de.forwardRef((f,i)=>{const{children:s}=f,{width:o,length:r,decay:l,local:d,stride:m,interval:h}={...D0,...f},{color:v="hotpink",attenuation:p,target:y}=f,S=pa(C=>C.size),E=pa(C=>C.scene),A=de.useRef(null),[U,w]=de.useState(null),X=nb(U,{length:r,decay:l,local:d,stride:m,interval:h});de.useEffect(()=>{const C=y?.current||A.current.children.find(L=>L instanceof W1);C&&w(C)},[X,y]);const j=de.useMemo(()=>new W2,[]),D=de.useMemo(()=>{var C,L;const k=new tb({lineWidth:.1*o,color:v,sizeAttenuation:1,resolution:new ua(S.width,S.height)});let F;if(s)if(Array.isArray(s))F=s.find(M=>{const V=M;return typeof V.type=="string"&&V.type==="meshLineMaterial"});else{const M=s;typeof M.type=="string"&&M.type==="meshLineMaterial"&&(F=M)}return typeof((C=F)==null?void 0:C.props)=="object"&&((L=F)==null?void 0:L.props)!==null&&k.setValues(F.props),k},[o,v,S,s]);return de.useEffect(()=>{D.uniforms.resolution.value.set(S.width,S.height)},[S]),lr(()=>{X.current&&j.setPoints(X.current,p)}),de.createElement("group",null,Qm(de.createElement("mesh",{ref:i,geometry:j,material:D}),E),de.createElement("group",{ref:A},s))});function Xm(f,i,s){const o=pa(E=>E.size),r=pa(E=>E.viewport),l=typeof f=="number"?f:o.width*r.dpr,d=o.height*r.dpr,m=(typeof f=="number"?s:f)||{},{samples:h=0,depth:v,...p}=m,y=v??m.depthBuffer,S=de.useMemo(()=>{const E=new pf(l,d,{minFilter:Ja,magFilter:Ja,type:on,...p});return y&&(E.depthTexture=new J1(l,d,Vn)),E.samples=h,E},[]);return de.useLayoutEffect(()=>{S.setSize(l,d),h&&(S.samples=h)},[h,S,l,d]),de.useEffect(()=>()=>S.dispose(),[]),S}const jb=de.forwardRef(({makeDefault:f,camera:i,regress:s,domElement:o,enableDamping:r=!0,keyEvents:l=!1,onChange:d,onStart:m,onEnd:h,...v},p)=>{const y=pa(k=>k.invalidate),S=pa(k=>k.camera),E=pa(k=>k.gl),A=pa(k=>k.events),U=pa(k=>k.setEvents),w=pa(k=>k.set),X=pa(k=>k.get),j=pa(k=>k.performance),D=i||S,C=o||A.connected||E.domElement,L=de.useMemo(()=>new Yy(D),[D]);return lr(()=>{L.enabled&&L.update()},-1),de.useEffect(()=>(l&&L.connect(l===!0?C:l),L.connect(C),()=>void L.dispose()),[l,C,s,L,y]),de.useEffect(()=>{const k=V=>{y(),s&&j.regress(),d&&d(V)},F=V=>{m&&m(V)},M=V=>{h&&h(V)};return L.addEventListener("change",k),L.addEventListener("start",F),L.addEventListener("end",M),()=>{L.removeEventListener("start",F),L.removeEventListener("end",M),L.removeEventListener("change",k)}},[d,m,h,L,y,U]),de.useEffect(()=>{if(f){const k=X().controls;return w({controls:L}),()=>w({controls:k})}},[f,L]),de.createElement("primitive",Sn({ref:p,object:L,enableDamping:r},v))});var Bu={exports:{}},ib=Bu.exports,Zm;function lb(){return Zm||(Zm=1,(function(f,i){(function(s,o){f.exports=o()})(ib,function(){var s=function(){function o(E){return d.appendChild(E.dom),E}function r(E){for(var A=0;A<d.children.length;A++)d.children[A].style.display=A===E?"block":"none";l=E}var l=0,d=document.createElement("div");d.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",d.addEventListener("click",function(E){E.preventDefault(),r(++l%d.children.length)},!1);var m=(performance||Date).now(),h=m,v=0,p=o(new s.Panel("FPS","#0ff","#002")),y=o(new s.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var S=o(new s.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:d,addPanel:o,showPanel:r,begin:function(){m=(performance||Date).now()},end:function(){v++;var E=(performance||Date).now();if(y.update(E-m,200),E>h+1e3&&(p.update(1e3*v/(E-h),100),h=E,v=0,S)){var A=performance.memory;S.update(A.usedJSHeapSize/1048576,A.jsHeapSizeLimit/1048576)}return E},update:function(){m=this.end()},domElement:d,setMode:r}};return s.Panel=function(o,r,l){var d=1/0,m=0,h=Math.round,v=h(window.devicePixelRatio||1),p=80*v,y=48*v,S=3*v,E=2*v,A=3*v,U=15*v,w=74*v,X=30*v,j=document.createElement("canvas");j.width=p,j.height=y,j.style.cssText="width:80px;height:48px";var D=j.getContext("2d");return D.font="bold "+9*v+"px Helvetica,Arial,sans-serif",D.textBaseline="top",D.fillStyle=l,D.fillRect(0,0,p,y),D.fillStyle=r,D.fillText(o,S,E),D.fillRect(A,U,w,X),D.fillStyle=l,D.globalAlpha=.9,D.fillRect(A,U,w,X),{dom:j,update:function(C,L){d=Math.min(d,C),m=Math.max(m,C),D.fillStyle=l,D.globalAlpha=1,D.fillRect(0,0,p,U),D.fillStyle=r,D.fillText(h(C)+" "+o+" ("+h(d)+"-"+h(m)+")",S,E),D.drawImage(j,A+v,U,w-v,X,A,U,w-v,X),D.fillRect(A+w-v,U,v,X),D.fillStyle=l,D.globalAlpha=.9,D.fillRect(A+w-v,U,v,h((1-C/L)*X))}}},s})})(Bu)),Bu.exports}var rb=lb();const ob=B1(rb);function ub(f,i=[],s){const[o,r]=de.useState();return de.useLayoutEffect(()=>{const l=f();return r(l),()=>void 0},i),o}function Vb({showPanel:f=0,className:i,parent:s}){const o=ub(()=>new ob,[]);return de.useEffect(()=>{if(o){const r=s&&s.current||document.body;o.showPanel(f),r?.appendChild(o.dom);const l=(i??"").split(" ").filter(h=>h);l.length&&o.dom.classList.add(...l);const d=L1(()=>o.begin()),m=N1(()=>o.end());return()=>{l.length&&o.dom.classList.remove(...l),r?.removeChild(o.dom),d(),m()}}},[s,o,i,f]),null}const sb=X2({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");class cb extends tg{constructor(i=6,s=!1){super(),this.uniforms={chromaticAberration:{value:.05},transmission:{value:0},_transmission:{value:1},transmissionMap:{value:null},roughness:{value:0},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:1/0},attenuationColor:{value:new wn("white")},anisotropicBlur:{value:.1},time:{value:0},distortion:{value:0},distortionScale:{value:.5},temporalDistortion:{value:0},buffer:{value:null}},this.onBeforeCompile=o=>{o.uniforms={...o.uniforms,...this.uniforms},this.anisotropy>0&&(o.defines.USE_ANISOTROPY=""),s?o.defines.USE_SAMPLER="":o.defines.USE_TRANSMISSION="",o.fragmentShader=`
      uniform float chromaticAberration;         
      uniform float anisotropicBlur;      
      uniform float time;
      uniform float distortion;
      uniform float distortionScale;
      uniform float temporalDistortion;
      uniform sampler2D buffer;

      vec3 random3(vec3 c) {
        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
        vec3 r;
        r.z = fract(512.0*j);
        j *= .125;
        r.x = fract(512.0*j);
        j *= .125;
        r.y = fract(512.0*j);
        return r-0.5;
      }

      uint hash( uint x ) {
        x += ( x << 10u );
        x ^= ( x >>  6u );
        x += ( x <<  3u );
        x ^= ( x >> 11u );
        x += ( x << 15u );
        return x;
      }

      // Compound versions of the hashing algorithm I whipped together.
      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }
      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }
      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }

      // Construct a float with half-open range [0:1] using low 23 bits.
      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.
      float floatConstruct( uint m ) {
        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask
        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32
        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)
        m |= ieeeOne;                          // Add fractional part to 1.0
        float  f = uintBitsToFloat( m );       // Range [1:2]
        return f - 1.0;                        // Range [0:1]
      }

      // Pseudo-random value in half-open range [0:1].
      float randomBase( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }
      float randomBase( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float randomBase( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float randomBase( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float rand(float seed) {
        float result = randomBase(vec3(gl_FragCoord.xy, seed));
        return result;
      }

      const float F3 =  0.3333333;
      const float G3 =  0.1666667;

      float snoise(vec3 p) {
        vec3 s = floor(p + dot(p, vec3(F3)));
        vec3 x = p - s + dot(s, vec3(G3));
        vec3 e = step(vec3(0.0), x - x.yzx);
        vec3 i1 = e*(1.0 - e.zxy);
        vec3 i2 = 1.0 - e.zxy*(1.0 - e);
        vec3 x1 = x - i1 + G3;
        vec3 x2 = x - i2 + 2.0*G3;
        vec3 x3 = x - 1.0 + 3.0*G3;
        vec4 w, d;
        w.x = dot(x, x);
        w.y = dot(x1, x1);
        w.z = dot(x2, x2);
        w.w = dot(x3, x3);
        w = max(0.6 - w, 0.0);
        d.x = dot(random3(s), x);
        d.y = dot(random3(s + i1), x1);
        d.z = dot(random3(s + i2), x2);
        d.w = dot(random3(s + 1.0), x3);
        w *= w;
        w *= w;
        d *= w;
        return dot(d, vec4(52.0));
      }

      float snoiseFractal(vec3 m) {
        return 0.5333333* snoise(m)
              +0.2666667* snoise(2.0*m)
              +0.1333333* snoise(4.0*m)
              +0.0666667* snoise(8.0*m);
      }
`+o.fragmentShader,o.fragmentShader=o.fragmentShader.replace("#include <transmission_pars_fragment>",`
        #ifdef USE_TRANSMISSION
          // Transmission code is based on glTF-Sampler-Viewer
          // https://github.com/KhronosGroup/glTF-Sample-Viewer
          uniform float _transmission;
          uniform float thickness;
          uniform float attenuationDistance;
          uniform vec3 attenuationColor;
          #ifdef USE_TRANSMISSIONMAP
            uniform sampler2D transmissionMap;
          #endif
          #ifdef USE_THICKNESSMAP
            uniform sampler2D thicknessMap;
          #endif
          uniform vec2 transmissionSamplerSize;
          uniform sampler2D transmissionSamplerMap;
          uniform mat4 modelMatrix;
          uniform mat4 projectionMatrix;
          varying vec3 vWorldPosition;
          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
            // Direction of refracted light.
            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
            // Compute rotation-independant scaling of the model matrix.
            vec3 modelScale;
            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
            // The thickness is specified in local space.
            return normalize( refractionVector ) * thickness * modelScale;
          }
          float applyIorToRoughness( const in float roughness, const in float ior ) {
            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
            // an IOR of 1.5 results in the default amount of microfacet refraction.
            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
          }
          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            
            #ifdef USE_SAMPLER
              #ifdef texture2DLodEXT
                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #else
                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #endif
            #else
              return texture2D(buffer, fragCoord.xy);
            #endif
          }
          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
            if ( isinf( attenuationDistance ) ) {
              // Attenuation distance is +, i.e. the transmitted color is not attenuated at all.
              return radiance;
            } else {
              // Compute light attenuation using Beer's law.
              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law
              return transmittance * radiance;
            }
          }
          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
            const in vec3 attenuationColor, const in float attenuationDistance ) {
            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
            vec3 refractedRayExit = position + transmissionRay;
            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
            vec2 refractionCoords = ndcPos.xy / ndcPos.w;
            refractionCoords += 1.0;
            refractionCoords /= 2.0;
            // Sample framebuffer to get pixel the refracted ray hits.
            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
            // Get the specular component.
            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
          }
        #endif
`),o.fragmentShader=o.fragmentShader.replace("#include <transmission_fragment>",`  
        // Improve the refraction to use the world pos
        material.transmission = _transmission;
        material.transmissionAlpha = 1.0;
        material.thickness = thickness;
        material.attenuationDistance = attenuationDistance;
        material.attenuationColor = attenuationColor;
        #ifdef USE_TRANSMISSIONMAP
          material.transmission *= texture2D( transmissionMap, vUv ).r;
        #endif
        #ifdef USE_THICKNESSMAP
          material.thickness *= texture2D( thicknessMap, vUv ).g;
        #endif
        
        vec3 pos = vWorldPosition;
        float runningSeed = 0.0;
        vec3 v = normalize( cameraPosition - pos );
        vec3 n = inverseTransformDirection( normal, viewMatrix );
        vec3 transmission = vec3(0.0);
        float transmissionR, transmissionB, transmissionG;
        float randomCoords = rand(runningSeed++);
        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);
        vec3 distortionNormal = vec3(0.0);
        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;
        if (distortion > 0.0) {
          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));
        }
        for (float i = 0.0; i < ${i}.0; i ++) {
          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5)) * pow(rand(runningSeed++), 0.33) + distortionNormal);
          transmissionR = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${i}),
            material.attenuationColor, material.attenuationDistance
          ).r;
          transmissionG = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${i})) , material.thickness + thickness_smear * (i + randomCoords) / float(${i}),
            material.attenuationColor, material.attenuationDistance
          ).g;
          transmissionB = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${i})), material.thickness + thickness_smear * (i + randomCoords) / float(${i}),
            material.attenuationColor, material.attenuationDistance
          ).b;
          transmission.r += transmissionR;
          transmission.g += transmissionG;
          transmission.b += transmissionB;
        }
        transmission /= ${i}.0;
        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
`)},Object.keys(this.uniforms).forEach(o=>Object.defineProperty(this,o,{get:()=>this.uniforms[o].value,set:r=>this.uniforms[o].value=r}))}}const Yb=de.forwardRef(({buffer:f,transmissionSampler:i=!1,backside:s=!1,side:o=eg,transmission:r=1,thickness:l=0,backsideThickness:d=0,backsideEnvMapIntensity:m=1,samples:h=10,resolution:v,backsideResolution:p,background:y,anisotropy:S,anisotropicBlur:E,...A},U)=>{ff({MeshTransmissionMaterial:cb});const w=de.useRef(null),[X]=de.useState(()=>new sb),j=Xm(p||v),D=Xm(v);let C,L,k,F;return lr(M=>{if(w.current.time=M.clock.elapsedTime,w.current.buffer===D.texture&&!i){var V;F=(V=w.current.__r3f.parent)==null?void 0:V.object,F&&(k=M.gl.toneMapping,C=M.scene.background,L=w.current.envMapIntensity,M.gl.toneMapping=P1,y&&(M.scene.background=y),F.material=X,s&&(M.gl.setRenderTarget(j),M.gl.render(M.scene,M.camera),F.material=w.current,F.material.buffer=j.texture,F.material.thickness=d,F.material.side=$1,F.material.envMapIntensity=m),M.gl.setRenderTarget(D),M.gl.render(M.scene,M.camera),F.material=w.current,F.material.thickness=l,F.material.side=o,F.material.buffer=D.texture,F.material.envMapIntensity=L,M.scene.background=C,M.gl.setRenderTarget(null),M.gl.toneMapping=k)}}),de.useImperativeHandle(U,()=>w.current,[]),de.createElement("meshTransmissionMaterial",Sn({args:[h,i],ref:w},A,{buffer:f||D.texture,_transmission:r,anisotropicBlur:E??S,transmission:i?r:0,thickness:l,side:o}))});function Sf(f,i){const s=f+"Geometry";return de.forwardRef(({args:o,children:r,...l},d)=>{const m=de.useRef(null);return de.useImperativeHandle(d,()=>m.current),de.useLayoutEffect(()=>void i?.(m.current)),de.createElement("mesh",Sn({ref:m},l),de.createElement(s,{attach:"geometry",args:o}),r)})}const Xb=Sf("box"),Zb=Sf("cone"),qb=Sf("sphere"),Fn=1e-5;function fb(f,i,s){const o=new ag,r=s-Fn;return o.absarc(Fn,Fn,Fn,-Math.PI/2,-Math.PI,!0),o.absarc(Fn,i-r*2,Fn,Math.PI,Math.PI/2,!0),o.absarc(f-r*2,i-r*2,Fn,Math.PI/2,0,!0),o.absarc(f-r*2,Fn,Fn,0,-Math.PI/2,!0),o}const Ib=de.forwardRef(function({args:[i=1,s=1,o=1]=[],radius:r=.05,steps:l=1,smoothness:d=4,bevelSegments:m=4,creaseAngle:h=.4,children:v,...p},y){return de.createElement("mesh",Sn({ref:y},p),de.createElement(hb,{args:[i,s,o],radius:r,steps:l,smoothness:d,bevelSegments:m,creaseAngle:h}),v)}),hb=de.forwardRef(function({args:[i=1,s=1,o=1]=[],radius:r=.05,steps:l=1,smoothness:d=4,bevelSegments:m=4,creaseAngle:h=.4,...v},p){const y=de.useMemo(()=>fb(i,s,r),[i,s,r]),S=de.useMemo(()=>({depth:o-r*2,bevelEnabled:!0,bevelSegments:m*2,steps:l,bevelSize:r-Fn,bevelThickness:r,curveSegments:d}),[o,r,d,m,l]),E=de.useRef(null);return de.useLayoutEffect(()=>{E.current&&(E.current.center(),Sy(E.current,h))},[y,S,h]),de.useImperativeHandle(p,()=>E.current),de.createElement("extrudeGeometry",Sn({ref:E,args:[y,S]},v))}),O0=(f,i,s)=>{let o;switch(f){case af:o=new Uint8ClampedArray(i*s*4);break;case on:o=new Uint16Array(i*s*4);break;case ug:o=new Uint32Array(i*s*4);break;case og:o=new Int8Array(i*s*4);break;case rg:o=new Int16Array(i*s*4);break;case lg:o=new Int32Array(i*s*4);break;case Vn:o=new Float32Array(i*s*4);break;default:throw new Error("Unsupported data type")}return o};let wu;const db=(f,i,s,o)=>{if(wu!==void 0)return wu;const r=new pf(1,1,o);i.setRenderTarget(r);const l=new hl(new ro,new Pm({color:16777215}));i.render(l,s),i.setRenderTarget(null);const d=O0(f,r.width,r.height);return i.readRenderTargetPixels(r,0,0,r.width,r.height,d),r.dispose(),l.geometry.dispose(),l.material.dispose(),wu=d[0]!==0,wu};class _f{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(i){this._width=i.width,this._height=i.height,this._type=i.type,this._colorSpace=i.colorSpace;const s={format:no,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:i.renderTargetOptions?.anisotropy!==void 0?i.renderTargetOptions?.anisotropy:1,generateMipmaps:i.renderTargetOptions?.generateMipmaps!==void 0?i.renderTargetOptions?.generateMipmaps:!1,magFilter:i.renderTargetOptions?.magFilter!==void 0?i.renderTargetOptions?.magFilter:Ja,minFilter:i.renderTargetOptions?.minFilter!==void 0?i.renderTargetOptions?.minFilter:Ja,samples:i.renderTargetOptions?.samples!==void 0?i.renderTargetOptions?.samples:void 0,wrapS:i.renderTargetOptions?.wrapS!==void 0?i.renderTargetOptions?.wrapS:Hi,wrapT:i.renderTargetOptions?.wrapT!==void 0?i.renderTargetOptions?.wrapT:Hi};if(this._material=i.material,i.renderer?this._renderer=i.renderer:(this._renderer=_f.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new e0,this._camera=new Du,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!db(this._type,this._renderer,this._camera,s)){let o;switch(this._type){case on:o=this._renderer.extensions.has("EXT_color_buffer_float")?Vn:void 0;break}o!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Vn}`),this._type=o):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new hl(new ro,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new pf(this.width,this.height,s),this._renderTarget.texture.mapping=i.renderTargetOptions?.mapping!==void 0?i.renderTargetOptions?.mapping:Gu}static instantiateRenderer(){const i=new ng;return i.setSize(128,128),i}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(i){throw this._renderer.setRenderTarget(null),i}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const i=O0(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,i),i}toDataTexture(i){const s=new ig(this.toArray(),this.width,this.height,no,this._type,i?.mapping||Gu,i?.wrapS||Hi,i?.wrapT||Hi,i?.magFilter||Ja,i?.minFilter||Ja,i?.anisotropy||1,tf);return s.generateMipmaps=i?.generateMipmaps!==void 0?i?.generateMipmaps:!1,s}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(i){this.disposeOnDemandRenderer(),i&&this.renderTarget.dispose(),this.material instanceof dl&&Object.values(this.material.uniforms).forEach(s=>{s.value instanceof sl&&s.value.dispose()}),Object.values(this.material).forEach(s=>{s instanceof sl&&s.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(i){this._width=i,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(i){this._height=i,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(i){this._renderTarget=i,this._width=i.width,this._height=i.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class C0 extends Error{}class z0 extends Error{}const Jr=(f,i,s)=>{const o=new RegExp(`${i}="([^"]*)"`,"i").exec(f);if(o)return o[1];const r=new RegExp(`<${i}[^>]*>([\\s\\S]*?)</${i}>`,"i").exec(f);if(r){const l=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return l&&l.length===3?l.map(d=>d.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(s!==void 0)return s;throw new Error(`Can't find ${i} in gainmap metadata`)},vb=f=>{let i;typeof TextDecoder<"u"?i=new TextDecoder().decode(f):i=f.toString();let s=i.indexOf("<x:xmpmeta");for(;s!==-1;){const o=i.indexOf("x:xmpmeta>",s),r=i.slice(s,o+10);try{const l=Jr(r,"hdrgm:GainMapMin","0"),d=Jr(r,"hdrgm:GainMapMax"),m=Jr(r,"hdrgm:Gamma","1"),h=Jr(r,"hdrgm:OffsetSDR","0.015625"),v=Jr(r,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),y=p?p[1]:"0",S=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!S)throw new Error("Incomplete gainmap metadata");const E=S[1];return{gainMapMin:Array.isArray(l)?l.map(A=>parseFloat(A)):[parseFloat(l),parseFloat(l),parseFloat(l)],gainMapMax:Array.isArray(d)?d.map(A=>parseFloat(A)):[parseFloat(d),parseFloat(d),parseFloat(d)],gamma:Array.isArray(m)?m.map(A=>parseFloat(A)):[parseFloat(m),parseFloat(m),parseFloat(m)],offsetSdr:Array.isArray(h)?h.map(A=>parseFloat(A)):[parseFloat(h),parseFloat(h),parseFloat(h)],offsetHdr:Array.isArray(v)?v.map(A=>parseFloat(A)):[parseFloat(v),parseFloat(v),parseFloat(v)],hdrCapacityMin:parseFloat(y),hdrCapacityMax:parseFloat(E)}}catch{}s=i.indexOf("<x:xmpmeta",o)}};class mb{options;constructor(i){this.options={debug:i&&i.debug!==void 0?i.debug:!1,extractFII:i&&i.extractFII!==void 0?i.extractFII:!0,extractNonFII:i&&i.extractNonFII!==void 0?i.extractNonFII:!0}}extract(i){return new Promise((s,o)=>{const r=this.options.debug,l=new DataView(i.buffer);if(l.getUint16(0)!==65496){o(new Error("Not a valid jpeg"));return}const d=l.byteLength;let m=2,h=0,v;for(;m<d;){if(++h>250){o(new Error(`Found no marker after ${h} loops `));return}if(l.getUint8(m)!==255){o(new Error(`Not a valid marker at offset 0x${m.toString(16)}, found: 0x${l.getUint8(m).toString(16)}`));return}if(v=l.getUint8(m+1),r&&console.log(`Marker: ${v.toString(16)}`),v===226){r&&console.log("Found APP2 marker (0xffe2)");const p=m+4;if(l.getUint32(p)===1297106432){const y=p+4;let S;if(l.getUint16(y)===18761)S=!1;else if(l.getUint16(y)===19789)S=!0;else{o(new Error("No valid endianness marker found in TIFF header"));return}if(l.getUint16(y+2,!S)!==42){o(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const E=l.getUint32(y+4,!S);if(E<8){o(new Error("Not valid TIFF data! (First offset less than 8)"));return}const A=y+E,U=l.getUint16(A,!S),w=A+2;let X=0;for(let L=w;L<w+12*U;L+=12)l.getUint16(L,!S)===45057&&(X=l.getUint32(L+8,!S));const D=A+2+U*12+4,C=[];for(let L=D;L<D+X*16;L+=16){const k={MPType:l.getUint32(L,!S),size:l.getUint32(L+4,!S),dataOffset:l.getUint32(L+8,!S),dependantImages:l.getUint32(L+12,!S),start:-1,end:-1,isFII:!1};k.dataOffset?(k.start=y+k.dataOffset,k.isFII=!1):(k.start=0,k.isFII=!0),k.end=k.start+k.size,C.push(k)}if(this.options.extractNonFII&&C.length){const L=new Blob([l]),k=[];for(const F of C){if(F.isFII&&!this.options.extractFII)continue;const M=L.slice(F.start,F.end+1,"image/jpeg");k.push(M)}s(k)}}}m+=2+l.getUint16(m+2)}})}}const pb=async f=>{const i=vb(f);if(!i)throw new z0("Gain map XMP metadata not found");const o=await new mb({extractFII:!0,extractNonFII:!0}).extract(f);if(o.length!==2)throw new C0("Gain map recovery image not found");return{sdr:new Uint8Array(await o[0].arrayBuffer()),gainMap:new Uint8Array(await o[1].arrayBuffer()),metadata:i}},qm=f=>new Promise((i,s)=>{const o=document.createElement("img");o.onload=()=>{i(o)},o.onerror=r=>{s(r)},o.src=URL.createObjectURL(f)});class gb extends sg{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(i,s){super(s),this._config=i,i.renderer&&(this._renderer=i.renderer),this._internalLoadingManager=new cg}setRenderer(i){return this._renderer=i,this}setRenderTargetOptions(i){return this._renderTargetOptions=i,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const i=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new sl,sdr:new sl});return this._config.createQuadRenderer({width:16,height:16,type:on,colorSpace:tf,material:i,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(i,s,o){const r=s?new Blob([s],{type:"image/jpeg"}):void 0,l=new Blob([i],{type:"image/jpeg"});let d,m,h=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([r?qm(r):Promise.resolve(void 0),qm(l)]);m=v[0],d=v[1],h=o==="flipY"}else{const v=await Promise.all([r?createImageBitmap(r,{imageOrientation:o||"flipY"}):Promise.resolve(void 0),createImageBitmap(l,{imageOrientation:o||"flipY"})]);m=v[0],d=v[1]}return{sdrImage:d,gainMapImage:m,needsFlip:h}}createTextures(i,s,o){const r=new sl(s||new ImageData(2,2),Gu,Hi,Hi,Ja,lm,no,af,1,tf);r.flipY=o,r.needsUpdate=!0;const l=new sl(i,Gu,Hi,Hi,Ja,lm,no,af,1,fg);return l.flipY=o,l.needsUpdate=!0,{gainMap:r,sdr:l}}updateQuadRenderer(i,s,o,r,l){i.width=s.width,i.height=s.height,i.material.gainMap=o,i.material.sdr=r,i.material.gainMapMin=l.gainMapMin,i.material.gainMapMax=l.gainMapMax,i.material.offsetHdr=l.offsetHdr,i.material.offsetSdr=l.offsetSdr,i.material.gamma=l.gamma,i.material.hdrCapacityMin=l.hdrCapacityMin,i.material.hdrCapacityMax=l.hdrCapacityMax,i.material.maxDisplayBoost=Math.pow(2,l.hdrCapacityMax),i.material.needsUpdate=!0}}const yb=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,bb=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Sb extends dl{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:i,offsetHdr:s,offsetSdr:o,gainMapMin:r,gainMapMax:l,maxDisplayBoost:d,hdrCapacityMin:m,hdrCapacityMax:h,sdr:v,gainMap:p}){super({name:"GainMapDecoderMaterial",vertexShader:yb,fragmentShader:bb,uniforms:{sdr:{value:v},gainMap:{value:p},gamma:{value:new dt(1/i[0],1/i[1],1/i[2])},offsetHdr:{value:new dt().fromArray(s)},offsetSdr:{value:new dt().fromArray(o)},gainMapMin:{value:new dt().fromArray(r)},gainMapMax:{value:new dt().fromArray(l)},weightFactor:{value:(Math.log2(d)-m)/(h-m)}},blending:hg,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=d,this._hdrCapacityMin=m,this._hdrCapacityMax=h,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(i){this.uniforms.sdr.value=i}get gainMap(){return this.uniforms.gainMap.value}set gainMap(i){this.uniforms.gainMap.value=i}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(i){this.uniforms.offsetHdr.value.fromArray(i)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(i){this.uniforms.offsetSdr.value.fromArray(i)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(i){this.uniforms.gainMapMin.value.fromArray(i)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(i){this.uniforms.gainMapMax.value.fromArray(i)}get gamma(){const i=this.uniforms.gamma.value;return[1/i.x,1/i.y,1/i.z]}set gamma(i){const s=this.uniforms.gamma.value;s.x=1/i[0],s.y=1/i[1],s.z=1/i[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(i){this._hdrCapacityMin=i,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(i){this._hdrCapacityMax=i,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(i){this._maxDisplayBoost=Math.max(1,Math.min(65504,i)),this.calculateWeight()}calculateWeight(){const i=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,i))}}class R0 extends gb{constructor(i,s){super({renderer:i,createMaterial:o=>new Sb(o),createQuadRenderer:o=>new _f(o)},s)}async render(i,s,o,r){const{sdrImage:l,gainMapImage:d,needsFlip:m}=await this.processImages(o,r,"flipY"),{gainMap:h,sdr:v}=this.createTextures(l,d,m);this.updateQuadRenderer(i,l,h,v,s),i.render()}}class _b extends R0{load([i,s,o],r,l,d){const m=this.prepareQuadRenderer();let h,v,p;const y=async()=>{if(h&&v&&p){try{await this.render(m,p,h,v)}catch(V){this.manager.itemError(i),this.manager.itemError(s),this.manager.itemError(o),typeof d=="function"&&d(V),m.disposeOnDemandRenderer();return}typeof r=="function"&&r(m),this.manager.itemEnd(i),this.manager.itemEnd(s),this.manager.itemEnd(o),m.disposeOnDemandRenderer()}};let S=!0,E=0,A=0,U=!0,w=0,X=0,j=!0,D=0,C=0;const L=()=>{if(typeof l=="function"){const V=E+w+D,q=A+X+C,Se=S&&U&&j;l(new ProgressEvent("progress",{lengthComputable:Se,loaded:q,total:V}))}};this.manager.itemStart(i),this.manager.itemStart(s),this.manager.itemStart(o);const k=new Ou(this._internalLoadingManager);k.setResponseType("arraybuffer"),k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(i,async V=>{if(typeof V=="string")throw new Error("Invalid sdr buffer");h=V,await y()},V=>{S=V.lengthComputable,A=V.loaded,E=V.total,L()},V=>{this.manager.itemError(i),typeof d=="function"&&d(V)});const F=new Ou(this._internalLoadingManager);F.setResponseType("arraybuffer"),F.setRequestHeader(this.requestHeader),F.setPath(this.path),F.setWithCredentials(this.withCredentials),F.load(s,async V=>{if(typeof V=="string")throw new Error("Invalid gainmap buffer");v=V,await y()},V=>{U=V.lengthComputable,X=V.loaded,w=V.total,L()},V=>{this.manager.itemError(s),typeof d=="function"&&d(V)});const M=new Ou(this._internalLoadingManager);return M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(o,async V=>{if(typeof V!="string")throw new Error("Invalid metadata string");p=JSON.parse(V),await y()},V=>{j=V.lengthComputable,C=V.loaded,D=V.total,L()},V=>{this.manager.itemError(o),typeof d=="function"&&d(V)}),m}}class Eb extends R0{load(i,s,o,r){const l=this.prepareQuadRenderer(),d=new Ou(this._internalLoadingManager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(this.withCredentials),this.manager.itemStart(i),d.load(i,async m=>{if(typeof m=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const h=new Uint8Array(m);let v,p,y;try{const S=await pb(h);v=S.sdr,p=S.gainMap,y=S.metadata}catch(S){if(S instanceof z0||S instanceof C0)console.warn(`Failure to reconstruct an HDR image from ${i}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),y={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},v=h;else throw S}try{await this.render(l,y,v.buffer,p?.buffer)}catch(S){this.manager.itemError(i),typeof r=="function"&&r(S),l.disposeOnDemandRenderer();return}typeof s=="function"&&s(l),this.manager.itemEnd(i),l.disposeOnDemandRenderer()},o,m=>{this.manager.itemError(i),typeof r=="function"&&r(m)}),l}}const io={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},B0="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",ir=f=>Array.isArray(f),Ef=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Vu({files:f=Ef,path:i="",preset:s=void 0,colorSpace:o=void 0,extensions:r}={}){s&&(Tf(s),f=io[s],i=B0);const l=ir(f),{extension:d,isCubemap:m}=Af(f),h=Mf(d);if(!h)throw new Error("useEnvironment: Unrecognized file extension: "+f);const v=pa(E=>E.gl);de.useLayoutEffect(()=>{if(d!=="webp"&&d!=="jpg"&&d!=="jpeg")return;function E(){Lu.clear(h,l?[f]:f)}v.domElement.addEventListener("webglcontextlost",E,{once:!0})},[f,v.domElement]);const p=Lu(h,l?[f]:f,E=>{(d==="webp"||d==="jpg"||d==="jpeg")&&E.setRenderer(v),E.setPath==null||E.setPath(i),r&&r(E)});let y=l?p[0]:p;if(d==="jpg"||d==="jpeg"||d==="webp"){var S;y=(S=y.renderTarget)==null?void 0:S.texture}return y.mapping=m?dg:vg,y.colorSpace=o??(m?"srgb":"srgb-linear"),y}const Tb={files:Ef,path:"",preset:void 0,extensions:void 0};Vu.preload=f=>{const i={...Tb,...f};let{files:s,path:o=""}=i;const{preset:r,extensions:l}=i;r&&(Tf(r),s=io[r],o=B0);const{extension:d}=Af(s);if(d==="webp"||d==="jpg"||d==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const m=Mf(d);if(!m)throw new Error("useEnvironment: Unrecognized file extension: "+s);Lu.preload(m,ir(s)?[s]:s,h=>{h.setPath==null||h.setPath(o),l&&l(h)})};const Ab={files:Ef,preset:void 0};Vu.clear=f=>{const i={...Ab,...f};let{files:s}=i;const{preset:o}=i;o&&(Tf(o),s=io[o]);const{extension:r}=Af(s),l=Mf(r);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+s);Lu.clear(l,ir(s)?[s]:s)};function Tf(f){if(!(f in io))throw new Error("Preset must be one of: "+Object.keys(io).join(", "))}function Af(f){var i;const s=ir(f)&&f.length===6,o=ir(f)&&f.length===3&&f.some(d=>d.endsWith("json")),r=ir(f)?f[0]:f;return{extension:s?"cube":o?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(i=r.split(".").pop())==null||(i=i.split("?"))==null||(i=i.shift())==null?void 0:i.toLowerCase(),isCubemap:s,isGainmap:o}}function Mf(f){return f==="cube"?mg:f==="hdr"?Xy:f==="exr"?Zy:f==="jpg"||f==="jpeg"?Eb:f==="webp"?_b:null}const Mb=f=>f.current&&f.current.isScene,xb=f=>Mb(f)?f.current:f;function xf(f,i,s,o,r={}){var l,d,m,h;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const v=xb(i||s),p=v.background,y=v.environment,S={backgroundBlurriness:v.backgroundBlurriness,backgroundIntensity:v.backgroundIntensity,backgroundRotation:(l=(d=v.backgroundRotation)==null||d.clone==null?void 0:d.clone())!==null&&l!==void 0?l:[0,0,0],environmentIntensity:v.environmentIntensity,environmentRotation:(m=(h=v.environmentRotation)==null||h.clone==null?void 0:h.clone())!==null&&m!==void 0?m:[0,0,0]};return f!=="only"&&(v.environment=o),f&&(v.background=o),tm(v,r),()=>{f!=="only"&&(v.environment=y),f&&(v.background=p),tm(v,S)}}function Uf({scene:f,background:i=!1,map:s,...o}){const r=pa(l=>l.scene);return de.useLayoutEffect(()=>{if(s)return xf(i,f,r,s,o)}),null}function L0({background:f=!1,scene:i,blur:s,backgroundBlurriness:o,backgroundIntensity:r,backgroundRotation:l,environmentIntensity:d,environmentRotation:m,...h}){const v=Vu(h),p=pa(y=>y.scene);return de.useLayoutEffect(()=>xf(f,i,p,v,{backgroundBlurriness:s??o,backgroundIntensity:r,backgroundRotation:l,environmentIntensity:d,environmentRotation:m})),de.useEffect(()=>()=>{v.dispose()},[v]),null}function Ub({children:f,near:i=.1,far:s=1e3,resolution:o=256,frames:r=1,map:l,background:d=!1,blur:m,backgroundBlurriness:h,backgroundIntensity:v,backgroundRotation:p,environmentIntensity:y,environmentRotation:S,scene:E,files:A,path:U,preset:w=void 0,extensions:X}){const j=pa(M=>M.gl),D=pa(M=>M.scene),C=de.useRef(null),[L]=de.useState(()=>new e0),k=de.useMemo(()=>{const M=new pg(o);return M.texture.type=on,M},[o]);de.useEffect(()=>()=>{k.dispose()},[k]),de.useLayoutEffect(()=>{if(r===1){const M=j.autoClear;j.autoClear=!0,C.current.update(j,L),j.autoClear=M}return xf(d,E,D,k.texture,{backgroundBlurriness:m??h,backgroundIntensity:v,backgroundRotation:p,environmentIntensity:y,environmentRotation:S})},[f,L,k.texture,E,D,d,r,j]);let F=1;return lr(()=>{if(r===1/0||F<r){const M=j.autoClear;j.autoClear=!0,C.current.update(j,L),j.autoClear=M,F++}}),de.createElement(de.Fragment,null,Qm(de.createElement(de.Fragment,null,f,de.createElement("cubeCamera",{ref:C,args:[i,s,k]}),A||w?de.createElement(L0,{background:!0,files:A,preset:w,path:U,extensions:X}):l?de.createElement(Uf,{background:!0,map:l,extensions:X}):null),L))}function wb(f){var i,s,o,r;const l=Vu(f),d=f.map||l;de.useMemo(()=>ff({GroundProjectedEnvImpl:Ly}),[]),de.useEffect(()=>()=>{l.dispose()},[l]);const m=de.useMemo(()=>[d],[d]),h=(i=f.ground)==null?void 0:i.height,v=(s=f.ground)==null?void 0:s.radius,p=(o=(r=f.ground)==null?void 0:r.scale)!==null&&o!==void 0?o:1e3;return de.createElement(de.Fragment,null,de.createElement(Uf,Sn({},f,{map:d})),de.createElement("groundProjectedEnvImpl",{args:m,scale:p,height:h,radius:v}))}function Qb(f){return f.ground?de.createElement(wb,f):f.map?de.createElement(Uf,f):f.children?de.createElement(Ub,f):de.createElement(L0,f)}class Db extends dl{constructor(){super({uniforms:{time:{value:0},pixelRatio:{value:1}},vertexShader:`
        uniform float pixelRatio;
        uniform float time;
        attribute float size;  
        attribute float speed;  
        attribute float opacity;
        attribute vec3 noise;
        attribute vec3 color;
        varying vec3 vColor;
        varying float vOpacity;

        void main() {
          vec4 modelPosition = modelMatrix * vec4(position, 1.0);
          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
          vec4 viewPosition = viewMatrix * modelPosition;
          vec4 projectionPostion = projectionMatrix * viewPosition;
          gl_Position = projectionPostion;
          gl_PointSize = size * 25. * pixelRatio;
          gl_PointSize *= (1.0 / - viewPosition.z);
          vColor = color;
          vOpacity = opacity;
        }
      `,fragmentShader:`
        varying vec3 vColor;
        varying float vOpacity;
        void main() {
          float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
          float strength = 0.05 / distanceToCenter - 0.1;
          gl_FragColor = vec4(vColor, strength * vOpacity);
          #include <tonemapping_fragment>
          #include <${q2>=154?"colorspace_fragment":"encodings_fragment"}>
        }
      `})}get time(){return this.uniforms.time.value}set time(i){this.uniforms.time.value=i}get pixelRatio(){return this.uniforms.pixelRatio.value}set pixelRatio(i){this.uniforms.pixelRatio.value=i}}const N0=f=>f&&f.constructor===Float32Array,Ob=f=>[f.r,f.g,f.b],G0=f=>f instanceof ua||f instanceof dt||f instanceof hi,k0=f=>Array.isArray(f)?f:G0(f)?f.toArray():[f,f,f];function Pr(f,i,s){return de.useMemo(()=>{if(i!==void 0){if(N0(i))return i;if(i instanceof wn){const o=Array.from({length:f*3},()=>Ob(i)).flat();return Float32Array.from(o)}else if(G0(i)||Array.isArray(i)){const o=Array.from({length:f*3},()=>k0(i)).flat();return Float32Array.from(o)}return Float32Array.from({length:f},()=>i)}return Float32Array.from({length:f},s)},[i])}const Kb=de.forwardRef(({noise:f=1,count:i=100,speed:s=1,opacity:o=1,scale:r=1,size:l,color:d,children:m,...h},v)=>{de.useMemo(()=>ff({SparklesImplMaterial:Db}),[]);const p=de.useRef(null),y=pa(D=>D.viewport.dpr),S=k0(r),E=de.useMemo(()=>Float32Array.from(Array.from({length:i},()=>S.map(mf.randFloatSpread)).flat()),[i,...S]),A=Pr(i,l,Math.random),U=Pr(i,o),w=Pr(i,s),X=Pr(i*3,f),j=Pr(d===void 0?i*3:i,N0(d)?d:new wn(d),()=>1);return lr(D=>{p.current&&p.current.material&&(p.current.material.time=D.clock.elapsedTime)}),de.useImperativeHandle(v,()=>p.current,[]),de.createElement("points",Sn({key:`particle-${i}-${JSON.stringify(r)}`},h,{ref:p}),de.createElement("bufferGeometry",null,de.createElement("bufferAttribute",{attach:"attributes-position",args:[E,3]}),de.createElement("bufferAttribute",{attach:"attributes-size",args:[A,1]}),de.createElement("bufferAttribute",{attach:"attributes-opacity",args:[U,1]}),de.createElement("bufferAttribute",{attach:"attributes-speed",args:[w,1]}),de.createElement("bufferAttribute",{attach:"attributes-color",args:[j,3]}),de.createElement("bufferAttribute",{attach:"attributes-noise",args:[X,3]})),m||de.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:y,depthWrite:!1}))});export{Xb as B,Zb as C,Qb as E,Gb as L,Yb as M,jb as O,Ib as R,qb as S,Fb as T,Hb as a,Vb as b,Rb as c,Bb as d,Kb as e,Sg as r,Lb as u};
